{"editor": {"id": "422596c1-dda3-4565-888c-d7289d7309c7", "locked": false, "offsetX": 3, "offsetY": -1, "zoom": 100, "gridSize": 0, "layers": [{"id": "849620d4-258a-4805-9dc8-6587a3af1784", "type": "diagram-links", "isSvg": true, "transformed": true, "models": {"66df3430-a7df-4030-95d9-199109c96d95": {"id": "66df3430-a7df-4030-95d9-199109c96d95", "type": "default", "selected": false, "source": "37d94a19-3f8a-40d3-ab47-22b0098bd286", "sourcePort": "b9f99d82-949d-4ae7-bb5a-7beea0d7ec67", "target": "b1825e29-c03e-454c-8cbd-8cb984e00497", "targetPort": "ef6af04e-bb93-4b55-93c3-a4fcec5f76f8", "points": [{"id": "3e67bbd4-207b-43d3-b965-b45168596d09", "type": "point", "x": 407.5, "y": 509.5}, {"id": "84135f0d-f022-4c31-90c7-0810925406dd", "type": "point", "x": 552.5, "y": 507.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "aabf0901-dfd0-483e-8186-8f4d9c629bb9": {"id": "aabf0901-dfd0-483e-8186-8f4d9c629bb9", "type": "default", "selected": false, "source": "b1825e29-c03e-454c-8cbd-8cb984e00497", "sourcePort": "60f79a7d-bb2d-4ec8-baa2-f876ec270e5f", "target": "61d7d75c-71ac-4036-bd71-3737e0916a83", "targetPort": "10e2b606-57f1-495c-a33f-d2d583dcf9a1", "points": [{"id": "b4b2eb6a-0cab-48d6-bd46-1ef83f425a5d", "type": "point", "x": 667.5, "y": 507.5}, {"id": "d4eec9b0-7e16-42e7-98a4-a2ab3955ce5e", "type": "point", "x": 795.5, "y": 465.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "e414bfbd-9149-466a-8ab0-14f79f1b1290": {"id": "e414bfbd-9149-466a-8ab0-14f79f1b1290", "type": "default", "selected": false, "source": "b1825e29-c03e-454c-8cbd-8cb984e00497", "sourcePort": "b69771bd-e56d-4d65-8244-d7f180d8fb9d", "target": "6299793d-3366-4b9a-bbc5-29cbecf81036", "targetPort": "7012334d-7962-417e-a688-5c2ce72bfc33", "points": [{"id": "9e5d1be9-42e9-443d-ab77-595236adf189", "type": "point", "x": 667.5, "y": 465.5}, {"id": "39e6bf61-1e04-4c51-ba9b-2c973f7c8a9e", "type": "point", "x": 780.5, "y": 306.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}}}, {"id": "2d5e23f8-44e2-49f8-931e-a86adbc0f385", "type": "diagram-nodes", "isSvg": false, "transformed": true, "models": {"b1825e29-c03e-454c-8cbd-8cb984e00497": {"id": "b1825e29-c03e-454c-8cbd-8cb984e00497", "type": "block.package", "selected": true, "x": 543, "y": 440, "ports": [{"id": "235bcb9e-d220-4f64-953b-c148f6dec1b0", "type": "port.input", "x": 545, "y": 458, "name": "3680762a-e4d0-4a2f-8315-22db96c2f120", "alignment": "left", "parentNode": "b1825e29-c03e-454c-8cbd-8cb984e00497", "links": [], "in": true, "label": "Enable", "hideLabel": false}, {"id": "ef6af04e-bb93-4b55-93c3-a4fcec5f76f8", "type": "port.input", "x": 545, "y": 500, "name": "3a59c566-ea5a-4f28-9523-004c754cdac9", "alignment": "left", "parentNode": "b1825e29-c03e-454c-8cbd-8cb984e00497", "links": ["66df3430-a7df-4030-95d9-199109c96d95"], "in": true, "label": "Img IN", "hideLabel": false}, {"id": "b69771bd-e56d-4d65-8244-d7f180d8fb9d", "type": "port.output", "x": 660, "y": 458, "name": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "alignment": "right", "parentNode": "b1825e29-c03e-454c-8cbd-8cb984e00497", "links": ["e414bfbd-9149-466a-8ab0-14f79f1b1290"], "in": false, "label": "Img OUT", "hideLabel": false}, {"id": "60f79a7d-bb2d-4ec8-baa2-f876ec270e5f", "type": "port.output", "x": 660, "y": 500, "name": "fdde5749-5980-4f30-9ae9-b488600d3b38", "alignment": "right", "parentNode": "b1825e29-c03e-454c-8cbd-8cb984e00497", "links": ["aabf0901-dfd0-483e-8186-8f4d9c629bb9"], "in": false, "label": "Results", "hideLabel": false}], "data": {}, "model": {"id": "61f178bc-18a3-44f6-b9f2-819321aca469", "locked": true, "offsetX": 21, "offsetY": -56, "zoom": 100, "gridSize": 0, "layers": [{"id": "f198d948-42b5-4cc2-8b11-fe072af4deeb", "type": "diagram-links", "isSvg": true, "transformed": true, "models": {"8ca305f5-7cea-4c91-bd7e-0ff4cc87eedb": {"id": "8ca305f5-7cea-4c91-bd7e-0ff4cc87eedb", "type": "default", "selected": false, "source": "3a59c566-ea5a-4f28-9523-004c754cdac9", "sourcePort": "ba78b537-d107-4f76-97e0-82759a3d6346", "target": "2915186e-9674-4fef-a81c-fd520d0a5428", "targetPort": "db24c4f4-c4e5-4582-a6c1-a2ed77c75f3a", "points": [{"id": "e16a753e-83ee-4a1a-9e43-c99a2c410660", "type": "point", "x": 377.5, "y": 416.5}, {"id": "96452aa7-303f-40d3-ae41-ce6bb3563ae6", "type": "point", "x": 437.5, "y": 287.828125}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "2acadca4-5c6f-4ba0-9bc5-bfe4521e4cf2": {"id": "2acadca4-5c6f-4ba0-9bc5-bfe4521e4cf2", "type": "default", "selected": false, "source": "3680762a-e4d0-4a2f-8315-22db96c2f120", "sourcePort": "a29a2c0d-b3fc-40a6-842c-1f5d96080b9d", "target": "2915186e-9674-4fef-a81c-fd520d0a5428", "targetPort": "17c7b261-0a21-4b5a-824a-5244df64ee85", "points": [{"id": "34866d0b-10bd-4265-a152-5810ce01bd70", "type": "point", "x": 385.5, "y": 620.5}, {"id": "0a4de0b2-52c3-4ced-a7db-29bc03704741", "type": "point", "x": 437.5, "y": 403.15625}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "a31c6d73-4e14-4779-a25a-8c626f22037c": {"id": "a31c6d73-4e14-4779-a25a-8c626f22037c", "type": "default", "selected": false, "source": "2915186e-9674-4fef-a81c-fd520d0a5428", "sourcePort": "43b67277-86c6-4a5f-88d1-eddd4b402074", "target": "fdde5749-5980-4f30-9ae9-b488600d3b38", "targetPort": "2d0347f8-274a-43f0-9dcd-0d26e8187fc2", "points": [{"id": "8dde4eef-55b5-44d1-b168-ec72b66b4008", "type": "point", "x": 1261.390625, "y": 403.15625}, {"id": "8f0dccac-b65d-4a25-b46d-29060b8fe821", "type": "point", "x": 1361.5, "y": 601.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "75db0c83-ac0c-4a75-8709-4fee02a3cb98": {"id": "75db0c83-ac0c-4a75-8709-4fee02a3cb98", "type": "default", "selected": false, "source": "2915186e-9674-4fef-a81c-fd520d0a5428", "sourcePort": "559d7b32-8861-4daa-80f6-c9a81ea7867d", "target": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "targetPort": "222a1a1a-aa77-41e7-a440-30f9c700f7ef", "points": [{"id": "bdcc5ffe-8f6d-4cdb-8fd1-d70190647ce4", "type": "point", "x": 1261.390625, "y": 287.828125}, {"id": "6972b4e5-708a-48ac-9818-cd1d557456f6", "type": "point", "x": 1343.5, "y": 416.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}}}, {"id": "099b6333-8ae3-4c4a-a3eb-d861374a1159", "type": "diagram-nodes", "isSvg": false, "transformed": true, "models": {"3680762a-e4d0-4a2f-8315-22db96c2f120": {"id": "3680762a-e4d0-4a2f-8315-22db96c2f120", "type": "basic.input", "selected": false, "x": 292, "y": 594, "ports": [{"id": "a29a2c0d-b3fc-40a6-842c-1f5d96080b9d", "type": "port.output", "x": 378, "y": 613, "name": "input-out", "alignment": "right", "parentNode": "3680762a-e4d0-4a2f-8315-22db96c2f120", "links": ["2acadca4-5c6f-4ba0-9bc5-bfe4521e4cf2"], "in": false, "label": "Enable", "hideLabel": true}], "data": {"name": "Enable"}}, "2915186e-9674-4fef-a81c-fd520d0a5428": {"id": "2915186e-9674-4fef-a81c-fd520d0a5428", "type": "basic.code", "selected": false, "x": 429, "y": 121, "ports": [{"id": "db24c4f4-c4e5-4582-a6c1-a2ed77c75f3a", "type": "port.input", "x": 430, "y": 280.328125, "name": "Img IN", "alignment": "left", "parentNode": "2915186e-9674-4fef-a81c-fd520d0a5428", "links": ["8ca305f5-7cea-4c91-bd7e-0ff4cc87eedb"], "in": true, "label": "Img IN", "hideLabel": false}, {"id": "17c7b261-0a21-4b5a-824a-5244df64ee85", "type": "port.input", "x": 430, "y": 395.65625, "name": "Enable", "alignment": "left", "parentNode": "2915186e-9674-4fef-a81c-fd520d0a5428", "links": ["2acadca4-5c6f-4ba0-9bc5-bfe4521e4cf2"], "in": true, "label": "Enable", "hideLabel": false}, {"id": "559d7b32-8861-4daa-80f6-c9a81ea7867d", "type": "port.output", "x": 1253.890625, "y": 280.328125, "name": "Img OUT", "alignment": "right", "parentNode": "2915186e-9674-4fef-a81c-fd520d0a5428", "links": ["75db0c83-ac0c-4a75-8709-4fee02a3cb98"], "in": false, "label": "Img OUT", "hideLabel": false}, {"id": "43b67277-86c6-4a5f-88d1-eddd4b402074", "type": "port.output", "x": 1253.890625, "y": 395.65625, "name": "Results", "alignment": "right", "parentNode": "2915186e-9674-4fef-a81c-fd520d0a5428", "links": ["a31c6d73-4e14-4779-a25a-8c626f22037c"], "in": false, "label": "Results", "hideLabel": false}], "data": {"code": "import cv2\nimport numpy as np\nimport time\n\nclassName = []\nclassesFile = 'utils/models/yolov3/yolov3.txt'\n\nwith open(classesFile,'rt') as f:\n    className = f.read().rstrip('\\n').split('\\n')\n\ndef findObjects(outputs, img):\n\n    confThreshold = 0.3\n    nmsThreshold = 0.3\n    hT, wT, cT = img.shape\n    bbox = []\n    classIds = []\n    confs = []\n\n    for output in outputs:\n    \n        for det in output:\n            scores = det[5:]\n            classId = np.argmax(scores)\n            confidence = scores[classId]\n            if confidence > confThreshold:\n                w,h = int(det[2] * wT), int(det[3] * hT)\n                x,y = int((det[0]*wT) - w/2), int((det[1]*hT) - h/2)\n                bbox.append([x,y,w,h])\n                classIds.append(classId)\n                confs.append(float(confidence))\n    \n    indices = cv2.dnn.NMSBoxes(bbox, confs, confThreshold, nmsThreshold)\n    \n    for i in range(len(indices)):\n        box = bbox[i]\n        x,y,w,h = box[0],box[1],box[2],box[3]\n        cv2.rectangle(img,(x,y),(x+w, y+h),(255,0,255),2)\n        cv2.putText(img,f'{className[classIds[i]].upper()} {int(confs[i]*100)}%',\n                    (x,y-10),cv2.FONT_HERSHEY_SIMPLEX, 0.6, (255,0,255),2)\n           \ndef main(inputs, outputs, parameters, synchronise):\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n    \n    whT = 320\n\n    modelConfiguration = 'utils/models/yolov3/yolov3-tiny.cfg'\n    modelWeights = 'utils/models/yolov3/yolov3-tiny.weights'\n\n    net = cv2.dnn.readNetFromDarknet(modelConfiguration,modelWeights)\n    net.setPreferableBackend(cv2.dnn.DNN_BACKEND_OPENCV)\n    net.setPreferableTarget(cv2.dnn.DNN_TARGET_CPU)\n\n    while(auto_enable or inputs.read_number('Enable')):\n        frame = inputs.read_image(\"Img IN\")\n        \n        if frame is None:\n            continue\n\n        #converting img to blob\n        blob = cv2.dnn.blobFromImage(frame, 1/255,(whT,whT),[0,0,0],1, crop = False)\n\n        #Passing blob to network\n        net.setInput(blob)\n\n        layerNames = net.getLayerNames()\n        outputNames = []\n        outLayers = net.getUnconnectedOutLayers()\n        \n        for i in range(len(outLayers)):\n            outputNames.append(layerNames[outLayers[i] - 1])\n\n        #forward Pass\n        results = net.forward(outputNames)\n        findObjects(results,frame)\n\n        print(\"results -> \")\n        print(results)\n\n        \n        outputs.share_image(\"Img OUT\", frame)\n        outputs.share_array(\"Results\", results)\n", "frequency": "30", "params": [], "ports": {"in": [{"name": "Img IN"}, {"name": "Enable"}], "out": [{"name": "Img OUT"}, {"name": "Results"}]}, "size": {"width": "750px", "height": "300px"}}}, "3a59c566-ea5a-4f28-9523-004c754cdac9": {"id": "3a59c566-ea5a-4f28-9523-004c754cdac9", "type": "basic.input", "selected": false, "x": 284, "y": 390, "ports": [{"id": "ba78b537-d107-4f76-97e0-82759a3d6346", "type": "port.output", "x": 370, "y": 409, "name": "input-out", "alignment": "right", "parentNode": "3a59c566-ea5a-4f28-9523-004c754cdac9", "links": ["8ca305f5-7cea-4c91-bd7e-0ff4cc87eedb"], "in": false, "label": "Img IN", "hideLabel": true}], "data": {"name": "Img IN"}}, "0284379d-f0d9-4099-a08b-15cdb9c65fbc": {"id": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "type": "basic.output", "selected": false, "x": 1335, "y": 390, "ports": [{"id": "222a1a1a-aa77-41e7-a440-30f9c700f7ef", "type": "port.input", "x": 1336, "y": 409, "name": "output-in", "alignment": "left", "parentNode": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "links": ["75db0c83-ac0c-4a75-8709-4fee02a3cb98"], "in": true, "label": "output-in", "hideLabel": true}], "data": {"name": "Img OUT"}}, "fdde5749-5980-4f30-9ae9-b488600d3b38": {"id": "fdde5749-5980-4f30-9ae9-b488600d3b38", "type": "basic.output", "selected": true, "x": 1352, "y": 574, "ports": [{"id": "2d0347f8-274a-43f0-9dcd-0d26e8187fc2", "type": "port.input", "x": 1354, "y": 594, "name": "output-in", "alignment": "left", "parentNode": "fdde5749-5980-4f30-9ae9-b488600d3b38", "links": ["a31c6d73-4e14-4779-a25a-8c626f22037c"], "in": true, "label": "output-in", "hideLabel": true}], "data": {"name": "Results"}}}}]}, "info": {"name": "ObjectDetector", "version": "2.0.0", "description": "Detects Objects in an Image", "author": "Faizan Ahmed", "image": "data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTAgNTEwIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMCA1MTAiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgaWQ9IlhNTElEXzI3MF8iPjxwYXRoIGlkPSJYTUxJRF8zOTdfIiBkPSJtMjQwIDB2NzUuNjJsNy41IDYuMjk3IDcuNS02LjkxNyAzLjY3My0zNi4xMDYtMy42NzMtMzguODk0Yy01LjI0NiAwLTkuNzU0IDAtMTUgMHoiIGZpbGw9IiNlNjM5NTAiLz48cGF0aCBpZD0iWE1MSURfMzYxXyIgZD0ibTI3MCAwYy01LjI0NiAwLTkuNzU0IDAtMTUgMHY3NWw3LjUgNi45MTYgNy41LTYuMjk3YzAtMTguOTg5IDAtNjMuNDM2IDAtNzUuNjE5eiIgZmlsbD0iI2NkMDAwMCIvPjxwYXRoIGlkPSJYTUxJRF8zNThfIiBkPSJtMjQwIDQzNC4zNzh2NzUuNjIyaDE1bDUuODMzLTM1LjMzMy01LjgzMy0zOS42NjctNy41LTcuNjY3eiIgZmlsbD0iI2U2Mzk1MCIvPjxwYXRoIGlkPSJYTUxJRF8zNTVfIiBkPSJtMjcwIDQzNC4zNzgtNy41LTcuMDQ1LTcuNSA3LjY2N3Y3NWgxNWMwLTEyLjAwOSAwLTU2LjYzMiAwLTc1LjYyMnoiIGZpbGw9IiNjZDAwMDAiLz48cGF0aCBpZD0iWE1MSURfMzUyXyIgZD0ibTQzNC4zODEgMjcwaDc1LjYxOWMwLTEwLjQ5MiAwLTE5LjUwOCAwLTMwLTEyLjAwOSAwLTU2LjYyOSAwLTc1LjYxOSAwbC0xNC4zODEgMTV6IiBmaWxsPSIjY2QwMDAwIi8+PHBhdGggaWQ9IlhNTElEXzM0OV8iIGQ9Im03NS42MjIgMjcwYy0xOC45OSAwLTYzLjQzOSAwLTc1LjYyMiAwIDAtMTAuNDkyIDAtMTkuNTA4IDAtMzBoNzUuNjIxbDE0LjM3OSAxNXoiIGZpbGw9IiNlNjM5NTAiLz48cGF0aCBpZD0iWE1MSURfMzQ1XyIgZD0ibTc1IDI1NWMwIDk5LjI1IDgwLjc0NSAxODAgMTgwIDE4MGwxNS0xODAtMTUtMTgwYy05OS4yNSAwLTE4MCA4MC43NDUtMTgwIDE4MHoiIGZpbGw9IiNmZjYzN2IiLz48cGF0aCBpZD0iWE1MSURfMzQyXyIgZD0ibTQzNSAyNTVjMC05OS4yNDktODAuNzQ1LTE4MC0xODAtMTgwdjM2MGM5OS4yNDkgMCAxODAtODAuNzQ1IDE4MC0xODB6IiBmaWxsPSIjZTYzOTUwIi8+PHBhdGggaWQ9IlhNTElEXzMyN18iIGQ9Im0xMDUgMjU1YzAgODIuNzA3IDY3LjI4NyAxNTAgMTUwIDE1MGwxNS0xNTAtMTUtMTUwYy04Mi43MDggMC0xNTAgNjcuMjg3LTE1MCAxNTB6IiBmaWxsPSIjZTZmMmZmIi8+PHBhdGggaWQ9IlhNTElEXzMyM18iIGQ9Im00MDUgMjU1YzAtODIuNzA4LTY3LjI4Ny0xNTAtMTUwLTE1MHYzMDBjODIuNzA3IDAgMTUwLTY3LjI4OCAxNTAtMTUweiIgZmlsbD0iI2NkZiIvPjxwYXRoIGlkPSJYTUxJRF8zMjBfIiBkPSJtNDgwIDMwdjkwaDMwYzAtMTQuNTE4IDAtMTA1LjM4NiAwLTEyMC0xNC41MTggMC0xMDUuMzg2IDAtMTIwIDB2MzB6IiBmaWxsPSIjY2RmIi8+PHBhdGggaWQ9IlhNTElEXzMxNV8iIGQ9Im0zMCAxMjBjLTEwLjQ5MiAwLTE5LjUwOCAwLTMwIDAgMC0xNC41MTggMC0xMDUuMzg2IDAtMTIwaDEyMHYzMGMtMTAuODg5IDAtNzkuMDQgMC05MCAweiIgZmlsbD0iI2U2ZjJmZiIvPjxwYXRoIGlkPSJYTUxJRF8zMTJfIiBkPSJtNDgwIDQ4MGMtMTAuODg5IDAtNzkuMDQgMC05MCAwdjMwaDEyMGMwLTE0LjUxOCAwLTEwNS4zODYgMC0xMjAtMTAuNDkyIDAtMTkuNTA4IDAtMzAgMHoiIGZpbGw9IiNjZGYiLz48cGF0aCBpZD0iWE1MSURfMzA5XyIgZD0ibTEyMCA1MTBjLTE0LjUxOCAwLTEwNS4zODYgMC0xMjAgMCAwLTE0LjUxOCAwLTEwNS4zODYgMC0xMjBoMzB2OTBoOTB6IiBmaWxsPSIjZTZmMmZmIi8+PHBhdGggaWQ9IlhNTElEXzMwMF8iIGQ9Im0yMTMuNjc3IDIzNC44MjRjLTE0LjUwNSA3LjIwNi0yNC43NDYgMTYuNzItMzEuOTU0IDI2LjIwMi0xNC4zNzkgMTguOTE0LTE2LjY5MSAzNy42OTgtMTYuNzIzIDM3Ljc2NnYzMS4yMDhoOTBsMTUtMzcuNTAxLTE1LTM3LjUwMXoiIGZpbGw9IiM2Y2YiLz48cGF0aCBpZD0iWE1MSURfMjk2XyIgZD0ibTM0NSAyOTguNzkyYy0uMTAzLS4yMjQtMi4wMzQtMTguOTI3LTE2LjU1NS0zNy44NzEtNy4xODgtOS4zNzctMTcuNDYtMTguODEzLTMyLjEyMi0yNi4wOTZsLTQxLjMyMyAyMC4xNzN2MzcuNTAxIDM3LjUwMWg5MGMwLTEwLjkxNSAwLTIwLjI5MyAwLTMxLjIwOHoiIGZpbGw9IiM0NTk2ZTYiLz48cGF0aCBpZD0iWE1MSURfMjkyXyIgZD0ibTIwMi41IDIwMi41YzAgMjguOTQ4IDIzLjU1IDUyLjUgNTIuNSA1Mi41bDE1LTUyLjUtMTUtNTIuNWMtMjguOTQ4IDAtNTIuNSAyMy41NS01Mi41IDUyLjV6IiBmaWxsPSIjZmRjIi8+PHBhdGggaWQ9IlhNTElEXzI4N18iIGQ9Im0zMDcuNSAyMDIuNWMwLTI4Ljk0Ny0yMy41NS01Mi41LTUyLjUtNTIuNXYxMDVjMjguOTQ3IDAgNTIuNS0yMy41NSA1Mi41LTUyLjV6IiBmaWxsPSIjZmZiZmIzIi8+PC9nPjwvc3ZnPg=="}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "3680762a-e4d0-4a2f-8315-22db96c2f120", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 292, "y": 594}}, {"id": "2915186e-9674-4fef-a81c-fd520d0a5428", "type": "basic.code", "data": {"code": "import cv2\nimport numpy as np\nimport time\n\nclassName = []\nclassesFile = 'utils/models/yolov3/yolov3.txt'\n\nwith open(classesFile,'rt') as f:\n    className = f.read().rstrip('\\n').split('\\n')\n\ndef findObjects(outputs, img):\n\n    confThreshold = 0.3\n    nmsThreshold = 0.3\n    hT, wT, cT = img.shape\n    bbox = []\n    classIds = []\n    confs = []\n\n    for output in outputs:\n    \n        for det in output:\n            scores = det[5:]\n            classId = np.argmax(scores)\n            confidence = scores[classId]\n            if confidence > confThreshold:\n                w,h = int(det[2] * wT), int(det[3] * hT)\n                x,y = int((det[0]*wT) - w/2), int((det[1]*hT) - h/2)\n                bbox.append([x,y,w,h])\n                classIds.append(classId)\n                confs.append(float(confidence))\n    \n    indices = cv2.dnn.NMSBoxes(bbox, confs, confThreshold, nmsThreshold)\n    \n    for i in range(len(indices)):\n        box = bbox[i]\n        x,y,w,h = box[0],box[1],box[2],box[3]\n        cv2.rectangle(img,(x,y),(x+w, y+h),(255,0,255),2)\n        cv2.putText(img,f'{className[classIds[i]].upper()} {int(confs[i]*100)}%',\n                    (x,y-10),cv2.FONT_HERSHEY_SIMPLEX, 0.6, (255,0,255),2)\n           \ndef main(inputs, outputs, parameters, synchronise):\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n    \n    whT = 320\n\n    modelConfiguration = 'utils/models/yolov3/yolov3-tiny.cfg'\n    modelWeights = 'utils/models/yolov3/yolov3-tiny.weights'\n\n    net = cv2.dnn.readNetFromDarknet(modelConfiguration,modelWeights)\n    net.setPreferableBackend(cv2.dnn.DNN_BACKEND_OPENCV)\n    net.setPreferableTarget(cv2.dnn.DNN_TARGET_CPU)\n\n    while(auto_enable or inputs.read_number('Enable')):\n        frame = inputs.read_image(\"Img IN\")\n        \n        if frame is None:\n            continue\n\n        #converting img to blob\n        blob = cv2.dnn.blobFromImage(frame, 1/255,(whT,whT),[0,0,0],1, crop = False)\n\n        #Passing blob to network\n        net.setInput(blob)\n\n        layerNames = net.getLayerNames()\n        outputNames = []\n        outLayers = net.getUnconnectedOutLayers()\n        \n        for i in range(len(outLayers)):\n            outputNames.append(layerNames[outLayers[i] - 1])\n\n        #forward Pass\n        results = net.forward(outputNames)\n        findObjects(results,frame)\n\n        print(\"results -> \")\n        print(results)\n\n        \n        outputs.share_image(\"Img OUT\", frame)\n        outputs.share_array(\"Results\", results)\n", "frequency": "30", "params": [], "ports": {"in": [{"name": "Img IN"}, {"name": "Enable"}], "out": [{"name": "Img OUT"}, {"name": "Results"}]}, "size": {"width": "750px", "height": "300px"}}, "position": {"x": 429, "y": 121}}, {"id": "3a59c566-ea5a-4f28-9523-004c754cdac9", "type": "basic.input", "data": {"name": "Img IN"}, "position": {"x": 284, "y": 390}}, {"id": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "type": "basic.output", "data": {"name": "Img OUT"}, "position": {"x": 1335, "y": 390}}, {"id": "fdde5749-5980-4f30-9ae9-b488600d3b38", "type": "basic.output", "data": {"name": "Results"}, "position": {"x": 1352, "y": 574}}], "wires": [{"source": {"block": "3a59c566-ea5a-4f28-9523-004c754cdac9", "port": "input-out", "name": "Img IN"}, "target": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Img IN", "name": "Img IN"}}, {"source": {"block": "3680762a-e4d0-4a2f-8315-22db96c2f120", "port": "input-out", "name": "Enable"}, "target": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Enable", "name": "Enable"}}, {"source": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Results", "name": "Results"}, "target": {"block": "fdde5749-5980-4f30-9ae9-b488600d3b38", "port": "output-in", "name": "output-in"}}, {"source": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Img OUT", "name": "Img OUT"}, "target": {"block": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "port": "output-in", "name": "output-in"}}]}}}, "37d94a19-3f8a-40d3-ab47-22b0098bd286": {"id": "37d94a19-3f8a-40d3-ab47-22b0098bd286", "type": "block.package", "selected": false, "x": 284, "y": 464, "ports": [{"id": "b9f99d82-949d-4ae7-bb5a-7beea0d7ec67", "type": "port.output", "x": 400, "y": 502, "name": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "alignment": "right", "parentNode": "37d94a19-3f8a-40d3-ab47-22b0098bd286", "links": ["66df3430-a7df-4030-95d9-199109c96d95"], "in": false, "label": "Img", "hideLabel": false}, {"id": "893ba943-4b53-4b2a-b63c-a7ab023c137e", "type": "port.input", "x": 285, "y": 502, "name": "9b2c8136-5657-4204-b999-60019fa9c5e5", "alignment": "left", "parentNode": "37d94a19-3f8a-40d3-ab47-22b0098bd286", "links": [], "in": true, "label": "Enable", "hideLabel": false}], "data": {}, "model": {"id": "6eab41ed-7b8c-4490-89dd-47ddf297a2bb", "locked": true, "offsetX": 0, "offsetY": 0, "zoom": 100, "gridSize": 0, "layers": [{"id": "db6bab49-b903-450d-ae20-556122b31edb", "type": "diagram-links", "isSvg": true, "transformed": true, "models": {"950da9a7-9f76-4615-942e-a3ffa725102a": {"id": "950da9a7-9f76-4615-942e-a3ffa725102a", "type": "default", "selected": false, "source": "81a5ded8-2c3d-4e94-8269-0978733af109", "sourcePort": "cae71fac-2888-443f-9746-3c16c16fb9be", "target": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "targetPort": "9ce8ac58-40c4-4b0b-a570-750ae8a293fe", "points": [{"id": "7dfdabdf-a7f9-400d-b0bb-b9d3e5cccad8", "type": "point", "x": 1283.59375, "y": 444.5}, {"id": "7bb8808f-d01a-4916-8376-40aa5a582b27", "type": "point", "x": 1452.5, "y": 407.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "1adf3351-5457-4ddd-817f-37634df590f8": {"id": "1adf3351-5457-4ddd-817f-37634df590f8", "type": "default", "selected": false, "source": "9b2c8136-5657-4204-b999-60019fa9c5e5", "sourcePort": "005c49ba-05a4-4872-8324-56ede7d28291", "target": "81a5ded8-2c3d-4e94-8269-0978733af109", "targetPort": "a6a9cb43-5e85-4fa9-b4dd-b757aafb5f09", "points": [{"id": "1a1d9723-d8c3-460c-8b54-8dfd218f95ce", "type": "point", "x": 311.5, "y": 362.5}, {"id": "de824d3d-61ec-4c02-9ce0-a6bda1bb5797", "type": "point", "x": 454.5, "y": 444.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}}}, {"id": "1d15be77-4b43-4c28-8267-7e494ac02519", "type": "diagram-nodes", "isSvg": false, "transformed": true, "models": {"81a5ded8-2c3d-4e94-8269-0978733af109": {"id": "81a5ded8-2c3d-4e94-8269-0978733af109", "type": "basic.code", "selected": false, "x": 446, "y": 120, "ports": [{"id": "a6a9cb43-5e85-4fa9-b4dd-b757aafb5f09", "type": "port.input", "x": 447, "y": 437, "name": "Enable", "alignment": "left", "parentNode": "81a5ded8-2c3d-4e94-8269-0978733af109", "links": ["1adf3351-5457-4ddd-817f-37634df590f8"], "in": true, "label": "Enable", "hideLabel": false}, {"id": "cae71fac-2888-443f-9746-3c16c16fb9be", "type": "port.output", "x": 1276.09375, "y": 437, "name": "Img", "alignment": "right", "parentNode": "81a5ded8-2c3d-4e94-8269-0978733af109", "links": ["950da9a7-9f76-4615-942e-a3ffa725102a"], "in": false, "label": "Img", "hideLabel": false}], "data": {"code": "import cv2\n\n\ndef main(inputs, outputs, parameters, synchronise):\n    cap = cv2.VideoCapture(0)\n    auto_enable = False\n    try:\n        enable = inputs.read_number('Enable')\n    except Exception:\n        auto_enable = True\n    try:\n        while cap.isOpened() and (auto_enable or inputs.read_number('Enable')):\n            ret, frame = cap.read()\n            if not ret:\n                continue\n\n            outputs.share_image(\"Img\", frame)\n            synchronise()\n    except Exception as e:\n        print('Error:', e)\n        pass\n    finally:\n        print(\"Exiting\")\n        cap.release()", "frequency": "30", "params": [], "ports": {"in": [{"name": "Enable"}], "out": [{"name": "Img"}]}, "size": {"width": "709px", "height": "300px"}}}, "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee": {"id": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "type": "basic.output", "selected": true, "x": 1443, "y": 380, "ports": [{"id": "9ce8ac58-40c4-4b0b-a570-750ae8a293fe", "type": "port.input", "x": 1445, "y": 400, "name": "output-in", "alignment": "left", "parentNode": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "links": ["950da9a7-9f76-4615-942e-a3ffa725102a"], "in": true, "label": "output-in", "hideLabel": true}], "data": {"name": "Img"}}, "9b2c8136-5657-4204-b999-60019fa9c5e5": {"id": "9b2c8136-5657-4204-b999-60019fa9c5e5", "type": "basic.input", "selected": false, "x": 218, "y": 336, "ports": [{"id": "005c49ba-05a4-4872-8324-56ede7d28291", "type": "port.output", "x": 304, "y": 355, "name": "input-out", "alignment": "right", "parentNode": "9b2c8136-5657-4204-b999-60019fa9c5e5", "links": ["1adf3351-5457-4ddd-817f-37634df590f8"], "in": false, "label": "Enable", "hideLabel": true}], "data": {"name": "Enable"}}}}]}, "info": {"name": "Camera", "version": "2.0.0", "description": "Captures Video Stream from Camera", "author": "Muhammad Taha Suhail, Suhas Gopal", "image": "data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ3MnB0IiB2aWV3Qm94PSIwIC04NyA0NzIgNDcyIiB3aWR0aD0iNDcycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTQ2MiAzNS4xMjEwOTR2MjI3LjgyMDMxMmwtMTIxLjg3ODkwNi02Ni41NTA3ODFoLTEuMjEwOTM4di05NC43MTg3NWgxLjIxMDkzOHptMCAwIiBmaWxsPSIjMDBhY2VhIi8+PHBhdGggZD0ibTMzOC45MTAxNTYgMTk2LjM5MDYyNXY1MS4wMzEyNWMwIDIyLjA4OTg0NC0xNy45MTAxNTYgNDAtNDAgNDBoLTI0OC45MTAxNTZjLTIyLjA4OTg0NCAwLTQwLTE3LjkxMDE1Ni00MC00MHYtMTk3LjQyMTg3NWMwLTIyLjA4OTg0NCAxNy45MTAxNTYtNDAgNDAtNDBoMjQ4LjkxMDE1NmMyMi4wODk4NDQgMCA0MCAxNy45MTAxNTYgNDAgNDB6bTAgMCIgZmlsbD0iIzAwZWZkMSIvPjxwYXRoIGQ9Im00NjcuMTAxNTYyIDI2LjUxOTUzMWMtMy4wMzkwNjItMS44MDA3ODEtNi43OTY4NzQtMS44NjcxODctOS44OTg0MzctLjE3NTc4MWwtMTA4LjI5Njg3NSA1OS4xMzI4MTJ2LTM1LjQ3NjU2MmMtLjAzMTI1LTI3LjYwMTU2Mi0yMi4zOTg0MzgtNDkuOTY4NzUtNTAtNTBoLTI0OC45MDYyNWMtMjcuNjAxNTYyLjAzMTI1LTQ5Ljk2ODc1IDIyLjM5ODQzOC01MCA1MHYxOTcuNDIxODc1Yy4wMzEyNSAyNy41OTc2NTYgMjIuMzk4NDM4IDQ5Ljk2NDg0NCA1MCA1MGgyNDguOTEwMTU2YzI3LjYwMTU2My0uMDM1MTU2IDQ5Ljk2ODc1LTIyLjQwMjM0NCA1MC01MHYtMzQuODM5ODQ0bDEwOC4zMDA3ODIgNTkuMTMyODEzYzMuMDk3NjU2IDEuNjkxNDA2IDYuODU1NDY4IDEuNjI1IDkuODkwNjI0LS4xNzU3ODIgMy4wMzUxNTctMS44MDQ2ODcgNC44OTg0MzgtNS4wNzAzMTIgNC44OTg0MzgtOC42MDE1NjJ2LTIyNy44MTY0MDZjMC0zLjUzMTI1LTEuODYzMjgxLTYuODAwNzgyLTQuODk4NDM4LTguNjAxNTYzem0tMTM4LjE5MTQwNiAyMjAuOTAyMzQ0Yy0uMDE5NTMxIDE2LjU1ODU5NC0xMy40Mzc1IDI5Ljk4MDQ2OS0zMCAzMGgtMjQ4LjkxMDE1NmMtMTYuNTYyNS0uMDE5NTMxLTI5Ljk4MDQ2OS0xMy40NDE0MDYtMzAtMzB2LTE5Ny40MjE4NzVjLjAxOTUzMS0xNi41NjI1IDEzLjQzNzUtMjkuOTgwNDY5IDMwLTMwaDI0OC45MTAxNTZjMTYuNTYyNS4wMTk1MzEgMjkuOTgwNDY5IDEzLjQzNzUgMzAgMzB6bTEyMy4wODk4NDQtMS4zMzU5MzctMTAzLjA4OTg0NC01Ni4yODkwNjN2LTgxLjUzMTI1bDEwMy4wODk4NDQtNTYuMjkyOTY5em0wIDAiIGZpbGw9IiMwODM4NjMiLz48L3N2Zz4="}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "81a5ded8-2c3d-4e94-8269-0978733af109", "type": "basic.code", "data": {"code": "import cv2\n\n\ndef main(inputs, outputs, parameters, synchronise):\n    cap = cv2.VideoCapture(0)\n    auto_enable = False\n    try:\n        enable = inputs.read_number('Enable')\n    except Exception:\n        auto_enable = True\n    try:\n        while cap.isOpened() and (auto_enable or inputs.read_number('Enable')):\n            ret, frame = cap.read()\n            if not ret:\n                continue\n\n            outputs.share_image(\"Img\", frame)\n            synchronise()\n    except Exception as e:\n        print('Error:', e)\n        pass\n    finally:\n        print(\"Exiting\")\n        cap.release()", "frequency": "30", "params": [], "ports": {"in": [{"name": "Enable"}], "out": [{"name": "Img"}]}, "size": {"width": "709px", "height": "300px"}}, "position": {"x": 446, "y": 120}}, {"id": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "type": "basic.output", "data": {"name": "Img"}, "position": {"x": 1443, "y": 380}}, {"id": "9b2c8136-5657-4204-b999-60019fa9c5e5", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 218, "y": 336}}], "wires": [{"source": {"block": "81a5ded8-2c3d-4e94-8269-0978733af109", "port": "Img", "name": "Img"}, "target": {"block": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "port": "output-in", "name": "output-in"}}, {"source": {"block": "9b2c8136-5657-4204-b999-60019fa9c5e5", "port": "input-out", "name": "Enable"}, "target": {"block": "81a5ded8-2c3d-4e94-8269-0978733af109", "port": "Enable", "name": "Enable"}}]}}}, "61d7d75c-71ac-4036-bd71-3737e0916a83": {"id": "61d7d75c-71ac-4036-bd71-3737e0916a83", "type": "block.package", "selected": false, "x": 787, "y": 441, "ports": [{"id": "10e2b606-57f1-495c-a33f-d2d583dcf9a1", "type": "port.input", "x": 788, "y": 458, "name": "51f521b8-3b84-403c-8678-3fcc91299108", "alignment": "left", "parentNode": "61d7d75c-71ac-4036-bd71-3737e0916a83", "links": ["aabf0901-dfd0-483e-8186-8f4d9c629bb9"], "in": true, "label": "Results", "hideLabel": false}, {"id": "d520373f-468c-4e9c-8e61-29e2c32271ba", "type": "port.input", "x": 788, "y": 500, "name": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "alignment": "left", "parentNode": "61d7d75c-71ac-4036-bd71-3737e0916a83", "links": [], "in": true, "label": "Enable", "hideLabel": false}, {"id": "b1193774-4d56-4fcd-9e9e-7a8da3be0392", "type": "port.output", "x": 903, "y": 458, "name": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "alignment": "right", "parentNode": "61d7d75c-71ac-4036-bd71-3737e0916a83", "links": [], "in": false, "label": "Rotation", "hideLabel": false}, {"id": "eba4a3d0-1e8b-45ff-96f8-7389d00a9d1b", "type": "port.output", "x": 903, "y": 500, "name": "a58fd1f6-5d75-469a-9e53-414d20080e56", "alignment": "right", "parentNode": "61d7d75c-71ac-4036-bd71-3737e0916a83", "links": [], "in": false, "label": "Follow", "hideLabel": false}], "data": {}, "model": {"id": "329a16f1-9e9e-4a2f-bc86-33d334299c63", "locked": false, "offsetX": 1, "offsetY": -3, "zoom": 100, "gridSize": 0, "layers": [{"id": "57cbf0a5-e316-4794-bbe6-90dbb6f77037", "type": "diagram-links", "isSvg": true, "transformed": true, "models": {"fa0642f3-0101-4ed5-a424-82e03cd67bb7": {"id": "fa0642f3-0101-4ed5-a424-82e03cd67bb7", "type": "default", "selected": false, "source": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "sourcePort": "1367980e-7bbe-4348-8c8e-2fab1aa35c40", "target": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "targetPort": "929fee16-926b-4f9a-9efc-8644d5c54e0d", "points": [{"id": "a87db699-f7d4-4cbc-89d8-7f8f128236a4", "type": "point", "x": 465.5, "y": 269.5}, {"id": "d52a1c95-037d-4bad-8d8e-4cf666486164", "type": "point", "x": 569.5, "y": 347.15625}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "e0876cc2-e10d-44ad-924d-4c872df5affd": {"id": "e0876cc2-e10d-44ad-924d-4c872df5affd", "type": "default", "selected": false, "source": "51f521b8-3b84-403c-8678-3fcc91299108", "sourcePort": "b554422a-25ef-44d1-8c7f-92bf3db0364c", "target": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "targetPort": "8af24b71-ec13-4756-a386-35d65504c030", "points": [{"id": "1de51105-af39-49a5-a254-d22b2005122c", "type": "point", "x": 477.5, "y": 473.5}, {"id": "f53d070e-26f2-4d74-a3a2-c044e4c96bed", "type": "point", "x": 569.5, "y": 542.8125}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "5274c44d-522f-47df-96db-76ee9e0d3816": {"id": "5274c44d-522f-47df-96db-76ee9e0d3816", "type": "default", "selected": false, "source": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "sourcePort": "4e54e825-ba03-4fab-9997-0910c68b5f94", "target": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "targetPort": "c530f494-2406-4e15-abf3-59be68de4e8f", "points": [{"id": "51ae7c8c-aa44-4b68-b6e4-e1b984738f0a", "type": "point", "x": 1256.96875, "y": 347.15625}, {"id": "34d621a9-fcce-4002-bb26-b064f719be99", "type": "point", "x": 1369.5, "y": 207.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "21c768c1-0fb8-4ab8-ae12-2cf6ecfa34b3": {"id": "21c768c1-0fb8-4ab8-ae12-2cf6ecfa34b3", "type": "default", "selected": false, "source": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "sourcePort": "3e7820c8-a209-4852-bd96-b668ecac535e", "target": "a58fd1f6-5d75-469a-9e53-414d20080e56", "targetPort": "eb089175-ed16-497b-87b0-f713880e680d", "points": [{"id": "83aaa61e-8ee2-48dd-ac53-b92c98f6e7c6", "type": "point", "x": 1256.96875, "y": 542.8125}, {"id": "87a9f0ac-63d2-4e91-a280-5ff8b9798fd3", "type": "point", "x": 1357.5, "y": 487.5}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}}}, {"id": "a658c87d-8a2d-45fc-ba29-6700c7a69303", "type": "diagram-nodes", "isSvg": false, "transformed": true, "models": {"51f521b8-3b84-403c-8678-3fcc91299108": {"id": "51f521b8-3b84-403c-8678-3fcc91299108", "type": "basic.input", "selected": false, "x": 384, "y": 447, "ports": [{"id": "b554422a-25ef-44d1-8c7f-92bf3db0364c", "type": "port.output", "x": 470, "y": 466, "name": "input-out", "alignment": "right", "parentNode": "51f521b8-3b84-403c-8678-3fcc91299108", "links": ["e0876cc2-e10d-44ad-924d-4c872df5affd"], "in": false, "label": "Results", "hideLabel": true}], "data": {"name": "Results"}}, "3274278f-3c7d-4c9d-9d57-fc332caac5c7": {"id": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "type": "basic.input", "selected": false, "x": 372, "y": 243, "ports": [{"id": "1367980e-7bbe-4348-8c8e-2fab1aa35c40", "type": "port.output", "x": 458, "y": 262, "name": "input-out", "alignment": "right", "parentNode": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "links": ["fa0642f3-0101-4ed5-a424-82e03cd67bb7"], "in": false, "label": "Enable", "hideLabel": true}], "data": {"name": "Enable"}}, "8bbffc26-8c7e-4243-9e2c-42353ad5e733": {"id": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "type": "basic.code", "selected": true, "x": 560, "y": 99, "ports": [{"id": "929fee16-926b-4f9a-9efc-8644d5c54e0d", "type": "port.input", "x": 562, "y": 339.65625, "name": "Enable", "alignment": "left", "parentNode": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "links": ["fa0642f3-0101-4ed5-a424-82e03cd67bb7"], "in": true, "label": "Enable", "hideLabel": false}, {"id": "8af24b71-ec13-4756-a386-35d65504c030", "type": "port.input", "x": 562, "y": 535.3125, "name": "Results", "alignment": "left", "parentNode": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "links": ["e0876cc2-e10d-44ad-924d-4c872df5affd"], "in": true, "label": "Results", "hideLabel": false}, {"id": "4e54e825-ba03-4fab-9997-0910c68b5f94", "type": "port.output", "x": 1249.46875, "y": 339.65625, "name": "Rotation", "alignment": "right", "parentNode": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "links": ["5274c44d-522f-47df-96db-76ee9e0d3816"], "in": false, "label": "Rotation", "hideLabel": false}, {"id": "3e7820c8-a209-4852-bd96-b668ecac535e", "type": "port.output", "x": 1249.46875, "y": 535.3125, "name": "Follow", "alignment": "right", "parentNode": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "links": ["21c768c1-0fb8-4ab8-ae12-2cf6ecfa34b3"], "in": false, "label": "Follow", "hideLabel": false}], "data": {"code": "def main(inputs, outputs, parameters, synchronise):\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n    \n    while(auto_enable or inputs.read_number('Enable')):\n        a=1\n        #results = inputs.read_array(\"Results\")\n        #print(\"results -> \")\n        #print(results)\n        #one = 1\n        #zero = 0\n        #if(1 == 1):\n        #    outputs.share_number(\"Rotation\", one)\n        #    outputs.share_number(\"Follow\", zero)\n        #else:\n        #    outputs.share_number(\"Rotation\", zero)\n        #    outputs.share_number(\"Follow\", one)\n\n", "frequency": "30", "params": [], "ports": {"in": [{"name": "Enable"}, {"name": "Results"}], "out": [{"name": "Rotation"}, {"name": "Follow"}]}, "size": {"width": "300px", "height": "300px"}}}, "42602bc9-6c6e-40f0-bd78-d82e87d05984": {"id": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "type": "basic.output", "selected": false, "x": 1361, "y": 181, "ports": [{"id": "c530f494-2406-4e15-abf3-59be68de4e8f", "type": "port.input", "x": 1362, "y": 200, "name": "output-in", "alignment": "left", "parentNode": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "links": ["5274c44d-522f-47df-96db-76ee9e0d3816"], "in": true, "label": "output-in", "hideLabel": true}], "data": {"name": "Rotation"}}, "a58fd1f6-5d75-469a-9e53-414d20080e56": {"id": "a58fd1f6-5d75-469a-9e53-414d20080e56", "type": "basic.output", "selected": false, "x": 1349, "y": 461, "ports": [{"id": "eb089175-ed16-497b-87b0-f713880e680d", "type": "port.input", "x": 1350, "y": 480, "name": "output-in", "alignment": "left", "parentNode": "a58fd1f6-5d75-469a-9e53-414d20080e56", "links": ["21c768c1-0fb8-4ab8-ae12-2cf6ecfa34b3"], "in": true, "label": "output-in", "hideLabel": true}], "data": {"name": "Follow"}}}}]}, "info": {"name": "", "version": "", "description": "", "author": "", "image": ""}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "51f521b8-3b84-403c-8678-3fcc91299108", "type": "basic.input", "data": {"name": "Results"}, "position": {"x": 384, "y": 447}}, {"id": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 372, "y": 243}}, {"id": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "type": "basic.code", "data": {"code": "def main(inputs, outputs, parameters, synchronise):\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n    \n    while(auto_enable or inputs.read_number('Enable')):\n        a=1\n        #results = inputs.read_array(\"Results\")\n        #print(\"results -> \")\n        #print(results)\n        #one = 1\n        #zero = 0\n        #if(1 == 1):\n        #    outputs.share_number(\"Rotation\", one)\n        #    outputs.share_number(\"Follow\", zero)\n        #else:\n        #    outputs.share_number(\"Rotation\", zero)\n        #    outputs.share_number(\"Follow\", one)\n\n", "frequency": "30", "params": [], "ports": {"in": [{"name": "Enable"}, {"name": "Results"}], "out": [{"name": "Rotation"}, {"name": "Follow"}]}, "size": {"width": "300px", "height": "300px"}}, "position": {"x": 560, "y": 99}}, {"id": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "type": "basic.output", "data": {"name": "Rotation"}, "position": {"x": 1361, "y": 181}}, {"id": "a58fd1f6-5d75-469a-9e53-414d20080e56", "type": "basic.output", "data": {"name": "Follow"}, "position": {"x": 1349, "y": 461}}], "wires": [{"source": {"block": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "port": "input-out", "name": "Enable"}, "target": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Enable", "name": "Enable"}}, {"source": {"block": "51f521b8-3b84-403c-8678-3fcc91299108", "port": "input-out", "name": "Results"}, "target": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Results", "name": "Results"}}, {"source": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Rotation", "name": "Rotation"}, "target": {"block": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "port": "output-in", "name": "output-in"}}, {"source": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Follow", "name": "Follow"}, "target": {"block": "a58fd1f6-5d75-469a-9e53-414d20080e56", "port": "output-in", "name": "output-in"}}]}}}, "6299793d-3366-4b9a-bbc5-29cbecf81036": {"id": "6299793d-3366-4b9a-bbc5-29cbecf81036", "type": "block.package", "selected": false, "x": 772, "y": 282, "ports": [{"id": "7012334d-7962-417e-a688-5c2ce72bfc33", "type": "port.input", "x": 773, "y": 299, "name": "520ce479-8758-48f1-9f7f-08eeea72b200", "alignment": "left", "parentNode": "6299793d-3366-4b9a-bbc5-29cbecf81036", "links": ["e414bfbd-9149-466a-8ab0-14f79f1b1290"], "in": true, "label": "Img", "hideLabel": false}, {"id": "59cedcc8-a6f0-4ce8-9f3f-954bf170de2c", "type": "port.input", "x": 773, "y": 341, "name": "405ebfde-eef2-436f-bd04-db1b79f5990e", "alignment": "left", "parentNode": "6299793d-3366-4b9a-bbc5-29cbecf81036", "links": [], "in": true, "label": "Enable", "hideLabel": false}], "data": {}, "model": {"id": "02d39dc9-90a5-4b7b-9593-ded395c6ffbd", "offsetX": 0, "offsetY": 0, "zoom": 100, "gridSize": 0, "layers": [{"id": "932f7358-1c6e-4a98-93bd-b2ee4131514e", "type": "diagram-links", "isSvg": true, "transformed": true, "models": {"c56e5714-b20f-4b79-ace1-28fa35ed3f90": {"id": "c56e5714-b20f-4b79-ace1-28fa35ed3f90", "type": "default", "selected": false, "source": "520ce479-8758-48f1-9f7f-08eeea72b200", "sourcePort": "e7fe7d26-b198-4e51-a49b-8c1402cb4259", "target": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "targetPort": "42fe2618-2e3c-46f7-8993-4a866b056fb9", "points": [{"id": "b64bddde-e0c3-4012-a3bb-031170f7a7fe", "type": "point", "x": 354.5, "y": 230.80001831054688}, {"id": "e6112ace-5d4a-4e12-951d-bf6d0d42c575", "type": "point", "x": 546.5, "y": 314.20001220703125}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}, "95534c5f-8370-4088-a25a-e86c7e77d757": {"id": "95534c5f-8370-4088-a25a-e86c7e77d757", "type": "default", "selected": false, "source": "405ebfde-eef2-436f-bd04-db1b79f5990e", "sourcePort": "e12385eb-5696-48ef-98bf-7576b69a165c", "target": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "targetPort": "57c0f8c5-27bc-4745-9193-16dcbcf43291", "points": [{"id": "01552385-dcb7-4b14-8e94-0eaf41ab5bcc", "type": "point", "x": 364.5, "y": 477.79998779296875}, {"id": "ae45c292-a7c7-47c9-a946-1479a798578d", "type": "point", "x": 546.5, "y": 468.79998779296875}], "labels": [], "width": 3, "color": "gray", "curvyness": 50, "selectedColor": "rgb(0,192,255)"}}}, {"id": "6215d446-3d7c-47f2-b8e8-6e0b93960d00", "type": "diagram-nodes", "isSvg": false, "transformed": true, "models": {"520ce479-8758-48f1-9f7f-08eeea72b200": {"id": "520ce479-8758-48f1-9f7f-08eeea72b200", "type": "basic.input", "selected": false, "x": 261, "y": 203, "ports": [{"id": "e7fe7d26-b198-4e51-a49b-8c1402cb4259", "type": "port.output", "x": 347, "y": 223.30001831054688, "name": "input-out", "alignment": "right", "parentNode": "520ce479-8758-48f1-9f7f-08eeea72b200", "links": ["c56e5714-b20f-4b79-ace1-28fa35ed3f90"], "in": false, "label": "Img", "hideLabel": true}], "data": {"name": "Img"}}, "459e9a36-7ed8-4147-abe6-aa1045d592b3": {"id": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "type": "basic.code", "selected": false, "x": 538, "y": 110, "ports": [{"id": "42fe2618-2e3c-46f7-8993-4a866b056fb9", "type": "port.input", "x": 539, "y": 306.70001220703125, "name": "Img", "alignment": "left", "parentNode": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "links": ["c56e5714-b20f-4b79-ace1-28fa35ed3f90"], "in": true, "label": "Img", "hideLabel": false}, {"id": "57c0f8c5-27bc-4745-9193-16dcbcf43291", "type": "port.input", "x": 539, "y": 461.29998779296875, "name": "Enable", "alignment": "left", "parentNode": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "links": ["95534c5f-8370-4088-a25a-e86c7e77d757"], "in": true, "label": "Enable", "hideLabel": false}], "data": {"code": "import cv2\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = False\n    try:\n        enable = inputs.read_number('Enable')\n    except Exception:\n        auto_enable = True\n    while (auto_enable or inputs.read_number('Enable')):\n        img = inputs.read_image(\"Img\")\n        if img is None:\n            continue\n\n        cv2.imshow(\"frame\", img)\n        cv2.waitKey(10)\n\n        synchronise()", "frequency": "30", "params": [], "ports": {"in": [{"name": "Img"}, {"name": "Enable"}], "out": []}, "size": {"width": "744px", "height": "500px"}}}, "405ebfde-eef2-436f-bd04-db1b79f5990e": {"id": "405ebfde-eef2-436f-bd04-db1b79f5990e", "type": "basic.input", "selected": false, "x": 271, "y": 450, "ports": [{"id": "e12385eb-5696-48ef-98bf-7576b69a165c", "type": "port.output", "x": 357, "y": 470.29998779296875, "name": "input-out", "alignment": "right", "parentNode": "405ebfde-eef2-436f-bd04-db1b79f5990e", "links": ["95534c5f-8370-4088-a25a-e86c7e77d757"], "in": false, "label": "Enable", "hideLabel": true}], "data": {"name": "Enable"}}}}]}, "info": {"name": "Screen", "version": "2.0.0", "description": "Displays Image or Video", "author": "Muhammad Taha Suhail, Suhas Gopal", "image": "data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTIxMC4yODcgNDA1LjY2N3Y5MS4zMzNoNDUuNzEzbDIwLTQ4LTIwLTQzLjMzM3oiIGZpbGw9IiNiNGQyZDciLz48cGF0aCBkPSJtMjU2IDQwNS42NjdoNDUuNzEzdjkxLjMzM2gtNDUuNzEzeiIgZmlsbD0iIzliYjljMyIvPjxwYXRoIGQ9Im0wIDB2MzU0LjE5bDI1NiAyMCAzMC0xOTcuMDk1LTMwLTE3Ny4wOTV6IiBmaWxsPSIjMDc0ODVlIi8+PGNpcmNsZSBjeD0iMTUwLjQxNiIgY3k9IjIwMi45OCIgZmlsbD0iI2YyYmI4OCIgcj0iNDkuMzQxIi8+PHBhdGggZD0ibTIyMi44ODUgMzY0LjE5aC0xNDQuOTM4di05MS44NjljMC0xMS4wNDYgOC45NTQtMjAgMjAtMjBoMTA0LjkzOGMxMS4wNDYgMCAyMCA4Ljk1NCAyMCAyMHoiIGZpbGw9IiMwMGI2YmQiLz48cGF0aCBkPSJtNTEyIDBoLTI1NnYzNzQuMTlsMjU2LTIweiIgZmlsbD0iIzA0MzAzZSIvPjxwYXRoIGQ9Im0wIDM1NC4xOXY2MS44NjdoMjU2bDIwLTM2LjA1Ny0yMC0yNS44MXoiIGZpbGw9IiNlMWViZjAiLz48cGF0aCBkPSJtMjU2IDM1NC4xOWgyNTZ2NjEuODY3aC0yNTZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PGc+PHBhdGggZD0ibTI1NiA1MTJoLTEyNC43NjZ2LTMwaDEyNC43NjZsMTAgMTV6IiBmaWxsPSIjZTFlYmYwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNTYgNDgyaDEyNC43NjZ2MzBoLTEyNC43NjZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PC9nPjxwYXRoIGQ9Im0yODkuMTE1IDc1aDE1MXYxMThoLTE1MXoiIGZpbGw9IiM1YTkzYzgiLz48L2c+PC9zdmc+"}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "520ce479-8758-48f1-9f7f-08eeea72b200", "type": "basic.input", "data": {"name": "Img"}, "position": {"x": 261, "y": 203}}, {"id": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "type": "basic.code", "data": {"code": "import cv2\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = False\n    try:\n        enable = inputs.read_number('Enable')\n    except Exception:\n        auto_enable = True\n    while (auto_enable or inputs.read_number('Enable')):\n        img = inputs.read_image(\"Img\")\n        if img is None:\n            continue\n\n        cv2.imshow(\"frame\", img)\n        cv2.waitKey(10)\n\n        synchronise()", "frequency": "30", "params": [], "ports": {"in": [{"name": "Img"}, {"name": "Enable"}], "out": []}, "size": {"width": "544px", "height": "19px"}}, "position": {"x": 538, "y": 110}}, {"id": "405ebfde-eef2-436f-bd04-db1b79f5990e", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 271, "y": 450}}], "wires": [{"source": {"block": "520ce479-8758-48f1-9f7f-08eeea72b200", "port": "input-out", "name": "Img"}, "target": {"block": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "port": "Img", "name": "Img"}}, {"source": {"block": "405ebfde-eef2-436f-bd04-db1b79f5990e", "port": "input-out", "name": "Enable"}, "target": {"block": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "port": "Enable", "name": "Enable"}}]}}}}}]}, "version": "3.0", "package": {"name": "follow_person", "version": "", "description": "", "author": "", "image": ""}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "b1825e29-c03e-454c-8cbd-8cb984e00497", "type": "xnWUu99GZBCIAezGL553LQaMTbltgSGNb3VX3rXJ", "data": {}, "position": {"x": 543, "y": 440}}, {"id": "37d94a19-3f8a-40d3-ab47-22b0098bd286", "type": "YywRJY5oIPVh0qmMOkS9GsQDGNcoYpLdquGchYRu", "data": {}, "position": {"x": 284, "y": 464}}, {"id": "61d7d75c-71ac-4036-bd71-3737e0916a83", "type": "8i3wyuHw2K4hlF0K2tKiSGFTCTzZAJPpZRUwF9Rp", "data": {}, "position": {"x": 787, "y": 441}}, {"id": "6299793d-3366-4b9a-bbc5-29cbecf81036", "type": "tggoMyXDB6zmA6vfw7J9Zy9UJ4XG6AWJqGlD5WBP", "data": {}, "position": {"x": 772, "y": 282}}], "wires": [{"source": {"block": "37d94a19-3f8a-40d3-ab47-22b0098bd286", "port": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "name": "Img"}, "target": {"block": "b1825e29-c03e-454c-8cbd-8cb984e00497", "port": "3a59c566-ea5a-4f28-9523-004c754cdac9", "name": "Img IN"}}, {"source": {"block": "b1825e29-c03e-454c-8cbd-8cb984e00497", "port": "fdde5749-5980-4f30-9ae9-b488600d3b38", "name": "Results"}, "target": {"block": "61d7d75c-71ac-4036-bd71-3737e0916a83", "port": "51f521b8-3b84-403c-8678-3fcc91299108", "name": "Results"}}, {"source": {"block": "b1825e29-c03e-454c-8cbd-8cb984e00497", "port": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "name": "Img OUT"}, "target": {"block": "6299793d-3366-4b9a-bbc5-29cbecf81036", "port": "520ce479-8758-48f1-9f7f-08eeea72b200", "name": "Img"}}]}}, "dependencies": {"xnWUu99GZBCIAezGL553LQaMTbltgSGNb3VX3rXJ": {"package": {"name": "ObjectDetector", "version": "2.0.0", "description": "Detects Objects in an Image", "author": "Faizan Ahmed", "image": "data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTAgNTEwIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMCA1MTAiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgaWQ9IlhNTElEXzI3MF8iPjxwYXRoIGlkPSJYTUxJRF8zOTdfIiBkPSJtMjQwIDB2NzUuNjJsNy41IDYuMjk3IDcuNS02LjkxNyAzLjY3My0zNi4xMDYtMy42NzMtMzguODk0Yy01LjI0NiAwLTkuNzU0IDAtMTUgMHoiIGZpbGw9IiNlNjM5NTAiLz48cGF0aCBpZD0iWE1MSURfMzYxXyIgZD0ibTI3MCAwYy01LjI0NiAwLTkuNzU0IDAtMTUgMHY3NWw3LjUgNi45MTYgNy41LTYuMjk3YzAtMTguOTg5IDAtNjMuNDM2IDAtNzUuNjE5eiIgZmlsbD0iI2NkMDAwMCIvPjxwYXRoIGlkPSJYTUxJRF8zNThfIiBkPSJtMjQwIDQzNC4zNzh2NzUuNjIyaDE1bDUuODMzLTM1LjMzMy01LjgzMy0zOS42NjctNy41LTcuNjY3eiIgZmlsbD0iI2U2Mzk1MCIvPjxwYXRoIGlkPSJYTUxJRF8zNTVfIiBkPSJtMjcwIDQzNC4zNzgtNy41LTcuMDQ1LTcuNSA3LjY2N3Y3NWgxNWMwLTEyLjAwOSAwLTU2LjYzMiAwLTc1LjYyMnoiIGZpbGw9IiNjZDAwMDAiLz48cGF0aCBpZD0iWE1MSURfMzUyXyIgZD0ibTQzNC4zODEgMjcwaDc1LjYxOWMwLTEwLjQ5MiAwLTE5LjUwOCAwLTMwLTEyLjAwOSAwLTU2LjYyOSAwLTc1LjYxOSAwbC0xNC4zODEgMTV6IiBmaWxsPSIjY2QwMDAwIi8+PHBhdGggaWQ9IlhNTElEXzM0OV8iIGQ9Im03NS42MjIgMjcwYy0xOC45OSAwLTYzLjQzOSAwLTc1LjYyMiAwIDAtMTAuNDkyIDAtMTkuNTA4IDAtMzBoNzUuNjIxbDE0LjM3OSAxNXoiIGZpbGw9IiNlNjM5NTAiLz48cGF0aCBpZD0iWE1MSURfMzQ1XyIgZD0ibTc1IDI1NWMwIDk5LjI1IDgwLjc0NSAxODAgMTgwIDE4MGwxNS0xODAtMTUtMTgwYy05OS4yNSAwLTE4MCA4MC43NDUtMTgwIDE4MHoiIGZpbGw9IiNmZjYzN2IiLz48cGF0aCBpZD0iWE1MSURfMzQyXyIgZD0ibTQzNSAyNTVjMC05OS4yNDktODAuNzQ1LTE4MC0xODAtMTgwdjM2MGM5OS4yNDkgMCAxODAtODAuNzQ1IDE4MC0xODB6IiBmaWxsPSIjZTYzOTUwIi8+PHBhdGggaWQ9IlhNTElEXzMyN18iIGQ9Im0xMDUgMjU1YzAgODIuNzA3IDY3LjI4NyAxNTAgMTUwIDE1MGwxNS0xNTAtMTUtMTUwYy04Mi43MDggMC0xNTAgNjcuMjg3LTE1MCAxNTB6IiBmaWxsPSIjZTZmMmZmIi8+PHBhdGggaWQ9IlhNTElEXzMyM18iIGQ9Im00MDUgMjU1YzAtODIuNzA4LTY3LjI4Ny0xNTAtMTUwLTE1MHYzMDBjODIuNzA3IDAgMTUwLTY3LjI4OCAxNTAtMTUweiIgZmlsbD0iI2NkZiIvPjxwYXRoIGlkPSJYTUxJRF8zMjBfIiBkPSJtNDgwIDMwdjkwaDMwYzAtMTQuNTE4IDAtMTA1LjM4NiAwLTEyMC0xNC41MTggMC0xMDUuMzg2IDAtMTIwIDB2MzB6IiBmaWxsPSIjY2RmIi8+PHBhdGggaWQ9IlhNTElEXzMxNV8iIGQ9Im0zMCAxMjBjLTEwLjQ5MiAwLTE5LjUwOCAwLTMwIDAgMC0xNC41MTggMC0xMDUuMzg2IDAtMTIwaDEyMHYzMGMtMTAuODg5IDAtNzkuMDQgMC05MCAweiIgZmlsbD0iI2U2ZjJmZiIvPjxwYXRoIGlkPSJYTUxJRF8zMTJfIiBkPSJtNDgwIDQ4MGMtMTAuODg5IDAtNzkuMDQgMC05MCAwdjMwaDEyMGMwLTE0LjUxOCAwLTEwNS4zODYgMC0xMjAtMTAuNDkyIDAtMTkuNTA4IDAtMzAgMHoiIGZpbGw9IiNjZGYiLz48cGF0aCBpZD0iWE1MSURfMzA5XyIgZD0ibTEyMCA1MTBjLTE0LjUxOCAwLTEwNS4zODYgMC0xMjAgMCAwLTE0LjUxOCAwLTEwNS4zODYgMC0xMjBoMzB2OTBoOTB6IiBmaWxsPSIjZTZmMmZmIi8+PHBhdGggaWQ9IlhNTElEXzMwMF8iIGQ9Im0yMTMuNjc3IDIzNC44MjRjLTE0LjUwNSA3LjIwNi0yNC43NDYgMTYuNzItMzEuOTU0IDI2LjIwMi0xNC4zNzkgMTguOTE0LTE2LjY5MSAzNy42OTgtMTYuNzIzIDM3Ljc2NnYzMS4yMDhoOTBsMTUtMzcuNTAxLTE1LTM3LjUwMXoiIGZpbGw9IiM2Y2YiLz48cGF0aCBpZD0iWE1MSURfMjk2XyIgZD0ibTM0NSAyOTguNzkyYy0uMTAzLS4yMjQtMi4wMzQtMTguOTI3LTE2LjU1NS0zNy44NzEtNy4xODgtOS4zNzctMTcuNDYtMTguODEzLTMyLjEyMi0yNi4wOTZsLTQxLjMyMyAyMC4xNzN2MzcuNTAxIDM3LjUwMWg5MGMwLTEwLjkxNSAwLTIwLjI5MyAwLTMxLjIwOHoiIGZpbGw9IiM0NTk2ZTYiLz48cGF0aCBpZD0iWE1MSURfMjkyXyIgZD0ibTIwMi41IDIwMi41YzAgMjguOTQ4IDIzLjU1IDUyLjUgNTIuNSA1Mi41bDE1LTUyLjUtMTUtNTIuNWMtMjguOTQ4IDAtNTIuNSAyMy41NS01Mi41IDUyLjV6IiBmaWxsPSIjZmRjIi8+PHBhdGggaWQ9IlhNTElEXzI4N18iIGQ9Im0zMDcuNSAyMDIuNWMwLTI4Ljk0Ny0yMy41NS01Mi41LTUyLjUtNTIuNXYxMDVjMjguOTQ3IDAgNTIuNS0yMy41NSA1Mi41LTUyLjV6IiBmaWxsPSIjZmZiZmIzIi8+PC9nPjwvc3ZnPg=="}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "3680762a-e4d0-4a2f-8315-22db96c2f120", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 292, "y": 594}}, {"id": "2915186e-9674-4fef-a81c-fd520d0a5428", "type": "basic.code", "data": {"code": "import cv2\nimport numpy as np\nimport time\n\nclassName = []\nclassesFile = 'utils/models/yolov3/yolov3.txt'\n\nwith open(classesFile,'rt') as f:\n    className = f.read().rstrip('\\n').split('\\n')\n\ndef findObjects(outputs, img):\n\n    confThreshold = 0.3\n    nmsThreshold = 0.3\n    hT, wT, cT = img.shape\n    bbox = []\n    classIds = []\n    confs = []\n\n    for output in outputs:\n    \n        for det in output:\n            scores = det[5:]\n            classId = np.argmax(scores)\n            confidence = scores[classId]\n            if confidence > confThreshold:\n                w,h = int(det[2] * wT), int(det[3] * hT)\n                x,y = int((det[0]*wT) - w/2), int((det[1]*hT) - h/2)\n                bbox.append([x,y,w,h])\n                classIds.append(classId)\n                confs.append(float(confidence))\n    \n    indices = cv2.dnn.NMSBoxes(bbox, confs, confThreshold, nmsThreshold)\n    \n    for i in range(len(indices)):\n        box = bbox[i]\n        x,y,w,h = box[0],box[1],box[2],box[3]\n        cv2.rectangle(img,(x,y),(x+w, y+h),(255,0,255),2)\n        cv2.putText(img,f'{className[classIds[i]].upper()} {int(confs[i]*100)}%',\n                    (x,y-10),cv2.FONT_HERSHEY_SIMPLEX, 0.6, (255,0,255),2)\n           \ndef main(inputs, outputs, parameters, synchronise):\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n    \n    whT = 320\n\n    modelConfiguration = 'utils/models/yolov3/yolov3-tiny.cfg'\n    modelWeights = 'utils/models/yolov3/yolov3-tiny.weights'\n\n    net = cv2.dnn.readNetFromDarknet(modelConfiguration,modelWeights)\n    net.setPreferableBackend(cv2.dnn.DNN_BACKEND_OPENCV)\n    net.setPreferableTarget(cv2.dnn.DNN_TARGET_CPU)\n\n    while(auto_enable or inputs.read_number('Enable')):\n        frame = inputs.read_image(\"Img IN\")\n        \n        if frame is None:\n            continue\n\n        #converting img to blob\n        blob = cv2.dnn.blobFromImage(frame, 1/255,(whT,whT),[0,0,0],1, crop = False)\n\n        #Passing blob to network\n        net.setInput(blob)\n\n        layerNames = net.getLayerNames()\n        outputNames = []\n        outLayers = net.getUnconnectedOutLayers()\n        \n        for i in range(len(outLayers)):\n            outputNames.append(layerNames[outLayers[i] - 1])\n\n        #forward Pass\n        results = net.forward(outputNames)\n        findObjects(results,frame)\n\n        print(\"results -> \")\n        print(results)\n\n        \n        outputs.share_image(\"Img OUT\", frame)\n        outputs.share_array(\"Results\", results)\n", "frequency": "30", "params": [], "ports": {"in": [{"name": "Img IN"}, {"name": "Enable"}], "out": [{"name": "Img OUT"}, {"name": "Results"}]}, "size": {"width": "750px", "height": "300px"}}, "position": {"x": 429, "y": 121}}, {"id": "3a59c566-ea5a-4f28-9523-004c754cdac9", "type": "basic.input", "data": {"name": "Img IN"}, "position": {"x": 284, "y": 390}}, {"id": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "type": "basic.output", "data": {"name": "Img OUT"}, "position": {"x": 1335, "y": 390}}, {"id": "fdde5749-5980-4f30-9ae9-b488600d3b38", "type": "basic.output", "data": {"name": "Results"}, "position": {"x": 1352, "y": 574}}], "wires": [{"source": {"block": "3a59c566-ea5a-4f28-9523-004c754cdac9", "port": "input-out", "name": "Img IN"}, "target": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Img IN", "name": "Img IN"}}, {"source": {"block": "3680762a-e4d0-4a2f-8315-22db96c2f120", "port": "input-out", "name": "Enable"}, "target": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Enable", "name": "Enable"}}, {"source": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Results", "name": "Results"}, "target": {"block": "fdde5749-5980-4f30-9ae9-b488600d3b38", "port": "output-in", "name": "output-in"}}, {"source": {"block": "2915186e-9674-4fef-a81c-fd520d0a5428", "port": "Img OUT", "name": "Img OUT"}, "target": {"block": "0284379d-f0d9-4099-a08b-15cdb9c65fbc", "port": "output-in", "name": "output-in"}}]}}}, "YywRJY5oIPVh0qmMOkS9GsQDGNcoYpLdquGchYRu": {"package": {"name": "Camera", "version": "2.0.0", "description": "Captures Video Stream from Camera", "author": "Muhammad Taha Suhail, Suhas Gopal", "image": "data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ3MnB0IiB2aWV3Qm94PSIwIC04NyA0NzIgNDcyIiB3aWR0aD0iNDcycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTQ2MiAzNS4xMjEwOTR2MjI3LjgyMDMxMmwtMTIxLjg3ODkwNi02Ni41NTA3ODFoLTEuMjEwOTM4di05NC43MTg3NWgxLjIxMDkzOHptMCAwIiBmaWxsPSIjMDBhY2VhIi8+PHBhdGggZD0ibTMzOC45MTAxNTYgMTk2LjM5MDYyNXY1MS4wMzEyNWMwIDIyLjA4OTg0NC0xNy45MTAxNTYgNDAtNDAgNDBoLTI0OC45MTAxNTZjLTIyLjA4OTg0NCAwLTQwLTE3LjkxMDE1Ni00MC00MHYtMTk3LjQyMTg3NWMwLTIyLjA4OTg0NCAxNy45MTAxNTYtNDAgNDAtNDBoMjQ4LjkxMDE1NmMyMi4wODk4NDQgMCA0MCAxNy45MTAxNTYgNDAgNDB6bTAgMCIgZmlsbD0iIzAwZWZkMSIvPjxwYXRoIGQ9Im00NjcuMTAxNTYyIDI2LjUxOTUzMWMtMy4wMzkwNjItMS44MDA3ODEtNi43OTY4NzQtMS44NjcxODctOS44OTg0MzctLjE3NTc4MWwtMTA4LjI5Njg3NSA1OS4xMzI4MTJ2LTM1LjQ3NjU2MmMtLjAzMTI1LTI3LjYwMTU2Mi0yMi4zOTg0MzgtNDkuOTY4NzUtNTAtNTBoLTI0OC45MDYyNWMtMjcuNjAxNTYyLjAzMTI1LTQ5Ljk2ODc1IDIyLjM5ODQzOC01MCA1MHYxOTcuNDIxODc1Yy4wMzEyNSAyNy41OTc2NTYgMjIuMzk4NDM4IDQ5Ljk2NDg0NCA1MCA1MGgyNDguOTEwMTU2YzI3LjYwMTU2My0uMDM1MTU2IDQ5Ljk2ODc1LTIyLjQwMjM0NCA1MC01MHYtMzQuODM5ODQ0bDEwOC4zMDA3ODIgNTkuMTMyODEzYzMuMDk3NjU2IDEuNjkxNDA2IDYuODU1NDY4IDEuNjI1IDkuODkwNjI0LS4xNzU3ODIgMy4wMzUxNTctMS44MDQ2ODcgNC44OTg0MzgtNS4wNzAzMTIgNC44OTg0MzgtOC42MDE1NjJ2LTIyNy44MTY0MDZjMC0zLjUzMTI1LTEuODYzMjgxLTYuODAwNzgyLTQuODk4NDM4LTguNjAxNTYzem0tMTM4LjE5MTQwNiAyMjAuOTAyMzQ0Yy0uMDE5NTMxIDE2LjU1ODU5NC0xMy40Mzc1IDI5Ljk4MDQ2OS0zMCAzMGgtMjQ4LjkxMDE1NmMtMTYuNTYyNS0uMDE5NTMxLTI5Ljk4MDQ2OS0xMy40NDE0MDYtMzAtMzB2LTE5Ny40MjE4NzVjLjAxOTUzMS0xNi41NjI1IDEzLjQzNzUtMjkuOTgwNDY5IDMwLTMwaDI0OC45MTAxNTZjMTYuNTYyNS4wMTk1MzEgMjkuOTgwNDY5IDEzLjQzNzUgMzAgMzB6bTEyMy4wODk4NDQtMS4zMzU5MzctMTAzLjA4OTg0NC01Ni4yODkwNjN2LTgxLjUzMTI1bDEwMy4wODk4NDQtNTYuMjkyOTY5em0wIDAiIGZpbGw9IiMwODM4NjMiLz48L3N2Zz4="}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "81a5ded8-2c3d-4e94-8269-0978733af109", "type": "basic.code", "data": {"code": "import cv2\n\n\ndef main(inputs, outputs, parameters, synchronise):\n    cap = cv2.VideoCapture(0)\n    auto_enable = False\n    try:\n        enable = inputs.read_number('Enable')\n    except Exception:\n        auto_enable = True\n    try:\n        while cap.isOpened() and (auto_enable or inputs.read_number('Enable')):\n            ret, frame = cap.read()\n            if not ret:\n                continue\n\n            outputs.share_image(\"Img\", frame)\n            synchronise()\n    except Exception as e:\n        print('Error:', e)\n        pass\n    finally:\n        print(\"Exiting\")\n        cap.release()", "frequency": "30", "params": [], "ports": {"in": [{"name": "Enable"}], "out": [{"name": "Img"}]}, "size": {"width": "709px", "height": "300px"}}, "position": {"x": 446, "y": 120}}, {"id": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "type": "basic.output", "data": {"name": "Img"}, "position": {"x": 1443, "y": 380}}, {"id": "9b2c8136-5657-4204-b999-60019fa9c5e5", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 218, "y": 336}}], "wires": [{"source": {"block": "81a5ded8-2c3d-4e94-8269-0978733af109", "port": "Img", "name": "Img"}, "target": {"block": "914a97c9-1f81-4f4f-a0f5-56e6ed9d53ee", "port": "output-in", "name": "output-in"}}, {"source": {"block": "9b2c8136-5657-4204-b999-60019fa9c5e5", "port": "input-out", "name": "Enable"}, "target": {"block": "81a5ded8-2c3d-4e94-8269-0978733af109", "port": "Enable", "name": "Enable"}}]}}}, "8i3wyuHw2K4hlF0K2tKiSGFTCTzZAJPpZRUwF9Rp": {"package": {"name": "", "version": "", "description": "", "author": "", "image": ""}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "51f521b8-3b84-403c-8678-3fcc91299108", "type": "basic.input", "data": {"name": "Results"}, "position": {"x": 384, "y": 447}}, {"id": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 372, "y": 243}}, {"id": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "type": "basic.code", "data": {"code": "def main(inputs, outputs, parameters, synchronise):\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n    \n    while(auto_enable or inputs.read_number('Enable')):\n        a=1\n        #results = inputs.read_array(\"Results\")\n        #print(\"results -> \")\n        #print(results)\n        #one = 1\n        #zero = 0\n        #if(1 == 1):\n        #    outputs.share_number(\"Rotation\", one)\n        #    outputs.share_number(\"Follow\", zero)\n        #else:\n        #    outputs.share_number(\"Rotation\", zero)\n        #    outputs.share_number(\"Follow\", one)\n\n", "frequency": "30", "params": [], "ports": {"in": [{"name": "Enable"}, {"name": "Results"}], "out": [{"name": "Rotation"}, {"name": "Follow"}]}, "size": {"width": "300px", "height": "300px"}}, "position": {"x": 560, "y": 99}}, {"id": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "type": "basic.output", "data": {"name": "Rotation"}, "position": {"x": 1361, "y": 181}}, {"id": "a58fd1f6-5d75-469a-9e53-414d20080e56", "type": "basic.output", "data": {"name": "Follow"}, "position": {"x": 1349, "y": 461}}], "wires": [{"source": {"block": "3274278f-3c7d-4c9d-9d57-fc332caac5c7", "port": "input-out", "name": "Enable"}, "target": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Enable", "name": "Enable"}}, {"source": {"block": "51f521b8-3b84-403c-8678-3fcc91299108", "port": "input-out", "name": "Results"}, "target": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Results", "name": "Results"}}, {"source": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Rotation", "name": "Rotation"}, "target": {"block": "42602bc9-6c6e-40f0-bd78-d82e87d05984", "port": "output-in", "name": "output-in"}}, {"source": {"block": "8bbffc26-8c7e-4243-9e2c-42353ad5e733", "port": "Follow", "name": "Follow"}, "target": {"block": "a58fd1f6-5d75-469a-9e53-414d20080e56", "port": "output-in", "name": "output-in"}}]}}}, "tggoMyXDB6zmA6vfw7J9Zy9UJ4XG6AWJqGlD5WBP": {"package": {"name": "Screen", "version": "2.0.0", "description": "Displays Image or Video", "author": "Muhammad Taha Suhail, Suhas Gopal", "image": "data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTIxMC4yODcgNDA1LjY2N3Y5MS4zMzNoNDUuNzEzbDIwLTQ4LTIwLTQzLjMzM3oiIGZpbGw9IiNiNGQyZDciLz48cGF0aCBkPSJtMjU2IDQwNS42NjdoNDUuNzEzdjkxLjMzM2gtNDUuNzEzeiIgZmlsbD0iIzliYjljMyIvPjxwYXRoIGQ9Im0wIDB2MzU0LjE5bDI1NiAyMCAzMC0xOTcuMDk1LTMwLTE3Ny4wOTV6IiBmaWxsPSIjMDc0ODVlIi8+PGNpcmNsZSBjeD0iMTUwLjQxNiIgY3k9IjIwMi45OCIgZmlsbD0iI2YyYmI4OCIgcj0iNDkuMzQxIi8+PHBhdGggZD0ibTIyMi44ODUgMzY0LjE5aC0xNDQuOTM4di05MS44NjljMC0xMS4wNDYgOC45NTQtMjAgMjAtMjBoMTA0LjkzOGMxMS4wNDYgMCAyMCA4Ljk1NCAyMCAyMHoiIGZpbGw9IiMwMGI2YmQiLz48cGF0aCBkPSJtNTEyIDBoLTI1NnYzNzQuMTlsMjU2LTIweiIgZmlsbD0iIzA0MzAzZSIvPjxwYXRoIGQ9Im0wIDM1NC4xOXY2MS44NjdoMjU2bDIwLTM2LjA1Ny0yMC0yNS44MXoiIGZpbGw9IiNlMWViZjAiLz48cGF0aCBkPSJtMjU2IDM1NC4xOWgyNTZ2NjEuODY3aC0yNTZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PGc+PHBhdGggZD0ibTI1NiA1MTJoLTEyNC43NjZ2LTMwaDEyNC43NjZsMTAgMTV6IiBmaWxsPSIjZTFlYmYwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNTYgNDgyaDEyNC43NjZ2MzBoLTEyNC43NjZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PC9nPjxwYXRoIGQ9Im0yODkuMTE1IDc1aDE1MXYxMThoLTE1MXoiIGZpbGw9IiM1YTkzYzgiLz48L2c+PC9zdmc+"}, "design": {"board": "Python3-Noetic", "graph": {"blocks": [{"id": "520ce479-8758-48f1-9f7f-08eeea72b200", "type": "basic.input", "data": {"name": "Img"}, "position": {"x": 261, "y": 203}}, {"id": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "type": "basic.code", "data": {"code": "import cv2\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = False\n    try:\n        enable = inputs.read_number('Enable')\n    except Exception:\n        auto_enable = True\n    while (auto_enable or inputs.read_number('Enable')):\n        img = inputs.read_image(\"Img\")\n        if img is None:\n            continue\n\n        cv2.imshow(\"frame\", img)\n        cv2.waitKey(10)\n\n        synchronise()", "frequency": "30", "params": [], "ports": {"in": [{"name": "Img"}, {"name": "Enable"}], "out": []}, "size": {"width": "544px", "height": "19px"}}, "position": {"x": 538, "y": 110}}, {"id": "405ebfde-eef2-436f-bd04-db1b79f5990e", "type": "basic.input", "data": {"name": "Enable"}, "position": {"x": 271, "y": 450}}], "wires": [{"source": {"block": "520ce479-8758-48f1-9f7f-08eeea72b200", "port": "input-out", "name": "Img"}, "target": {"block": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "port": "Img", "name": "Img"}}, {"source": {"block": "405ebfde-eef2-436f-bd04-db1b79f5990e", "port": "input-out", "name": "Enable"}, "target": {"block": "459e9a36-7ed8-4147-abe6-aa1045d592b3", "port": "Enable", "name": "Enable"}}]}}}}}