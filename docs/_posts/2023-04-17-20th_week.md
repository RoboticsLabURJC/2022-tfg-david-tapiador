---
title: "20th week: VFF completed!"
last_modified_at: 2023-04-17T20:00:00
categories:
  - Blog
tags:
  - ROS Humble
  - Visual Circuit
  - VFF
youtubeId_VFF_final: T8QXnxTxpPU
---

This week I ended the VFF project.

The big problem I was facing with the attractive forces really was not that big. The problem was that I was using python's functions "math.cos" and "math.sin" with euler degrees instead of radians, so when I changed them, everything worked as intended.

As we can see in the following video (as a difference with the 19th week which only used repulsive forces) is that now the robot takes the interior path in the turns and not the center of the circuit. This is caused by the attractive forces pulling the robot to the path of the objective and the repulsive forces making it not collide with the walls.

I also added a debug block, which receives every data from the program (odom, destination, repulsive & attractive forces) and creates a grid showing the position of the robot, the destination and the rotational forces (green for the attractive and red for the repulsive) on it. The linear forces are not showed, as the robot is using a constant linear velocity.

Here is the VisualCircuit project showing everything:

![](/2022-tfg-david-tapiador/images/final_VFF.png)


And here is finally the video of everything working!!


{% include youtubePlayer.html id=page.youtubeId_VFF_final %}


Now I'm working on the TFG's index for the final summary.


