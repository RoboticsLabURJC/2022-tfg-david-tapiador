{"editor":{"id":"d2d20898-7f11-4ec4-bfec-2647fe5c735d","locked":false,"offsetX":62,"offsetY":82,"zoom":100,"gridSize":0,"layers":[{"id":"621b1876-4ff0-44fb-a004-f88b72a7cfb8","type":"diagram-links","isSvg":true,"transformed":true,"models":{"fc6b5d07-347d-45ed-84c7-9fdb7262dc74":{"id":"fc6b5d07-347d-45ed-84c7-9fdb7262dc74","type":"default","selected":false,"source":"f2b91689-89ff-4b37-b6e6-0343cef5818e","sourcePort":"79c0b4fa-2855-4c36-adb1-56e9de6a47e9","target":"0effe1d5-1cb5-43d3-a24c-13bfe74e62bd","targetPort":"68a2d523-0d15-4c9d-8a40-b127c4273640","points":[{"id":"7a52c868-89b7-46e4-9e99-f642c4a2449f","type":"point","x":947.5,"y":363.5},{"id":"a0fe1316-acb0-4962-971a-a4a4d7f4d6d9","type":"point","x":1032.5,"y":343.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"4ae5b4f5-a962-460a-871f-d08bc46873c1":{"id":"4ae5b4f5-a962-460a-871f-d08bc46873c1","type":"default","selected":false,"source":"f2b91689-89ff-4b37-b6e6-0343cef5818e","sourcePort":"20510d75-ac43-4e3d-bbee-8189fecf1414","target":"776ac361-6b3f-4456-8830-d3c6d56c4970","targetPort":"0ef658e7-b5cd-4057-b40b-fc6725cbd852","points":[{"id":"c9f8e516-4751-4462-bc2f-d35cd82faef1","type":"point","x":832.5,"y":342.5},{"id":"c62b63b5-ce62-4eda-8acd-99746fdb3950","type":"point","x":747.5,"y":363.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"8bbf2874-e9ce-4c9d-b1c0-944d6c505e3d":{"id":"8bbf2874-e9ce-4c9d-b1c0-944d6c505e3d","type":"default","selected":false,"source":"edaf54a5-88ab-43cf-8cb9-7ad59b147f45","sourcePort":"b7a16b89-98f5-419e-82f0-873d113a78f1","target":"9949f6d6-83a8-4468-9329-f6b5231c3e74","targetPort":"77c357c9-a323-477e-a5d3-cacb0084da99","points":[{"id":"c20a90be-bb96-4f39-ab57-f87cb5d1f6c4","type":"point","x":315.5,"y":285.5},{"id":"23d663d8-faa0-43b0-a577-1f77e747a109","type":"point","x":397.5,"y":265.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"0ea7e03e-a275-4fab-870c-53180bfbfe14":{"id":"0ea7e03e-a275-4fab-870c-53180bfbfe14","type":"default","selected":false,"source":"9949f6d6-83a8-4468-9329-f6b5231c3e74","sourcePort":"c2bd9c05-0501-43b1-94e5-5ace91d99fb6","target":"1318fef8-535d-46ff-9a93-4432d06486f9","targetPort":"7c13a215-3fad-42b4-bc05-0f0ebbd2273d","points":[{"id":"97baab0f-e587-4f5e-a987-1a6a7ff27cac","type":"point","x":512.5,"y":286.5},{"id":"8a4a5e6c-9bf9-4994-ab28-288fc9278247","type":"point","x":629.5,"y":162.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"1738a883-2653-4e6e-a2ec-aa298968e59a":{"id":"1738a883-2653-4e6e-a2ec-aa298968e59a","type":"default","selected":false,"source":"9949f6d6-83a8-4468-9329-f6b5231c3e74","sourcePort":"c2bd9c05-0501-43b1-94e5-5ace91d99fb6","target":"776ac361-6b3f-4456-8830-d3c6d56c4970","targetPort":"be450029-4a95-4722-9186-ad2d9ad1ca5a","points":[{"id":"e0723623-9c3e-4c33-a858-aca5d7fbd7b8","type":"point","x":512.5,"y":286.5},{"id":"1ab55621-fa01-4119-bad3-8bbf13c0af14","type":"point","x":632.5,"y":342.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"6578d31f-2499-48a8-9c37-9874c2c88a63","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"edaf54a5-88ab-43cf-8cb9-7ad59b147f45":{"id":"edaf54a5-88ab-43cf-8cb9-7ad59b147f45","type":"block.package","selected":false,"x":192,"y":240,"ports":[{"id":"9acba60e-77f9-488d-9234-071b2a76ac1a","type":"port.input","x":193,"y":278,"name":"af3b9847-7555-45fc-843c-117668b22e27","alignment":"left","parentNode":"edaf54a5-88ab-43cf-8cb9-7ad59b147f45","links":[],"in":true,"label":"E","hideLabel":false},{"id":"b7a16b89-98f5-419e-82f0-873d113a78f1","type":"port.output","x":308,"y":278,"name":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","alignment":"right","parentNode":"edaf54a5-88ab-43cf-8cb9-7ad59b147f45","links":["8bbf2874-e9ce-4c9d-b1c0-944d6c505e3d"],"in":false,"label":"Out","hideLabel":false}],"data":{},"model":{"id":"01293f53-c004-44fc-886c-5c26f7124425","locked":false,"offsetX":1,"offsetY":1,"zoom":100,"gridSize":0,"layers":[{"id":"67802fac-b475-41ed-8853-e5b7fe1dda24","type":"diagram-links","isSvg":true,"transformed":true,"models":{"9b4e144e-d7f7-4b2c-bdc6-d211f8dd41f3":{"id":"9b4e144e-d7f7-4b2c-bdc6-d211f8dd41f3","type":"default","selected":false,"source":"0001-311d4fd6-c88e-48ac-811b-323953cb854c","sourcePort":"f7b3eb1d-994b-4687-b419-72519a6a6b24","target":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","targetPort":"ff38fed2-4cad-47d9-97eb-67fe8aee36f0","points":[{"id":"6439f9c8-6ce5-4fbc-9e3c-9186114c9999","type":"point","x":664,"y":124.5},{"id":"f998ea38-b240-47cd-af54-9a2aba8d75c1","type":"point","x":596.734375,"y":194.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"7fa42594-f088-4d9d-9a29-9509689f342a":{"id":"7fa42594-f088-4d9d-9a29-9509689f342a","type":"default","selected":false,"source":"0002-50be6404-1865-4676-a867-9b7b90b6d117","sourcePort":"b94d3519-cd66-4840-94c8-794abbeef5f2","target":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","targetPort":"94a788d8-6ac9-417c-8181-7fd28c5cb414","points":[{"id":"cbcd8473-7439-46ae-bec1-1055b3157721","type":"point","x":819,"y":128.5},{"id":"f4a30df2-ca4b-4140-b742-20ac91a6b877","type":"point","x":891.1875,"y":194.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"1263d1f7-9687-49be-9f58-a0d401f75b9e":{"id":"1263d1f7-9687-49be-9f58-a0d401f75b9e","type":"default","selected":false,"source":"af3b9847-7555-45fc-843c-117668b22e27","sourcePort":"6553b3b2-ce98-491e-aa43-b6e65ce803a6","target":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","targetPort":"cf2a592e-c477-4758-a83b-63d8e094770e","points":[{"id":"d98b4fe7-94d3-4b10-83cf-e00edb0b07bf","type":"point","x":229.5,"y":361.5},{"id":"80b9d269-e586-455e-8edd-7be7ce06c2d1","type":"point","x":331.5,"y":353}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"0a4214bc-59a0-46a5-9b34-7460f173cbfc":{"id":"0a4214bc-59a0-46a5-9b34-7460f173cbfc","type":"default","selected":false,"source":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","sourcePort":"32acfcfb-9dcf-4868-a235-346281c12bf3","target":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","targetPort":"cc62b360-0ada-4a2a-804c-17f5fac0d31c","points":[{"id":"b7f8f71d-666d-4343-9564-a70cda205c9b","type":"point","x":1155.15625,"y":353},{"id":"57532e0e-ca5f-4dcb-9ecf-dad16f1a089d","type":"point","x":1247.5,"y":352.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"770eac94-df11-4a66-8b47-b1c61c7f81d7","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-311d4fd6-c88e-48ac-811b-323953cb854c":{"id":"0001-311d4fd6-c88e-48ac-811b-323953cb854c","type":"basic.constant","selected":false,"x":603,"y":9,"ports":[{"id":"f7b3eb1d-994b-4687-b419-72519a6a6b24","type":"port.output","x":656.5,"y":117,"name":"constant-out","alignment":"bottom","parentNode":"0001-311d4fd6-c88e-48ac-811b-323953cb854c","links":["9b4e144e-d7f7-4b2c-bdc6-d211f8dd41f3"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-50be6404-1865-4676-a867-9b7b90b6d117":{"id":"0002-50be6404-1865-4676-a867-9b7b90b6d117","type":"basic.constant","selected":true,"x":757,"y":12,"ports":[{"id":"b94d3519-cd66-4840-94c8-794abbeef5f2","type":"port.output","x":811.5,"y":121,"name":"constant-out","alignment":"bottom","parentNode":"0002-50be6404-1865-4676-a867-9b7b90b6d117","links":["7fa42594-f088-4d9d-9a29-9509689f342a"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"ROS Topic","value":"/drone_wrapper/cam_ventral/image_raw","local":true}},"bcdd21f5-011c-4407-9bd9-b2edde54ffce":{"id":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","type":"basic.code","selected":false,"x":323,"y":186,"ports":[{"id":"cf2a592e-c477-4758-a83b-63d8e094770e","type":"port.input","x":324,"y":345.5,"name":"E","alignment":"left","parentNode":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","links":["1263d1f7-9687-49be-9f58-a0d401f75b9e"],"in":true,"label":"E","hideLabel":false},{"id":"32acfcfb-9dcf-4868-a235-346281c12bf3","type":"port.output","x":1147.65625,"y":345.5,"name":"Out","alignment":"right","parentNode":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","links":["0a4214bc-59a0-46a5-9b34-7460f173cbfc"],"in":false,"label":"Out","hideLabel":false},{"id":"ff38fed2-4cad-47d9-97eb-67fe8aee36f0","type":"port.parameter","x":589.234375,"y":187,"name":"Frequency","alignment":"top","parentNode":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","links":["9b4e144e-d7f7-4b2c-bdc6-d211f8dd41f3"],"in":true,"label":"Frequency","hideLabel":false},{"id":"94a788d8-6ac9-417c-8181-7fd28c5cb414","type":"port.parameter","x":883.6875,"y":187,"name":"ROSTopic","alignment":"top","parentNode":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","links":["7fa42594-f088-4d9d-9a29-9509689f342a"],"in":true,"label":"ROSTopic","hideLabel":false}],"data":{"code":"#!/usr/bin/env python3\n\nimport numpy as np\nimport rospy\nfrom cv_bridge import CvBridge\nfrom sensor_msgs.msg import Image\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\nbridge = CvBridge()\nimg = None\n\ndef callback(msg):\n    \n    global img\n    img = np.asarray(bridge.imgmsg_to_cv2(msg, \"bgr8\"), dtype=np.uint8)\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    rospy.init_node(\"camera_ros\", anonymous=True)\n    \n    camera_subscriber = rospy.Subscriber(parameters[1], Image, callback)\n    \n    while img is None:\n        pass\n\n    try:\n    \n        while not rospy.is_shutdown():\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n            \n                output_0.add(img)\n                control_data[0] += 1\n                \n            sleep(control_data[1])       \n    \n    except KeyboardInterrupt:\n    \n        enable_wire.release()\n        output_0.release()\n","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"788px","height":"271px"}}},"af3b9847-7555-45fc-843c-117668b22e27":{"id":"af3b9847-7555-45fc-843c-117668b22e27","type":"basic.input","selected":false,"x":136,"y":335,"ports":[{"id":"6553b3b2-ce98-491e-aa43-b6e65ce803a6","type":"port.output","x":222,"y":354,"name":"input-out","alignment":"right","parentNode":"af3b9847-7555-45fc-843c-117668b22e27","links":["1263d1f7-9687-49be-9f58-a0d401f75b9e"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918":{"id":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","type":"basic.output","selected":false,"x":1239,"y":326,"ports":[{"id":"cc62b360-0ada-4a2a-804c-17f5fac0d31c","type":"port.input","x":1240,"y":345,"name":"output-in","alignment":"left","parentNode":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","links":["0a4214bc-59a0-46a5-9b34-7460f173cbfc"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"info":{"name":"CameraROS","version":"1.0.0","description":"Captures Video Stream from Simulated ROS Camera","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ3MnB0IiB2aWV3Qm94PSIwIC04NyA0NzIgNDcyIiB3aWR0aD0iNDcycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTQ2MiAzNS4xMjEwOTR2MjI3LjgyMDMxMmwtMTIxLjg3ODkwNi02Ni41NTA3ODFoLTEuMjEwOTM4di05NC43MTg3NWgxLjIxMDkzOHptMCAwIiBmaWxsPSIjMDBhY2VhIi8+PHBhdGggZD0ibTMzOC45MTAxNTYgMTk2LjM5MDYyNXY1MS4wMzEyNWMwIDIyLjA4OTg0NC0xNy45MTAxNTYgNDAtNDAgNDBoLTI0OC45MTAxNTZjLTIyLjA4OTg0NCAwLTQwLTE3LjkxMDE1Ni00MC00MHYtMTk3LjQyMTg3NWMwLTIyLjA4OTg0NCAxNy45MTAxNTYtNDAgNDAtNDBoMjQ4LjkxMDE1NmMyMi4wODk4NDQgMCA0MCAxNy45MTAxNTYgNDAgNDB6bTAgMCIgZmlsbD0iIzAwZWZkMSIvPjxwYXRoIGQ9Im00NjcuMTAxNTYyIDI2LjUxOTUzMWMtMy4wMzkwNjItMS44MDA3ODEtNi43OTY4NzQtMS44NjcxODctOS44OTg0MzctLjE3NTc4MWwtMTA4LjI5Njg3NSA1OS4xMzI4MTJ2LTM1LjQ3NjU2MmMtLjAzMTI1LTI3LjYwMTU2Mi0yMi4zOTg0MzgtNDkuOTY4NzUtNTAtNTBoLTI0OC45MDYyNWMtMjcuNjAxNTYyLjAzMTI1LTQ5Ljk2ODc1IDIyLjM5ODQzOC01MCA1MHYxOTcuNDIxODc1Yy4wMzEyNSAyNy41OTc2NTYgMjIuMzk4NDM4IDQ5Ljk2NDg0NCA1MCA1MGgyNDguOTEwMTU2YzI3LjYwMTU2My0uMDM1MTU2IDQ5Ljk2ODc1LTIyLjQwMjM0NCA1MC01MHYtMzQuODM5ODQ0bDEwOC4zMDA3ODIgNTkuMTMyODEzYzMuMDk3NjU2IDEuNjkxNDA2IDYuODU1NDY4IDEuNjI1IDkuODkwNjI0LS4xNzU3ODIgMy4wMzUxNTctMS44MDQ2ODcgNC44OTg0MzgtNS4wNzAzMTIgNC44OTg0MzgtOC42MDE1NjJ2LTIyNy44MTY0MDZjMC0zLjUzMTI1LTEuODYzMjgxLTYuODAwNzgyLTQuODk4NDM4LTguNjAxNTYzem0tMTM4LjE5MTQwNiAyMjAuOTAyMzQ0Yy0uMDE5NTMxIDE2LjU1ODU5NC0xMy40Mzc1IDI5Ljk4MDQ2OS0zMCAzMGgtMjQ4LjkxMDE1NmMtMTYuNTYyNS0uMDE5NTMxLTI5Ljk4MDQ2OS0xMy40NDE0MDYtMzAtMzB2LTE5Ny40MjE4NzVjLjAxOTUzMS0xNi41NjI1IDEzLjQzNzUtMjkuOTgwNDY5IDMwLTMwaDI0OC45MTAxNTZjMTYuNTYyNS4wMTk1MzEgMjkuOTgwNDY5IDEzLjQzNzUgMzAgMzB6bTEyMy4wODk4NDQtMS4zMzU5MzctMTAzLjA4OTg0NC01Ni4yODkwNjN2LTgxLjUzMTI1bDEwMy4wODk4NDQtNTYuMjkyOTY5em0wIDAiIGZpbGw9IiMwODM4NjMiLz48L3N2Zz4="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-311d4fd6-c88e-48ac-811b-323953cb854c","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":603,"y":9}},{"id":"0002-50be6404-1865-4676-a867-9b7b90b6d117","type":"basic.constant","data":{"name":"ROS Topic","value":"/drone_wrapper/cam_ventral/image_raw","local":true},"position":{"x":757,"y":12}},{"id":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","type":"basic.code","data":{"code":"#!/usr/bin/env python3\n\nimport numpy as np\nimport rospy\nfrom cv_bridge import CvBridge\nfrom sensor_msgs.msg import Image\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\nbridge = CvBridge()\nimg = None\n\ndef callback(msg):\n    \n    global img\n    img = np.asarray(bridge.imgmsg_to_cv2(msg, \"bgr8\"), dtype=np.uint8)\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    rospy.init_node(\"camera_ros\", anonymous=True)\n    \n    camera_subscriber = rospy.Subscriber(parameters[1], Image, callback)\n    \n    while img is None:\n        pass\n\n    try:\n    \n        while not rospy.is_shutdown():\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n            \n                output_0.add(img)\n                control_data[0] += 1\n                \n            sleep(control_data[1])       \n    \n    except KeyboardInterrupt:\n    \n        enable_wire.release()\n        output_0.release()\n","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"788px","height":"271px"}},"position":{"x":323,"y":186}},{"id":"af3b9847-7555-45fc-843c-117668b22e27","type":"basic.input","data":{"name":"E"},"position":{"x":136,"y":335}},{"id":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","type":"basic.output","data":{"name":"Out"},"position":{"x":1239,"y":326}}],"wires":[{"source":{"block":"0001-311d4fd6-c88e-48ac-811b-323953cb854c","port":"constant-out"},"target":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"Frequency"}},{"source":{"block":"0002-50be6404-1865-4676-a867-9b7b90b6d117","port":"constant-out"},"target":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"ROSTopic"}},{"source":{"block":"af3b9847-7555-45fc-843c-117668b22e27","port":"input-out"},"target":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"E"}},{"source":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"Out"},"target":{"block":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","port":"output-in"}}]}}},"0effe1d5-1cb5-43d3-a24c-13bfe74e62bd":{"id":"0effe1d5-1cb5-43d3-a24c-13bfe74e62bd","type":"block.package","selected":false,"x":1024,"y":319,"ports":[{"id":"68a2d523-0d15-4c9d-8a40-b127c4273640","type":"port.input","x":1025,"y":336,"name":"e14a28e9-0990-4730-9f11-1f52075edbd3","alignment":"left","parentNode":"0effe1d5-1cb5-43d3-a24c-13bfe74e62bd","links":["fc6b5d07-347d-45ed-84c7-9fdb7262dc74"],"in":true,"label":"Inp","hideLabel":false},{"id":"77242462-492b-485f-80a9-f227c2fdf361","type":"port.input","x":1025,"y":378,"name":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","alignment":"left","parentNode":"0effe1d5-1cb5-43d3-a24c-13bfe74e62bd","links":[],"in":true,"label":"E","hideLabel":false}],"data":{},"model":{"id":"bb24521a-8c41-4f55-8e96-b7aff41c4297","locked":false,"offsetX":-3,"offsetY":-4,"zoom":100,"gridSize":0,"layers":[{"id":"50937002-f39a-4d49-a9eb-39771635497f","type":"diagram-links","isSvg":true,"transformed":true,"models":{"4ed5d5b1-1755-4ed2-bbcc-9655d720b7a7":{"id":"4ed5d5b1-1755-4ed2-bbcc-9655d720b7a7","type":"default","selected":false,"source":"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff","sourcePort":"c1a3f539-be26-40d0-aa0b-831a2e6f882d","target":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","targetPort":"eb5daa6d-325f-4b4b-827b-daa13f6e7ba9","points":[{"id":"4d8f275f-7ec8-496c-ab93-95e0a6578cda","type":"point","x":547,"y":143.5},{"id":"2ba7db04-6ccb-403e-bac1-522c1bb9b16f","type":"point","x":538.171875,"y":216.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"68a44ab0-3e9e-447c-a9a2-717ffb6be1dd":{"id":"68a44ab0-3e9e-447c-a9a2-717ffb6be1dd","type":"default","selected":false,"source":"0002-cb4c125e-14b6-4322-b252-35d2817b2832","sourcePort":"c76ea7fc-9390-4252-bcaa-01bd0afe7bfd","target":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","targetPort":"e40c64c5-80f5-4cab-8203-a4b3431b49ae","points":[{"id":"fd70d57e-ad9b-4827-a179-26e599b59821","type":"point","x":827,"y":141.5},{"id":"2f355eab-dbab-4125-a6e6-3c11b62b0613","type":"point","x":813.0625,"y":216.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"960a8bf3-13a4-4773-a8bb-4ed4cae3a430":{"id":"960a8bf3-13a4-4773-a8bb-4ed4cae3a430","type":"default","selected":false,"source":"e14a28e9-0990-4730-9f11-1f52075edbd3","sourcePort":"4c189456-98bc-4610-be97-d8cc759247b2","target":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","targetPort":"4fd65cef-d69c-4534-8d18-3043151b46d8","points":[{"id":"834e9b97-e99f-47aa-b918-9fbb355cf685","type":"point","x":192.5,"y":341.5},{"id":"f0d2c509-53d2-4b08-8070-853f41395bbc","type":"point","x":292.5,"y":356.828125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"3fc6ee51-2c87-4c63-a032-0096970be90c":{"id":"3fc6ee51-2c87-4c63-a032-0096970be90c","type":"default","selected":false,"source":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","sourcePort":"8e68120d-9212-4c81-b37b-a6419b315258","target":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","targetPort":"b53a21e7-aba0-43a9-b5b1-e7feca9d5831","points":[{"id":"8dbad1bd-6bdf-4a37-8df1-d6934dece038","type":"point","x":200.5,"y":495.5},{"id":"f49750b2-f0ea-43b7-bde8-571909ef8105","type":"point","x":292.5,"y":497.15625}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"220b70ae-199a-4bc2-8a5d-05e7ec6ae5ca","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff":{"id":"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff","type":"basic.constant","selected":false,"x":486,"y":28,"ports":[{"id":"c1a3f539-be26-40d0-aa0b-831a2e6f882d","type":"port.output","x":539.5,"y":136,"name":"constant-out","alignment":"bottom","parentNode":"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff","links":["4ed5d5b1-1755-4ed2-bbcc-9655d720b7a7"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-cb4c125e-14b6-4322-b252-35d2817b2832":{"id":"0002-cb4c125e-14b6-4322-b252-35d2817b2832","type":"basic.constant","selected":false,"x":766,"y":26,"ports":[{"id":"c76ea7fc-9390-4252-bcaa-01bd0afe7bfd","type":"port.output","x":819.5,"y":134,"name":"constant-out","alignment":"bottom","parentNode":"0002-cb4c125e-14b6-4322-b252-35d2817b2832","links":["68a44ab0-3e9e-447c-a9a2-717ffb6be1dd"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"ROS Topic","value":"/robot/cmd_vel","local":true}},"8a7a9a8d-260f-4d31-a515-f202e4f9e005":{"id":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","type":"basic.code","selected":false,"x":284,"y":208,"ports":[{"id":"4fd65cef-d69c-4534-8d18-3043151b46d8","type":"port.input","x":285,"y":349.328125,"name":"Inp","alignment":"left","parentNode":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","links":["960a8bf3-13a4-4773-a8bb-4ed4cae3a430"],"in":true,"label":"Inp","hideLabel":false},{"id":"b53a21e7-aba0-43a9-b5b1-e7feca9d5831","type":"port.input","x":285,"y":489.65625,"name":"E","alignment":"left","parentNode":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","links":["3fc6ee51-2c87-4c63-a032-0096970be90c"],"in":true,"label":"E","hideLabel":false},{"id":"eb5daa6d-325f-4b4b-827b-daa13f6e7ba9","type":"port.parameter","x":530.671875,"y":209,"name":"Frequency","alignment":"top","parentNode":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","links":["4ed5d5b1-1755-4ed2-bbcc-9655d720b7a7"],"in":true,"label":"Frequency","hideLabel":false},{"id":"e40c64c5-80f5-4cab-8203-a4b3431b49ae","type":"port.parameter","x":805.5625,"y":209,"name":"ROSTopic","alignment":"top","parentNode":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","links":["68a44ab0-3e9e-447c-a9a2-717ffb6be1dd"],"in":true,"label":"ROSTopic","hideLabel":false}],"data":{"code":"#!/usr/bin/env python3\n\nimport rospy\nimport numpy as np\nfrom time import sleep\nfrom geometry_msgs.msg import Twist\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\nlinear_velocity, angular_velocity = 0.0, 0.0\n\ndef callback(mem):\n    \n    global linear_velocity, angular_velocity\n    \n    msg = mem.get()\n    if msg is not None:\n        linear_velocity = float(msg[0])\n        angular_velocity = float(msg[1])\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[1])\n\n    rospy.init_node(\"motordriverVC\", anonymous=True)\n    output_0 = rospy.Publisher(parameters[1], Twist, queue_size=10)\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    data = Twist()\n\n    try:\n    \n        while not rospy.is_shutdown():\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n        \n                callback(input_0)\n                data.linear.x = linear_velocity\n                data.angular.z = angular_velocity\n                output_0.publish(data)\n                control_data[0] += 1\n                \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[]},"size":{"width":"0px","height":"0px"}}},"e14a28e9-0990-4730-9f11-1f52075edbd3":{"id":"e14a28e9-0990-4730-9f11-1f52075edbd3","type":"basic.input","selected":false,"x":99,"y":315,"ports":[{"id":"4c189456-98bc-4610-be97-d8cc759247b2","type":"port.output","x":185,"y":334,"name":"input-out","alignment":"right","parentNode":"e14a28e9-0990-4730-9f11-1f52075edbd3","links":["960a8bf3-13a4-4773-a8bb-4ed4cae3a430"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2":{"id":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","type":"basic.input","selected":false,"x":107,"y":469,"ports":[{"id":"8e68120d-9212-4c81-b37b-a6419b315258","type":"port.output","x":193,"y":488,"name":"input-out","alignment":"right","parentNode":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","links":["3fc6ee51-2c87-4c63-a032-0096970be90c"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}}}}]},"info":{"name":"MotorDriver","version":"1.0.0","description":"Controls Robot's Movement.","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB2aWV3Qm94PSIwIDAgMTI4IDEyOCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiPjx0aXRsZT5NT1RPUiBEQzwvdGl0bGU+PHBhdGggZD0iTTU0LjQ2OSwzNC42MjVINzQuNjNhNy4yOTQsNy4yOTQsMCwwLDEsNy4yOTQsNy4yOTRWNTJhMCwwLDAsMCwxLDAsMEg0Ny4xNzVhMCwwLDAsMCwxLDAsMFY0MS45MTlBNy4yOTQsNy4yOTQsMCwwLDEsNTQuNDY5LDM0LjYyNVoiIHN0eWxlPSJmaWxsOiNiYWRkZmEiLz48cGF0aCBkPSJNODAuNDI1LDUySDQ4LjY3NVY3Mi4xOTFBNC4wNzYsNC4wNzYsMCwwLDAsNTEuMyw3NmgwYTQuMDc2LDQuMDc2LDAsMCwxLDIuNjI1LDMuODA5VjgwLjVoMjEuMjV2LS42OTFBNC4wNzYsNC4wNzYsMCwwLDEsNzcuOCw3NmgwYTQuMDc2LDQuMDc2LDAsMCwwLDIuNjI1LTMuODA5WiIgc3R5bGU9ImZpbGw6I2ZmZiIvPjxyZWN0IHg9IjYxLjExMiIgeT0iODYuNSIgd2lkdGg9IjYuODc1IiBoZWlnaHQ9IjYuODc1IiBzdHlsZT0iZmlsbDojYmFkZGZhIi8+PHBhdGggZD0iTTc0LjYzLDMzLjUyNUg1NC40NjlhOC40LDguNCwwLDAsMC04LjM5NCw4LjM5NVY1MmExLjEsMS4xLDAsMCwwLDEuMSwxLjFoLjRWNzIuMTkxYTUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLDQuODM3LDIuOTkxLDIuOTkxLDAsMCwxLDEuOTE2LDIuNzhWODAuNWExLjEsMS4xLDAsMCwwLDEuMSwxLjFINjMuNDV2My44SDYxLjExMmExLjEsMS4xLDAsMCwwLTEuMSwxLjF2Ni44NzVhMS4xLDEuMSwwLDAsMCwxLjEsMS4xaDYuODc1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY4Ni41YTEuMSwxLjEsMCwwLDAtMS4xLTEuMUg2NS42NVY4MS42aDkuNTI1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMXYtLjY5MWEyLjk5MSwyLjk5MSwwLDAsMSwxLjkxNi0yLjc4LDUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLTQuODM3VjUzLjFoLjRhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjQxLjkyQTguNCw4LjQsMCwwLDAsNzQuNjMsMzMuNTI1Wm0tNy43NDMsNTguNzVINjIuMjEyVjg3LjZoNC42NzVaTTQ4LjI3NSw0MS45MmE2LjIsNi4yLDAsMCwxLDYuMTk0LTYuMkg3NC42M2E2LjIsNi4yLDAsMCwxLDYuMTk0LDYuMlY1MC45SDQ4LjI3NVptMzEuMDUsMzAuMjcyYTIuOTkxLDIuOTkxLDAsMCwxLTEuOTE2LDIuNzhBNS4yMSw1LjIxLDAsMCwwLDc0LjA5MSw3OS40SDU1LjAwOGE1LjIxLDUuMjEsMCwwLDAtMy4zMTctNC40MjksMi45OTEsMi45OTEsMCwwLDEtMS45MTYtMi43OFY1My4xaDI5LjU1WiIgc3R5bGU9ImZpbGw6IzM5NDlhYSIvPjxwYXRoIGQ9Ik01Ny44LDcxLjZhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjU4Ljc1YTEuMSwxLjEsMCwwLDAtMi4yLDBWNzAuNUExLjEsMS4xLDAsMCwwLDU3LjgsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNjQuNTUsNzEuNmExLjEsMS4xLDAsMCwwLDEuMS0xLjFWNTguNzVhMS4xLDEuMSwwLDAsMC0yLjIsMFY3MC41QTEuMSwxLjEsMCwwLDAsNjQuNTUsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNzEuMyw3MS42YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY1OC43NWExLjEsMS4xLDAsMCwwLTIuMiwwVjcwLjVBMS4xLDEuMSwwLDAsMCw3MS4zLDcxLjZaIiBzdHlsZT0iZmlsbDojMzk0OWFhIi8+PC9zdmc+Cg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":486,"y":28}},{"id":"0002-cb4c125e-14b6-4322-b252-35d2817b2832","type":"basic.constant","data":{"name":"ROS Topic","value":"/robot/cmd_vel","local":true},"position":{"x":766,"y":26}},{"id":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","type":"basic.code","data":{"code":"#!/usr/bin/env python3\n\nimport rospy\nimport numpy as np\nfrom time import sleep\nfrom geometry_msgs.msg import Twist\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\nlinear_velocity, angular_velocity = 0.0, 0.0\n\ndef callback(mem):\n    \n    global linear_velocity, angular_velocity\n    \n    msg = mem.get()\n    if msg is not None:\n        linear_velocity = float(msg[0])\n        angular_velocity = float(msg[1])\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[1])\n\n    rospy.init_node(\"motordriverVC\", anonymous=True)\n    output_0 = rospy.Publisher(parameters[1], Twist, queue_size=10)\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    data = Twist()\n\n    try:\n    \n        while not rospy.is_shutdown():\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n        \n                callback(input_0)\n                data.linear.x = linear_velocity\n                data.angular.z = angular_velocity\n                output_0.publish(data)\n                control_data[0] += 1\n                \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[]},"size":{"width":"0px","height":"0px"}},"position":{"x":284,"y":208}},{"id":"e14a28e9-0990-4730-9f11-1f52075edbd3","type":"basic.input","data":{"name":"Inp"},"position":{"x":99,"y":315}},{"id":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","type":"basic.input","data":{"name":"E"},"position":{"x":107,"y":469}}],"wires":[{"source":{"block":"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff","port":"constant-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"Frequency"}},{"source":{"block":"0002-cb4c125e-14b6-4322-b252-35d2817b2832","port":"constant-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"ROSTopic"}},{"source":{"block":"e14a28e9-0990-4730-9f11-1f52075edbd3","port":"input-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"Inp"}},{"source":{"block":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","port":"input-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"E"}}]}}},"f2b91689-89ff-4b37-b6e6-0343cef5818e":{"id":"f2b91689-89ff-4b37-b6e6-0343cef5818e","type":"block.package","selected":false,"x":824,"y":318,"ports":[{"id":"20510d75-ac43-4e3d-bbee-8189fecf1414","type":"port.input","x":825,"y":335,"name":"78796547-0b83-48fc-b719-cbf394907dc1","alignment":"left","parentNode":"f2b91689-89ff-4b37-b6e6-0343cef5818e","links":["4ae5b4f5-a962-460a-871f-d08bc46873c1"],"in":true,"label":"Inp","hideLabel":false},{"id":"4d46c98b-81a9-482c-9fe2-1dcc51d67232","type":"port.input","x":825,"y":377,"name":"b4fbd756-2c48-4f10-9341-a7498ffd8807","alignment":"left","parentNode":"f2b91689-89ff-4b37-b6e6-0343cef5818e","links":[],"in":true,"label":"E","hideLabel":false},{"id":"79c0b4fa-2855-4c36-adb1-56e9de6a47e9","type":"port.output","x":940,"y":356,"name":"2467bd46-3a99-4709-8276-b24847a76f07","alignment":"right","parentNode":"f2b91689-89ff-4b37-b6e6-0343cef5818e","links":["fc6b5d07-347d-45ed-84c7-9fdb7262dc74"],"in":false,"label":"Out","hideLabel":false}],"data":{},"model":{"id":"a5c93ef7-9cae-41be-9846-7bed1337d795","offsetX":0,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"7b514c32-ff20-47fc-8c9c-579b36d08bcd","type":"diagram-links","isSvg":true,"transformed":true,"models":{"5bf051a5-59db-4bfc-9bc8-d8a776d2a624":{"id":"5bf051a5-59db-4bfc-9bc8-d8a776d2a624","type":"default","selected":false,"source":"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf","sourcePort":"bbb44acd-b298-462e-b881-1a34fc86830c","target":"05faca20-77c3-4bb6-8a6a-c827aa222af2","targetPort":"216ed536-f82f-40c1-9b51-8c9235840550","points":[{"id":"71de9b95-cdcf-4aa2-aa56-cf30996b771e","type":"point","x":562,"y":120.69999694824219},{"id":"1a3a9908-e6c9-4a6d-9509-d57720979e86","type":"point","x":490.125,"y":206.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"7f4a7dac-75ea-4a72-afec-3768fbe68029":{"id":"7f4a7dac-75ea-4a72-afec-3768fbe68029","type":"default","selected":false,"source":"0002-f07702a6-0709-4326-b6ac-8aa054502ca4","sourcePort":"6111a363-79c6-4d91-8267-5ced91f294a2","target":"05faca20-77c3-4bb6-8a6a-c827aa222af2","targetPort":"26b6fd36-380b-42bf-ad86-8a827b7109be","points":[{"id":"65697051-251d-4058-9be7-803b16a1850e","type":"point","x":701,"y":119.69999694824219},{"id":"eeeec6d4-bb3f-4631-8430-745853768418","type":"point","x":693.75,"y":206.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"e15ea063-7891-425a-9ab6-4029cfca8cd1":{"id":"e15ea063-7891-425a-9ab6-4029cfca8cd1","type":"default","selected":false,"source":"0003-a378a01c-79b9-4818-8534-d329ad60b5c8","sourcePort":"d53fbdf5-94d1-4258-9bd3-6c62ca925cbf","target":"05faca20-77c3-4bb6-8a6a-c827aa222af2","targetPort":"9a683d7c-02e9-4447-bced-46cee2d50571","points":[{"id":"5ddd7e52-582b-42e3-98d6-a687a5d358b8","type":"point","x":842,"y":118.69999694824219},{"id":"24c0c6af-dbdc-4c1c-8b74-7ab630da072b","type":"point","x":881.8875122070312,"y":206.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"2398e939-5ccb-4f98-bc3c-628fc6ee78d9":{"id":"2398e939-5ccb-4f98-bc3c-628fc6ee78d9","type":"default","selected":false,"source":"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2","sourcePort":"b828157e-daaa-4f53-b3ac-eed80173852a","target":"05faca20-77c3-4bb6-8a6a-c827aa222af2","targetPort":"e7846f16-72f1-4bbb-8f6a-0024d4a99e4f","points":[{"id":"c7c9f599-24bb-48a3-8d03-6a289438a316","type":"point","x":980,"y":117.69999694824219},{"id":"68d61a5d-bd43-4142-9a63-e4d0edbee3ac","type":"point","x":1070.0250244140625,"y":206.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"8b56d9f2-b316-489d-bd66-13cee88bd889":{"id":"8b56d9f2-b316-489d-bd66-13cee88bd889","type":"default","selected":false,"source":"78796547-0b83-48fc-b719-cbf394907dc1","sourcePort":"0251c6f0-6def-4b95-8935-692657db9393","target":"05faca20-77c3-4bb6-8a6a-c827aa222af2","targetPort":"0e2bc95e-9d48-4284-ad71-ba63dcb07da5","points":[{"id":"158e9e91-fbd1-4dc2-84c0-4823c81c8266","type":"point","x":226.5,"y":348.6000061035156},{"id":"9ad5f4a4-3c96-4cff-b4cc-4b67d60fcad2","type":"point","x":301.5,"y":344.1625061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"403d4f8b-2a1e-407b-84bd-9bcd455ebcd4":{"id":"403d4f8b-2a1e-407b-84bd-9bcd455ebcd4","type":"default","selected":false,"source":"b4fbd756-2c48-4f10-9341-a7498ffd8807","sourcePort":"1e0b1554-c640-41c2-83eb-13935aa424e9","target":"05faca20-77c3-4bb6-8a6a-c827aa222af2","targetPort":"007fd589-1945-4b8d-b44e-ae346f993f04","points":[{"id":"f73557ee-6dd5-43ff-bf6f-776413cddb8e","type":"point","x":236.5,"y":495.60003662109375},{"id":"0d518b6d-b48c-496c-b99d-1c7d7bf12951","type":"point","x":301.5,"y":481.82501220703125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"53e44706-ec08-4705-be57-6cd81b52ee14":{"id":"53e44706-ec08-4705-be57-6cd81b52ee14","type":"default","selected":false,"source":"05faca20-77c3-4bb6-8a6a-c827aa222af2","sourcePort":"bee4a169-71e1-4f15-8c81-f487bed38968","target":"2467bd46-3a99-4709-8276-b24847a76f07","targetPort":"c5687809-3689-4040-8fab-8a83d2dd8cca","points":[{"id":"67e30655-655e-4c21-bc8c-6b635e6e98eb","type":"point","x":1243.1624755859375,"y":413},{"id":"04904867-f213-4a14-ab48-4f06d58ca430","type":"point","x":1336.5,"y":411.6000061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"6ac35df0-6fa1-4daf-860b-6dd1570680e1","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf":{"id":"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf","type":"basic.constant","selected":false,"x":501,"y":5,"ports":[{"id":"bbb44acd-b298-462e-b881-1a34fc86830c","type":"port.output","x":554.5,"y":113.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf","links":["5bf051a5-59db-4bfc-9bc8-d8a776d2a624"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-f07702a6-0709-4326-b6ac-8aa054502ca4":{"id":"0002-f07702a6-0709-4326-b6ac-8aa054502ca4","type":"basic.constant","selected":false,"x":640,"y":4,"ports":[{"id":"6111a363-79c6-4d91-8267-5ced91f294a2","type":"port.output","x":693.5,"y":112.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0002-f07702a6-0709-4326-b6ac-8aa054502ca4","links":["7f4a7dac-75ea-4a72-afec-3768fbe68029"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Kp","value":"1.0","local":true}},"0003-a378a01c-79b9-4818-8534-d329ad60b5c8":{"id":"0003-a378a01c-79b9-4818-8534-d329ad60b5c8","type":"basic.constant","selected":false,"x":781,"y":3,"ports":[{"id":"d53fbdf5-94d1-4258-9bd3-6c62ca925cbf","type":"port.output","x":834.5,"y":111.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0003-a378a01c-79b9-4818-8534-d329ad60b5c8","links":["e15ea063-7891-425a-9ab6-4029cfca8cd1"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Ki","value":"1.0","local":true}},"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2":{"id":"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2","type":"basic.constant","selected":false,"x":919,"y":2,"ports":[{"id":"b828157e-daaa-4f53-b3ac-eed80173852a","type":"port.output","x":972.5,"y":110.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2","links":["2398e939-5ccb-4f98-bc3c-628fc6ee78d9"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Kd","value":"1.0","local":true}},"05faca20-77c3-4bb6-8a6a-c827aa222af2":{"id":"05faca20-77c3-4bb6-8a6a-c827aa222af2","type":"basic.code","selected":false,"x":293,"y":198,"ports":[{"id":"0e2bc95e-9d48-4284-ad71-ba63dcb07da5","type":"port.input","x":294,"y":336.6625061035156,"name":"Inp","alignment":"left","parentNode":"05faca20-77c3-4bb6-8a6a-c827aa222af2","links":["8b56d9f2-b316-489d-bd66-13cee88bd889"],"in":true,"label":"Inp","hideLabel":false},{"id":"007fd589-1945-4b8d-b44e-ae346f993f04","type":"port.input","x":294,"y":474.32501220703125,"name":"E","alignment":"left","parentNode":"05faca20-77c3-4bb6-8a6a-c827aa222af2","links":["403d4f8b-2a1e-407b-84bd-9bcd455ebcd4"],"in":true,"label":"E","hideLabel":false},{"id":"bee4a169-71e1-4f15-8c81-f487bed38968","type":"port.output","x":1235.6624755859375,"y":405.5,"name":"Out","alignment":"right","parentNode":"05faca20-77c3-4bb6-8a6a-c827aa222af2","links":["53e44706-ec08-4705-be57-6cd81b52ee14"],"in":false,"label":"Out","hideLabel":false},{"id":"216ed536-f82f-40c1-9b51-8c9235840550","type":"port.parameter","x":482.625,"y":199,"name":"Frequency","alignment":"top","parentNode":"05faca20-77c3-4bb6-8a6a-c827aa222af2","links":["5bf051a5-59db-4bfc-9bc8-d8a776d2a624"],"in":true,"label":"Frequency","hideLabel":false},{"id":"26b6fd36-380b-42bf-ad86-8a827b7109be","type":"port.parameter","x":686.25,"y":199,"name":"Kp","alignment":"top","parentNode":"05faca20-77c3-4bb6-8a6a-c827aa222af2","links":["7f4a7dac-75ea-4a72-afec-3768fbe68029"],"in":true,"label":"Kp","hideLabel":false},{"id":"9a683d7c-02e9-4447-bced-46cee2d50571","type":"port.parameter","x":874.3875122070312,"y":199,"name":"Ki","alignment":"top","parentNode":"05faca20-77c3-4bb6-8a6a-c827aa222af2","links":["e15ea063-7891-425a-9ab6-4029cfca8cd1"],"in":true,"label":"Ki","hideLabel":false},{"id":"e7846f16-72f1-4bbb-8f6a-0024d4a99e4f","type":"port.parameter","x":1062.5250244140625,"y":199,"name":"Kd","alignment":"top","parentNode":"05faca20-77c3-4bb6-8a6a-c827aa222af2","links":["2398e939-5ccb-4f98-bc3c-628fc6ee78d9"],"in":true,"label":"Kd","hideLabel":false}],"data":{"code":"import numpy as np\nimport math\nfrom time import sleep\nfrom utils.wires.wire_str import read_string, share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[0])\n    output_0 = share_string(output_wires[0])\n\n    kp = float(parameters[1])\n    ki = float(parameters[2])\n    kd = float(parameters[3])\n    previousError, I = 0, 0\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                msg = input_0.get()\n                \n                if msg is not None and msg[0] is not None:\n                \n                    error = float(msg[0])\n                    sleep(0.01)\n                    \n                    # PID Control Logic\n                    \n                    P = error\n                    I = I + error\n                    D = error-previousError\n                    PIDvalue = (kp*P) + (ki*I) + (kd*D)\n                    previousError = error\n            \n                    linear_velocity = 5.0\n            \n                    angular_velocity = -PIDvalue\n                    \n                    data = []\n                    data.extend((str(linear_velocity), str(angular_velocity)))\n                    to_write = np.array(data, dtype='<U6')\n                    output_0.add(to_write)\n                    control_data[0] += 1\n                    \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"},{"name":"Kp"},{"name":"Ki"},{"name":"Kd"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"900px","height":"370px"}}},"78796547-0b83-48fc-b719-cbf394907dc1":{"id":"78796547-0b83-48fc-b719-cbf394907dc1","type":"basic.input","selected":false,"x":133,"y":322,"ports":[{"id":"0251c6f0-6def-4b95-8935-692657db9393","type":"port.output","x":219,"y":341.1000061035156,"name":"input-out","alignment":"right","parentNode":"78796547-0b83-48fc-b719-cbf394907dc1","links":["8b56d9f2-b316-489d-bd66-13cee88bd889"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"b4fbd756-2c48-4f10-9341-a7498ffd8807":{"id":"b4fbd756-2c48-4f10-9341-a7498ffd8807","type":"basic.input","selected":false,"x":143,"y":469,"ports":[{"id":"1e0b1554-c640-41c2-83eb-13935aa424e9","type":"port.output","x":229,"y":488.10003662109375,"name":"input-out","alignment":"right","parentNode":"b4fbd756-2c48-4f10-9341-a7498ffd8807","links":["403d4f8b-2a1e-407b-84bd-9bcd455ebcd4"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"2467bd46-3a99-4709-8276-b24847a76f07":{"id":"2467bd46-3a99-4709-8276-b24847a76f07","type":"basic.output","selected":false,"x":1328,"y":385,"ports":[{"id":"c5687809-3689-4040-8fab-8a83d2dd8cca","type":"port.input","x":1329,"y":404.1000061035156,"name":"output-in","alignment":"left","parentNode":"2467bd46-3a99-4709-8276-b24847a76f07","links":["53e44706-ec08-4705-be57-6cd81b52ee14"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"info":{"name":"PID","version":"1.0.0","description":"Navigation using PID","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfNSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PGc+PGc+PHBhdGggZD0ibTI1LjQyIDYyaC0yMS40MnYtOC4yOWMwLTIuOTUgMS4yLTUuNjMgMy4xNC03LjU3Ljg0LS44NCAxLjgyLTEuNTQgMi45LTIuMDYgMS40MS0uNjkgMy0xLjA4IDQuNjctMS4wOC40NCAwIC44Ny4wMyAxLjI5LjA4IDIuODIuMzQgNS4zNCAxLjc4IDcuMDUgMy45MiAxLjE4IDEuNDYgMS45OCAzLjIzIDIuMjYgNS4ybC42OSA0LjguMDMuMDggNC44MS0yLjE5IDEuOTggNC40Ni00LjM4IDJjLS45NS40My0xLjk4LjY1LTMuMDIuNjV6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNy40MiA1Ni45OWMuNTUtMS4xNS41OC0xLjM1LjU4LTEuNTYgMC0xLjM0LTEuMDktMi40My0yLjQzLTIuNDNoLS4wNGMtLjM1IDAtLjY5LjA3LTEuMDEuMjJsLTEuMi41NGMxLjA0LTEuNzEgMi45MS0yLjc2IDQuOTItMi43NmgxLjc2Yy43MyAwIDEuNDEuMiAyIC41NC4zLjE3LjU4LjM5LjgzLjYzLjcyLjczIDEuMTcgMS43MyAxLjE3IDIuODNzLS45IDItMiAyaC00LjU3eiIgZmlsbD0iI2I0ZGQ3ZiIvPjwvZz48Zz48cGF0aCBkPSJtMzMuMzIgNTMuNzYtLjAxLjAxLTEuMzEuNTl2LTcuMzZoMTB2NC41NGMtLjU5LS4zNC0xLjI3LS41NC0yLS41NGgtMS43NmMtMi4wMSAwLTMuODggMS4wNS00LjkyIDIuNzZ6IiBmaWxsPSIjYWFiMmJkIi8+PC9nPjxnPjxwYXRoIGQ9Im02MiAzOXY0YzAgMi4yMS0xLjc5IDQtNCA0aC02LTEwLTEwLTguOTVjLTEuNzEtMi4xNC00LjIzLTMuNTgtNy4wNS0zLjkydi0zLjA4aC0uMzJjLjg1IDAgMS42Ni0uMzQgMi4yNS0uOTNsLjA3LS4wN3oiIGZpbGw9IiNjY2QxZDkiLz48L2c+PGc+PHBhdGggZD0ibTU4IDEzaC0yMC0xNi4wNS0uMDFjLS4zMyAzLjQ2LTIuNDQgNi40LTUuNCA3LjkxLjg5Ljc0IDEuNDYgMS44NSAxLjQ2IDMuMDloM2MxLjEgMCAyIC44OSAyIDIgMCAuNTUtLjIyIDEuMDUtLjU5IDEuNDEtLjM2LjM3LS44Ni41OS0xLjQxLjU5aC0zbC44NSA4LjVjLjAxLjEuMDEuMjEuMDEuMzEgMCAuODEtLjMgMS41OS0uODYgMi4xOWg0NHYtMjJjMC0yLjIxLTEuNzktNC00LTR6IiBmaWxsPSIjNjlkNmY0Ii8+PC9nPjxnPjxjaXJjbGUgY3g9IjQ4IiBjeT0iMTMiIGZpbGw9IiNlNmU5ZWQiIHI9IjEwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNyAyOWg4djZoLTh6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yMS45NCAxM2MtLjMzIDMuNDYtMi40NCA2LjQtNS40IDcuOTEtLjY5LS41Ny0xLjU4LS45MS0yLjU0LS45MWgtNGMtMS4wNCAwLTIuMDIuMjYtMi44Ny43My0zLjA2LTEuNzEtNS4xMy00Ljk4LTUuMTMtOC43MyAwLTUuNTIgNC40OC0xMCAxMC0xMHMxMCA0LjQ4IDEwIDEwYzAgLjM0LS4wMi42Ny0uMDYgMXoiIGZpbGw9IiNlNmU5ZWQiLz48L2c+PGc+PHBhdGggZD0ibTEwIDM1djVjLTMuNTgtMS4xOS02LTQuNTUtNi04LjMzdi0zLjY3aDZsLS45NC45NGMtLjY4LjY4LTEuMDYgMS42LTEuMDYgMi41NnMuMzggMS44OCAxLjA2IDIuNTZ6IiBmaWxsPSIjNjU2ZDc4Ii8+PC9nPjxnPjxwYXRoIGQ9Im0xOCAyNGgtMi43NmMtLjc2IDAtMS40NS40My0xLjc5IDEuMWwtMS40NSAyLjloLTItNnYtMmMwLTIuMjcgMS4yNy00LjI1IDMuMTMtNS4yNy44NS0uNDcgMS44My0uNzMgMi44Ny0uNzNoNGMuOTYgMCAxLjg1LjM0IDIuNTQuOTEuODkuNzQgMS40NiAxLjg1IDEuNDYgMy4wOXoiIGZpbGw9IiNmZjgyNmUiLz48L2c+PGc+PHBhdGggZD0ibTIxIDI0YzEuMSAwIDIgLjg5IDIgMiAwIC41NS0uMjIgMS4wNS0uNTkgMS40MS0uMzYuMzctLjg2LjU5LTEuNDEuNTloLTMtNmwxLjQ1LTIuOWMuMzQtLjY3IDEuMDMtMS4xIDEuNzktMS4xaDIuNzZ6IiBmaWxsPSIjZmM2ZTUxIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNS41NyA1M2MxLjM0IDAgMi40MyAxLjA5IDIuNDMgMi40MyAwIC4yMS0uMDMuNDEtLjU4IDEuNTYtLjIyLjI4LS41MS41LS44NS42NmwtMy43NSAxLjctMS45OC00LjQ2IDEuMTYtLjUzIDEuMzEtLjU5LjAxLS4wMSAxLjItLjU0Yy4zMi0uMTUuNjYtLjIyIDEuMDEtLjIyeiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48Zz48cGF0aCBkPSJtMTAgNDB2LTVsLS45NC0uOTRjLS42OC0uNjgtMS4wNi0xLjYtMS4wNi0yLjU2cy4zOC0xLjg4IDEuMDYtMi41NmwuOTQtLjk0aDIgNmwuODUgOC41Yy4wMS4xLjAxLjIxLjAxLjMxIDAgLjgxLS4zIDEuNTktLjg2IDIuMTktLjAzLjAzLS4wNS4wNS0uMDcuMDctLjU5LjU5LTEuNC45My0yLjI1LjkzaC4zMnYzLjA4Yy0uNDItLjA1LS44NS0uMDgtMS4yOS0uMDgtMS42NyAwLTMuMjYuMzktNC42NyAxLjA4bC0uMDQtLjA4eiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48L2c+PGc+PHBhdGggZD0ibTEzIDEwLjE2MiAxLjI3OSAzLjgzOGg0LjcyMXYtMmgtMy4yNzlsLTIuNzIxLTguMTYyLTMuMTg2IDkuNTU2LTEuMTk2LTIuMzk0aC0zLjYxOHYyaDIuMzgybDIuODA0IDUuNjA2eiIvPjxwYXRoIGQ9Im01OCA0OGMyLjc1NyAwIDUtMi4yNDMgNS01di0yNmMwLTIuNDMtMS43NDQtNC40NTYtNC4wNDYtNC45MDQtLjQ2Mi01LjY0My01LjE5NC0xMC4wOTYtMTAuOTU0LTEwLjA5Ni01LjcyOCAwLTEwLjQ0MiA0LjQwMi0xMC45NDkgMTBoLTE0LjA1MWMwLTYuMDY1LTQuOTM1LTExLTExLTExcy0xMSA0LjkzNS0xMSAxMWMwIDMuNDY4IDEuNjQyIDYuNzA3IDQuMzY0IDguNzctMS40NDYgMS4yODMtMi4zNjQgMy4xNDktMi4zNjQgNS4yM3YxLjk5OSAxIDIuNjc2YzAgMy45NjkgMi4zODMgNy41MDMgNiA5LjAxNHYyLjgwOGMtMy41NzUgMi4wMDctNiA1LjgzMS02IDEwLjIxNHY5LjI4OWgyMi44NTZ2LS4wMjNjMS4wMzctLjA1NCAyLjA0NC0uMjg4IDIuOTk0LS43Mmw4LjEzNi0zLjY5OGMuMzE3LS4xNDQuNjAzLS4zMzQuODU2LS41NTloNC4xNThjMS4zMDIgMCAyLjQwMi0uODM5IDIuODE2LTJoMTUuMTg0YzEuNjU0IDAgMy0xLjM0NiAzLTNzLTEuMzQ2LTMtMy0zaC02Yy0uNTUyIDAtMS0uNDQ4LTEtMXYtMXptMC0yaC0zNC41MTJjLTEuNjc3LTEuOS0zLjk0NS0zLjI1Mi02LjQ4OC0zLjc2NXYtMS40N2MuNDk5LS4xNjcuOTU5LS40MjUgMS4zNjQtLjc2NWg0Mi42MzZ2M2MwIDEuNjU0LTEuMzQ2IDMtMyAzem0tMTggNGgtMS43NjRjLTIuMDQ5IDAtMy45OTguOTUtNS4yMzYgMi40NzZ2LTQuNDc2aDh2Mi4xMDFjLS4zMjMtLjA2Ni0uNjU4LS4xMDEtMS0uMTAxem0tMTMuMTg2IDUuNjIzLS41MS0zLjU2OGMtLjIwOS0xLjQ2LS42OS0yLjgyNi0xLjM4My00LjA1NWg2LjA3OXY1Ljcyem0tMTMuMTk2LTI4LjYyNC43MjQtMS40NDdjLjE3LS4zNDEuNTEzLS41NTMuODk1LS41NTNoNS43NjNjLjU1MiAwIDEgLjQ0OSAxIDFzLS40NDggMS0xIDF6bTM0LjM4Mi0yMi45OTljNC45NjMgMCA5IDQuMDM4IDkgOXMtNC4wMzcgOS05IDktOS00LjAzOC05LTkgNC4wMzctOSA5LTl6bS0xMC45NDkgMTBjLjUwNyA1LjU5OCA1LjIyMSAxMCAxMC45NDkgMTAgNS42NzIgMCAxMC4zNTMtNC4zMTYgMTAuOTM3LTkuODM1IDEuMTk0LjM5NiAyLjA2MyAxLjUxIDIuMDYzIDIuODM1djIxaC00MS4zMjRjLjE1Mi0uNTEzLjIyNC0xLjA1My4xNjgtMS42MDJsLS43NC03LjM5OWgxLjg5NmMxLjY1NCAwIDMtMS4zNDYgMy0zcy0xLjM0Ni0zLTMtM2gtMi4xMDFjLS4xMzktLjY4LS40My0xLjMwMS0uODE1LTEuODUxIDIuNDk1LTEuNjU2IDQuMTc2LTQuMjI4IDQuNzEyLTcuMTQ4em0tMzQuMDUxLTJjMC00Ljk2MiA0LjAzNy05IDktOXM5IDQuMDM4IDkgOWMwIDMuMjA3LTEuNjg5IDYuMTA2LTQuNDIyIDcuNzI2LS43NTQtLjQ1Ny0xLjYzMy0uNzI2LTIuNTc3LS43MjZoLTQuMDAxYy0uOTk3IDAtMS45NDQuMjEzLTIuODAzLjU5LTIuNTkzLTEuNjQ1LTQuMTk3LTQuNS00LjE5Ny03LjU5em0yIDE0YzAtMi43NTcgMi4yNDMtNSA1LTVoNC4wMDFjMS4zMDQgMCAyLjQxNS44MzUgMi44MjcgMS45OTloLTEuNTkyYy0xLjE0NCAwLTIuMTcyLjYzNS0yLjY4NCAxLjY1OGwtMS4xNzEgMi4zNDJoLTYuMzgxem0wIDUuNjc1di0yLjY3NmgyLjc0MWMtLjQ3OS43NC0uNzQxIDEuNTk5LS43NDEgMi41MDEgMCAxLjIxNi40OTMgMi40MDcgMS4zNTQgMy4yNjhsLjY0Ni42NDZ2My4wNDNjLTIuNDM0LTEuMzUzLTQtMy45MjEtNC02Ljc4MnptNC43NjggMS42NzljLS40ODgtLjQ4OC0uNzY4LTEuMTY0LS43NjgtMS44NTQgMC0uNy4yNzItMS4zNTguNzY4LTEuODU0bC42NDctLjY0N2g2LjY4bC43NiA3LjZjLjA2Ni42NTMtLjE2MyAxLjI5Ni0uNjI5IDEuNzYyLS40MDYuNDA2LS45Ny42NC0xLjU0NS42NGgtMi42ODF2MmgydjEuMDEzYy0uMDk3LS4wMDMtLjE5Mi0uMDE0LS4yODktLjAxNC0xLjI5OCAwLTIuNTQzLjIyMS0zLjcxMS42MTN2LTguMDI3em0xOC4yNTQgMjcuMDgzYy0uODIxLjM3NC0xLjY5Ni41NjMtMi42LjU2My0yLjc5OCAwLTUuMjE4LTEuODAxLTYuMDIxLTQuNDhsLTEuNDQyLTQuODA3LTEuOTE2LjU3NCAxLjQ0MiA0LjgwN2MuNDcyIDEuNTc1IDEuMzg0IDIuOSAyLjU1OSAzLjkwNmgtMTUuMDQ0di03LjI4OWMwLTUuMzU1IDQuMzU2LTkuNzExIDkuNzExLTkuNzExIDQuODAxIDAgOC45MzQgMy41ODQgOS42MTIgOC4zMzhsLjU5MyA0LjE0Ny0xLjMzLjYwNS44MjggMS44MiA1LjkyMS0yLjY5MiAxLjE3MSAyLjYzNHptOC4xMzctMy42OTktMi44MzEgMS4yODctMS4xNzEtMi42MzUgMi43NzgtMS4yNjNjLjE4NC0uMDgzLjM4OC0uMTI3LjYzMS0uMTI3Ljc5IDAgMS40MzQuNjQ0IDEuNDM0IDEuNDM0IDAgLjU2LS4zMyAxLjA3Mi0uODQxIDEuMzA0em01Ljg0MS0uNzM4aC0zLjA1MmMuMDMyLS4xODYuMDUyLS4zNzQuMDUyLS41NjYgMC0xLjQ1Ny0uOTE1LTIuNjk2LTIuMjE2LTMuMTk0LjQ2Ni0uMTUxLjk1My0uMjQgMS40NTItLjI0aDEuNzY0YzEuNjU0IDAgMyAxLjM0NiAzIDMgMCAuNTUyLS40NDggMS0xIDF6bTEyLTRoNmMuNTUyIDAgMSAuNDQ4IDEgMXMtLjQ0OCAxLTEgMWgtMTUuMTAxYy0uMjQ3LTEuMjEzLS45NDYtMi4yNTMtMS44OTktMi45NzR2LTMuMDI2aDh2MWMwIDEuNjU0IDEuMzQ2IDMgMyAzeiIvPjxwYXRoIGQ9Im01NyA0MmgydjJoLTJ6Ii8+PHBhdGggZD0ibTUzIDQyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDkgNDJoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiA4aDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgOGg4djJoLTh6Ii8+PHBhdGggZD0ibTQyIDEyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgMTJoOHYyaC04eiIvPjxwYXRoIGQ9Im00MiAxNmgydjJoLTJ6Ii8+PHBhdGggZD0ibTQ2IDE2aDh2MmgtOHoiLz48cGF0aCBkPSJtMzYgMjhoLTEwdjhoMTB6bS0yIDZoLTZ2LTRoNnoiLz48cGF0aCBkPSJtMjYgMjRoMTB2MmgtMTB6Ii8+PHBhdGggZD0ibTI2IDIwaDEwdjJoLTEweiIvPjxwYXRoIGQ9Im0yNiAxNmgxMHYyaC0xMHoiLz48cGF0aCBkPSJtMzggMzRoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiAzNGgxN3YyaC0xN3oiLz48cGF0aCBkPSJtMzggMzBoMjF2MmgtMjF6Ii8+PHBhdGggZD0ibTM4IDI2aDIxdjJoLTIxeiIvPjwvZz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":501,"y":5}},{"id":"0002-f07702a6-0709-4326-b6ac-8aa054502ca4","type":"basic.constant","data":{"name":"Kp","value":"1.0","local":true},"position":{"x":640,"y":4}},{"id":"0003-a378a01c-79b9-4818-8534-d329ad60b5c8","type":"basic.constant","data":{"name":"Ki","value":"1.0","local":true},"position":{"x":781,"y":3}},{"id":"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2","type":"basic.constant","data":{"name":"Kd","value":"1.0","local":true},"position":{"x":919,"y":2}},{"id":"05faca20-77c3-4bb6-8a6a-c827aa222af2","type":"basic.code","data":{"code":"import numpy as np\nimport math\nfrom time import sleep\nfrom utils.wires.wire_str import read_string, share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[0])\n    output_0 = share_string(output_wires[0])\n\n    kp = float(parameters[1])\n    ki = float(parameters[2])\n    kd = float(parameters[3])\n    previousError, I = 0, 0\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                msg = input_0.get()\n                \n                if msg is not None and msg[0] is not None:\n                \n                    error = float(msg[0])\n                    sleep(0.01)\n                    \n                    # PID Control Logic\n                    \n                    P = error\n                    I = I + error\n                    D = error-previousError\n                    PIDvalue = (kp*P) + (ki*I) + (kd*D)\n                    previousError = error\n            \n                    linear_velocity = 5.0\n            \n                    angular_velocity = -PIDvalue\n                    \n                    data = []\n                    data.extend((str(linear_velocity), str(angular_velocity)))\n                    to_write = np.array(data, dtype='<U6')\n                    output_0.add(to_write)\n                    control_data[0] += 1\n                    \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"},{"name":"Kp"},{"name":"Ki"},{"name":"Kd"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"900px","height":"370px"}},"position":{"x":293,"y":198}},{"id":"78796547-0b83-48fc-b719-cbf394907dc1","type":"basic.input","data":{"name":"Inp"},"position":{"x":133,"y":322}},{"id":"b4fbd756-2c48-4f10-9341-a7498ffd8807","type":"basic.input","data":{"name":"E"},"position":{"x":143,"y":469}},{"id":"2467bd46-3a99-4709-8276-b24847a76f07","type":"basic.output","data":{"name":"Out"},"position":{"x":1328,"y":385}}],"wires":[{"source":{"block":"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Frequency"}},{"source":{"block":"0002-f07702a6-0709-4326-b6ac-8aa054502ca4","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Kp"}},{"source":{"block":"0003-a378a01c-79b9-4818-8534-d329ad60b5c8","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Ki"}},{"source":{"block":"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Kd"}},{"source":{"block":"78796547-0b83-48fc-b719-cbf394907dc1","port":"input-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Inp"}},{"source":{"block":"b4fbd756-2c48-4f10-9341-a7498ffd8807","port":"input-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"E"}},{"source":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Out"},"target":{"block":"2467bd46-3a99-4709-8276-b24847a76f07","port":"output-in"}}]}}},"776ac361-6b3f-4456-8830-d3c6d56c4970":{"id":"776ac361-6b3f-4456-8830-d3c6d56c4970","type":"block.package","selected":false,"x":624,"y":318,"ports":[{"id":"be450029-4a95-4722-9186-ad2d9ad1ca5a","type":"port.input","x":625,"y":335,"name":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","alignment":"left","parentNode":"776ac361-6b3f-4456-8830-d3c6d56c4970","links":["1738a883-2653-4e6e-a2ec-aa298968e59a"],"in":true,"label":"Inp","hideLabel":false},{"id":"6ea3c102-785c-4b24-8731-83c8087beff5","type":"port.input","x":625,"y":377,"name":"4e64e245-e916-4fe9-b371-b77f05b9633d","alignment":"left","parentNode":"776ac361-6b3f-4456-8830-d3c6d56c4970","links":[],"in":true,"label":"E","hideLabel":false},{"id":"0ef658e7-b5cd-4057-b40b-fc6725cbd852","type":"port.output","x":740,"y":356,"name":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","alignment":"right","parentNode":"776ac361-6b3f-4456-8830-d3c6d56c4970","links":["4ae5b4f5-a962-460a-871f-d08bc46873c1"],"in":false,"label":"Out","hideLabel":false}],"data":{},"model":{"id":"4c4ec56c-a1c0-4095-b733-7b934c036135","offsetX":1,"offsetY":2,"zoom":100,"gridSize":0,"layers":[{"id":"00f704a4-27b2-40b9-bf26-0acc11392664","type":"diagram-links","isSvg":true,"transformed":true,"models":{"28108e89-a6e3-473d-b582-01fcc5a1e4f8":{"id":"28108e89-a6e3-473d-b582-01fcc5a1e4f8","type":"default","selected":false,"source":"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de","sourcePort":"8fd1f4ad-f943-435d-8ac5-1c649313fe41","target":"45d42e3c-94f2-430b-8a84-11d7bca646c0","targetPort":"cfba1549-4dec-4ec9-b4c1-af30b90582e0","points":[{"id":"18019c39-0c31-4ec8-a4ba-faa666ade0e5","type":"point","x":851,"y":153.5},{"id":"d96a23c4-d4d9-4d08-84de-92d13ce3d812","type":"point","x":862.328125,"y":221.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"35b18cf5-9625-4120-b630-69140b9c5930":{"id":"35b18cf5-9625-4120-b630-69140b9c5930","type":"default","selected":false,"source":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","sourcePort":"387f3290-3495-40b5-91dc-a6818b4c7782","target":"45d42e3c-94f2-430b-8a84-11d7bca646c0","targetPort":"b9e85fe1-86eb-49b3-bf07-20c01e5902f6","points":[{"id":"e021196f-70ff-46ef-8cbe-96b64daf7846","type":"point","x":255.5,"y":242.5},{"id":"7b256d21-25e2-49ee-952d-5fb3d183df07","type":"point","x":426.5,"y":445.15625}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"a776eead-03de-49e5-a433-85642bfbe4eb":{"id":"a776eead-03de-49e5-a433-85642bfbe4eb","type":"default","selected":false,"source":"4e64e245-e916-4fe9-b371-b77f05b9633d","sourcePort":"965e7a52-6436-4665-b2f3-82f6e4afe4a1","target":"45d42e3c-94f2-430b-8a84-11d7bca646c0","targetPort":"ab93e579-5b0a-42e6-be87-5d776f583881","points":[{"id":"28029224-8b3d-4d1b-9ab4-064be9c4794a","type":"point","x":285.5,"y":572.5},{"id":"db42a834-d44c-4ce2-acb2-b9653d3cef06","type":"point","x":426.5,"y":668.8125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"683af767-e010-4c27-8d34-765ddfd7ba94":{"id":"683af767-e010-4c27-8d34-765ddfd7ba94","type":"default","selected":false,"source":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","sourcePort":"a75be3bc-35f0-4543-a6f1-736e8b8b9ab4","target":"45d42e3c-94f2-430b-8a84-11d7bca646c0","targetPort":"78d948a2-16c3-4cee-8175-a850242a38e6","points":[{"id":"bb98fba9-e3bd-4087-8fdd-974eaf86c0e1","type":"point","x":1550.5,"y":444.5},{"id":"8ca11786-b9db-40de-bf8c-a953998bcae1","type":"point","x":1298.15625,"y":557}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"fd8a31e5-b68c-4354-b9ad-04adb8e4b649","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"45d42e3c-94f2-430b-8a84-11d7bca646c0":{"id":"45d42e3c-94f2-430b-8a84-11d7bca646c0","type":"basic.code","selected":false,"x":418,"y":213,"ports":[{"id":"b9e85fe1-86eb-49b3-bf07-20c01e5902f6","type":"port.input","x":419,"y":437.65625,"name":"Inp","alignment":"left","parentNode":"45d42e3c-94f2-430b-8a84-11d7bca646c0","links":["35b18cf5-9625-4120-b630-69140b9c5930"],"in":true,"label":"Inp","hideLabel":false},{"id":"ab93e579-5b0a-42e6-be87-5d776f583881","type":"port.input","x":419,"y":661.3125,"name":"E","alignment":"left","parentNode":"45d42e3c-94f2-430b-8a84-11d7bca646c0","links":["a776eead-03de-49e5-a433-85642bfbe4eb"],"in":true,"label":"E","hideLabel":false},{"id":"78d948a2-16c3-4cee-8175-a850242a38e6","type":"port.output","x":1290.65625,"y":549.5,"name":"Out","alignment":"right","parentNode":"45d42e3c-94f2-430b-8a84-11d7bca646c0","links":["683af767-e010-4c27-8d34-765ddfd7ba94"],"in":false,"label":"Out","hideLabel":false},{"id":"cfba1549-4dec-4ec9-b4c1-af30b90582e0","type":"port.parameter","x":854.828125,"y":214,"name":"Frequency","alignment":"top","parentNode":"45d42e3c-94f2-430b-8a84-11d7bca646c0","links":["28108e89-a6e3-473d-b582-01fcc5a1e4f8"],"in":true,"label":"Frequency","hideLabel":false}],"data":{"code":"import cv2 as cv\nimport numpy as np\nimport math\nfrom time import sleep\nfrom utils.wires.wire_img import read_image\nfrom utils.wires.wire_str import share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_string(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        center = 0\n        cx = 0\n        cy = 0\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                img = input_0.get()\n                center = (img.shape)[1]/2\n                \n                if msg is not None and msg[0] is not None:\n\n                    mascara = cv2.morphologyEx(mascara,cv2.MORPH_OPEN,kernel)\n                    mascara = cv2.morphologyEx(mascara,cv2.MORPH_CLOSE,kernel)\n\n\n                    contours, hierarchy = cv2.findContours(mascara, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n\n                    if len(contours)>0:\n                        mayor_contorno=max(contours, key=cv2.contourArea)\n\n                        momentos = cv2.moments(mayor_contorno)\n                        cx = float(momentos['m10']/momentos['m00'])\n\n\n                    to_write = String(center - cx)\n                    output_0.add(to_write)\n                    control_data[0] += 1\n                    \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"0px","height":"0px"}}},"b6bc26dd-b5bd-46ff-a018-1d322cd44e67":{"id":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","type":"basic.input","selected":false,"x":162,"y":216,"ports":[{"id":"387f3290-3495-40b5-91dc-a6818b4c7782","type":"port.output","x":248,"y":235,"name":"input-out","alignment":"right","parentNode":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","links":["35b18cf5-9625-4120-b630-69140b9c5930"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"4e64e245-e916-4fe9-b371-b77f05b9633d":{"id":"4e64e245-e916-4fe9-b371-b77f05b9633d","type":"basic.input","selected":false,"x":192,"y":546,"ports":[{"id":"965e7a52-6436-4665-b2f3-82f6e4afe4a1","type":"port.output","x":278,"y":565,"name":"input-out","alignment":"right","parentNode":"4e64e245-e916-4fe9-b371-b77f05b9633d","links":["a776eead-03de-49e5-a433-85642bfbe4eb"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"7804f53f-6c60-47ca-88d8-6e93ee0993ea":{"id":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","type":"basic.output","selected":false,"x":1542,"y":418,"ports":[{"id":"a75be3bc-35f0-4543-a6f1-736e8b8b9ab4","type":"port.input","x":1543,"y":437,"name":"output-in","alignment":"left","parentNode":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","links":["683af767-e010-4c27-8d34-765ddfd7ba94"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}},"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de":{"id":"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de","type":"basic.constant","selected":true,"x":789,"y":37,"ports":[{"id":"8fd1f4ad-f943-435d-8ac5-1c649313fe41","type":"port.output","x":843.5,"y":146,"name":"constant-out","alignment":"bottom","parentNode":"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de","links":["28108e89-a6e3-473d-b582-01fcc5a1e4f8"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}}}}]},"info":{"name":"","version":"","description":"","author":"","image":""},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"45d42e3c-94f2-430b-8a84-11d7bca646c0","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nimport math\nfrom time import sleep\nfrom utils.wires.wire_img import read_image\nfrom utils.wires.wire_str import share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_string(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        center = 0\n        cx = 0\n        cy = 0\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                img = input_0.get()\n                center = (img.shape)[1]/2\n                \n                if msg is not None and msg[0] is not None:\n\n                    mascara = cv2.morphologyEx(mascara,cv2.MORPH_OPEN,kernel)\n                    mascara = cv2.morphologyEx(mascara,cv2.MORPH_CLOSE,kernel)\n\n\n                    contours, hierarchy = cv2.findContours(mascara, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n\n                    if len(contours)>0:\n                        mayor_contorno=max(contours, key=cv2.contourArea)\n\n                        momentos = cv2.moments(mayor_contorno)\n                        cx = float(momentos['m10']/momentos['m00'])\n\n\n                    to_write = String(center - cx)\n                    output_0.add(to_write)\n                    control_data[0] += 1\n                    \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"0px","height":"0px"}},"position":{"x":418,"y":213}},{"id":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","type":"basic.input","data":{"name":"Inp"},"position":{"x":162,"y":216}},{"id":"4e64e245-e916-4fe9-b371-b77f05b9633d","type":"basic.input","data":{"name":"E"},"position":{"x":192,"y":546}},{"id":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","type":"basic.output","data":{"name":"Out"},"position":{"x":1542,"y":418}},{"id":"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":789,"y":37}}],"wires":[{"source":{"block":"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de","port":"constant-out"},"target":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"Frequency"}},{"source":{"block":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","port":"input-out"},"target":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"Inp"}},{"source":{"block":"4e64e245-e916-4fe9-b371-b77f05b9633d","port":"input-out"},"target":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"E"}},{"source":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"Out"},"target":{"block":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","port":"output-in"}}]}}},"1318fef8-535d-46ff-9a93-4432d06486f9":{"id":"1318fef8-535d-46ff-9a93-4432d06486f9","type":"block.package","selected":false,"x":621,"y":138,"ports":[{"id":"7c13a215-3fad-42b4-bc05-0f0ebbd2273d","type":"port.input","x":622,"y":155,"name":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","alignment":"left","parentNode":"1318fef8-535d-46ff-9a93-4432d06486f9","links":["0ea7e03e-a275-4fab-870c-53180bfbfe14"],"in":true,"label":"Img","hideLabel":false},{"id":"c19022a2-e95d-45a6-9fcc-23b6990b2fe0","type":"port.input","x":622,"y":197,"name":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","alignment":"left","parentNode":"1318fef8-535d-46ff-9a93-4432d06486f9","links":[],"in":true,"label":"E","hideLabel":false}],"data":{},"model":{"id":"e19d7fb1-d150-42ea-b195-0e86f8c6ceab","locked":false,"offsetX":1,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"ef9b9ad3-9b5e-42da-91f1-efe7b3287285","type":"diagram-links","isSvg":true,"transformed":true,"models":{"0d0076f2-b487-4c90-abb9-f0760e025778":{"id":"0d0076f2-b487-4c90-abb9-f0760e025778","type":"default","selected":false,"source":"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac","sourcePort":"96a6c3dc-ee0f-4284-b3bf-72ee3ef21dcf","target":"8a739a4c-9660-4120-a7a5-73fea5344587","targetPort":"aa32b69a-e73f-41b6-b0f4-b1bc9064348f","points":[{"id":"de04ed9f-6d43-4669-829f-c5810210e796","type":"point","x":763,"y":132.6999969482422},{"id":"fa574183-cecc-46d9-b83e-aa794c7adc92","type":"point","x":786.5499877929688,"y":198.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"ffb34e1c-7aad-4760-8c27-8e84b626cbc5":{"id":"ffb34e1c-7aad-4760-8c27-8e84b626cbc5","type":"default","selected":false,"source":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","sourcePort":"18f023d5-f12b-4756-b243-b4979e0c6382","target":"8a739a4c-9660-4120-a7a5-73fea5344587","targetPort":"d46b9f7a-4a6f-4d04-8209-757b721a609e","points":[{"id":"306c0aa4-bc32-4610-a7d7-cb94078bf413","type":"point","x":363.5,"y":300.6000061035156},{"id":"f4677087-445f-4441-8426-b07838122aa5","type":"point","x":447.5,"y":330.82501220703125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"a0cceb49-0b9e-41ef-969d-4e64eaa87fa9":{"id":"a0cceb49-0b9e-41ef-969d-4e64eaa87fa9","type":"default","selected":false,"source":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","sourcePort":"614a6476-b37f-4291-a211-a4cd74cb1485","target":"8a739a4c-9660-4120-a7a5-73fea5344587","targetPort":"e47d498b-2e9e-4904-8bea-c896698cc405","points":[{"id":"77f1cb2f-3a7b-4927-b965-660ff69ce321","type":"point","x":369.5,"y":453.6000061035156},{"id":"c71ccf7b-7ade-4419-8597-31bb0c6ffb14","type":"point","x":447.5,"y":463.1500244140625}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"ea7ae6b0-5833-414e-aa04-860ea2b26529","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac":{"id":"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac","type":"basic.constant","selected":false,"x":702,"y":17,"ports":[{"id":"96a6c3dc-ee0f-4284-b3bf-72ee3ef21dcf","type":"port.output","x":755.5,"y":125.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac","links":["0d0076f2-b487-4c90-abb9-f0760e025778"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797":{"id":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","type":"basic.input","selected":false,"x":270,"y":274,"ports":[{"id":"18f023d5-f12b-4756-b243-b4979e0c6382","type":"port.output","x":356,"y":293.1000061035156,"name":"input-out","alignment":"right","parentNode":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","links":["ffb34e1c-7aad-4760-8c27-8e84b626cbc5"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Img"}},"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03":{"id":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","type":"basic.input","selected":false,"x":276,"y":427,"ports":[{"id":"614a6476-b37f-4291-a211-a4cd74cb1485","type":"port.output","x":362,"y":446.1000061035156,"name":"input-out","alignment":"right","parentNode":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","links":["a0cceb49-0b9e-41ef-969d-4e64eaa87fa9"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"8a739a4c-9660-4120-a7a5-73fea5344587":{"id":"8a739a4c-9660-4120-a7a5-73fea5344587","type":"basic.code","selected":false,"x":439,"y":190,"ports":[{"id":"d46b9f7a-4a6f-4d04-8209-757b721a609e","type":"port.input","x":440,"y":323.32501220703125,"name":"Img","alignment":"left","parentNode":"8a739a4c-9660-4120-a7a5-73fea5344587","links":["ffb34e1c-7aad-4760-8c27-8e84b626cbc5"],"in":true,"label":"Img","hideLabel":false},{"id":"e47d498b-2e9e-4904-8bea-c896698cc405","type":"port.input","x":440,"y":455.6500244140625,"name":"E","alignment":"left","parentNode":"8a739a4c-9660-4120-a7a5-73fea5344587","links":["a0cceb49-0b9e-41ef-969d-4e64eaa87fa9"],"in":true,"label":"E","hideLabel":false},{"id":"aa32b69a-e73f-41b6-b0f4-b1bc9064348f","type":"port.parameter","x":779.0499877929688,"y":191,"name":"Frequency","alignment":"top","parentNode":"8a739a4c-9660-4120-a7a5-73fea5344587","links":["0d0076f2-b487-4c90-abb9-f0760e025778"],"in":true,"label":"Frequency","hideLabel":false}],"data":{"code":"import cv2\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n        \n                control_data[0] += 1\n                img = input_0.get()\n                \n                if img is not None:\n                    cv2.imshow(block_name, img)\n                    if cv2.waitKey(1) & 0xFF == ord('q'):\n                        break\n\n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Img"},{"name":"E"}],"out":[]},"size":{"width":"660px","height":"350px"}}}}}]},"info":{"name":"Screen","version":"1.0.0","description":"Displays Image or Video","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTIxMC4yODcgNDA1LjY2N3Y5MS4zMzNoNDUuNzEzbDIwLTQ4LTIwLTQzLjMzM3oiIGZpbGw9IiNiNGQyZDciLz48cGF0aCBkPSJtMjU2IDQwNS42NjdoNDUuNzEzdjkxLjMzM2gtNDUuNzEzeiIgZmlsbD0iIzliYjljMyIvPjxwYXRoIGQ9Im0wIDB2MzU0LjE5bDI1NiAyMCAzMC0xOTcuMDk1LTMwLTE3Ny4wOTV6IiBmaWxsPSIjMDc0ODVlIi8+PGNpcmNsZSBjeD0iMTUwLjQxNiIgY3k9IjIwMi45OCIgZmlsbD0iI2YyYmI4OCIgcj0iNDkuMzQxIi8+PHBhdGggZD0ibTIyMi44ODUgMzY0LjE5aC0xNDQuOTM4di05MS44NjljMC0xMS4wNDYgOC45NTQtMjAgMjAtMjBoMTA0LjkzOGMxMS4wNDYgMCAyMCA4Ljk1NCAyMCAyMHoiIGZpbGw9IiMwMGI2YmQiLz48cGF0aCBkPSJtNTEyIDBoLTI1NnYzNzQuMTlsMjU2LTIweiIgZmlsbD0iIzA0MzAzZSIvPjxwYXRoIGQ9Im0wIDM1NC4xOXY2MS44NjdoMjU2bDIwLTM2LjA1Ny0yMC0yNS44MXoiIGZpbGw9IiNlMWViZjAiLz48cGF0aCBkPSJtMjU2IDM1NC4xOWgyNTZ2NjEuODY3aC0yNTZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PGc+PHBhdGggZD0ibTI1NiA1MTJoLTEyNC43NjZ2LTMwaDEyNC43NjZsMTAgMTV6IiBmaWxsPSIjZTFlYmYwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNTYgNDgyaDEyNC43NjZ2MzBoLTEyNC43NjZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PC9nPjxwYXRoIGQ9Im0yODkuMTE1IDc1aDE1MXYxMThoLTE1MXoiIGZpbGw9IiM1YTkzYzgiLz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":702,"y":17}},{"id":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","type":"basic.input","data":{"name":"Img"},"position":{"x":270,"y":274}},{"id":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","type":"basic.input","data":{"name":"E"},"position":{"x":276,"y":427}},{"id":"8a739a4c-9660-4120-a7a5-73fea5344587","type":"basic.code","data":{"code":"import cv2\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n        \n                control_data[0] += 1\n                img = input_0.get()\n                \n                if img is not None:\n                    cv2.imshow(block_name, img)\n                    if cv2.waitKey(1) & 0xFF == ord('q'):\n                        break\n\n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Img"},{"name":"E"}],"out":[]},"size":{"width":"660px","height":"350px"}},"position":{"x":439,"y":190}}],"wires":[{"source":{"block":"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac","port":"constant-out"},"target":{"block":"8a739a4c-9660-4120-a7a5-73fea5344587","port":"Frequency"}},{"source":{"block":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","port":"input-out"},"target":{"block":"8a739a4c-9660-4120-a7a5-73fea5344587","port":"Img"}},{"source":{"block":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","port":"input-out"},"target":{"block":"8a739a4c-9660-4120-a7a5-73fea5344587","port":"E"}}]}}},"9949f6d6-83a8-4468-9329-f6b5231c3e74":{"id":"9949f6d6-83a8-4468-9329-f6b5231c3e74","type":"block.package","selected":true,"x":388,"y":240,"ports":[{"id":"77c357c9-a323-477e-a5d3-cacb0084da99","type":"port.input","x":390,"y":258,"name":"d8343aa6-fd44-4659-8755-7345f786d020","alignment":"left","parentNode":"9949f6d6-83a8-4468-9329-f6b5231c3e74","links":["8bbf2874-e9ce-4c9d-b1c0-944d6c505e3d"],"in":true,"label":"Inp","hideLabel":false},{"id":"aad0ce07-72b6-4f18-88d2-182aa64faf12","type":"port.input","x":390,"y":300,"name":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","alignment":"left","parentNode":"9949f6d6-83a8-4468-9329-f6b5231c3e74","links":[],"in":true,"label":"E","hideLabel":false},{"id":"c2bd9c05-0501-43b1-94e5-5ace91d99fb6","type":"port.output","x":505,"y":279,"name":"39a8514c-d896-4fd5-baab-db2c63d705d9","alignment":"right","parentNode":"9949f6d6-83a8-4468-9329-f6b5231c3e74","links":["0ea7e03e-a275-4fab-870c-53180bfbfe14","1738a883-2653-4e6e-a2ec-aa298968e59a"],"in":false,"label":"Out","hideLabel":false}],"data":{},"model":{"id":"265741ba-8c61-448a-bb8e-fd168bdfae33","locked":false,"offsetX":0,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"2c8a72ca-b670-4e0d-ba5a-f04d42b44d5b","type":"diagram-links","isSvg":true,"transformed":true,"models":{"720094b2-2eb1-4234-b659-04c172297097":{"id":"720094b2-2eb1-4234-b659-04c172297097","type":"default","selected":false,"source":"0001-7796e143-c469-4100-bcab-cc361cc7c63c","sourcePort":"e61981e4-2ce1-4cb6-8e7b-adfbc4d00e4e","target":"7af96344-fe3e-4e18-808e-be4207227877","targetPort":"07a4d29e-1bfc-489a-b5b9-32acc6e84ec8","points":[{"id":"b15ec0ea-7c74-4322-9a28-4d843f6d4954","type":"point","x":480,"y":135.5},{"id":"0863ad4a-6416-4b14-b525-5f153aa75a60","type":"point","x":459.875,"y":214.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"6769bd09-31b2-4f3c-97c9-8267c4b65189":{"id":"6769bd09-31b2-4f3c-97c9-8267c4b65189","type":"default","selected":false,"source":"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab","sourcePort":"58f4a2ee-e69f-4ca1-90c6-db4da6816949","target":"7af96344-fe3e-4e18-808e-be4207227877","targetPort":"11940b26-fbf5-4cbc-9cb8-75f078ce3b90","points":[{"id":"666b7ee7-2f72-4429-8e5e-b9713cfedca8","type":"point","x":630,"y":136.5},{"id":"faa15c44-9a7d-4eee-8773-faa1932b4a3d","type":"point","x":665.984375,"y":214.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"43a0da65-8fd6-4f1f-a416-05c257fde866":{"id":"43a0da65-8fd6-4f1f-a416-05c257fde866","type":"default","selected":false,"source":"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc","sourcePort":"b940a9cc-6c78-425d-9b78-e84e143e6160","target":"7af96344-fe3e-4e18-808e-be4207227877","targetPort":"081d4d68-ecee-4eda-b55c-950aac71b9e8","points":[{"id":"43695b69-4ee7-4c48-be89-05128d5a7d21","type":"point","x":774,"y":134.5},{"id":"8ab1f882-ef5f-46ef-92d6-a31bc5414986","type":"point","x":871.921875,"y":214.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"64c0ae4b-93b6-45d6-8f97-25071cfa8215":{"id":"64c0ae4b-93b6-45d6-8f97-25071cfa8215","type":"default","selected":false,"source":"d8343aa6-fd44-4659-8755-7345f786d020","sourcePort":"7e8e6789-9a23-48e2-b198-567380608a66","target":"7af96344-fe3e-4e18-808e-be4207227877","targetPort":"e3398409-502e-4000-aada-82cbeb635f67","points":[{"id":"757e0c62-c93c-44a5-a6a0-2701147be5ab","type":"point","x":188.5,"y":352.5},{"id":"964d63a1-9081-4969-9bdf-591f7cf92af6","type":"point","x":284.5,"y":394.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"91bb1285-c9f9-4eb1-b26f-281b3c979cf8":{"id":"91bb1285-c9f9-4eb1-b26f-281b3c979cf8","type":"default","selected":false,"source":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","sourcePort":"6548adcb-5e81-4000-b864-356ec9d2f3b1","target":"7af96344-fe3e-4e18-808e-be4207227877","targetPort":"139cfbd3-5ac4-420e-b25f-244df76d409e","points":[{"id":"0c58f33b-d8f6-465d-b36a-8b4362acbb18","type":"point","x":190.5,"y":487.5},{"id":"e910a43e-be10-45ce-bf1d-37e5d2ddc0ea","type":"point","x":284.5,"y":574.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"b79e54ab-4767-4e56-8c88-4f8032b4c6fa":{"id":"b79e54ab-4767-4e56-8c88-4f8032b4c6fa","type":"default","selected":false,"source":"7af96344-fe3e-4e18-808e-be4207227877","sourcePort":"84ef5349-aa4c-4139-a6a9-d1f4b32f5ce4","target":"39a8514c-d896-4fd5-baab-db2c63d705d9","targetPort":"4c06d106-4f2f-413c-bf0b-efdd9f74898a","points":[{"id":"14edb955-56e3-4f03-8337-1fdd0a8faf75","type":"point","x":1047.15625,"y":484.5},{"id":"dea16a82-2085-4499-b9ac-ed9d5c01c821","type":"point","x":1059.5,"y":413.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"801f8cac-f6da-4d8c-86c2-76152c244952","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-7796e143-c469-4100-bcab-cc361cc7c63c":{"id":"0001-7796e143-c469-4100-bcab-cc361cc7c63c","type":"basic.constant","selected":false,"x":419,"y":20,"ports":[{"id":"e61981e4-2ce1-4cb6-8e7b-adfbc4d00e4e","type":"port.output","x":472.5,"y":128,"name":"constant-out","alignment":"bottom","parentNode":"0001-7796e143-c469-4100-bcab-cc361cc7c63c","links":["720094b2-2eb1-4234-b659-04c172297097"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab":{"id":"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab","type":"basic.constant","selected":true,"x":568,"y":20,"ports":[{"id":"58f4a2ee-e69f-4ca1-90c6-db4da6816949","type":"port.output","x":622.5,"y":129,"name":"constant-out","alignment":"bottom","parentNode":"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab","links":["6769bd09-31b2-4f3c-97c9-8267c4b65189"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Lower RGB","value":"30,0,0","local":true}},"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc":{"id":"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc","type":"basic.constant","selected":false,"x":713,"y":19,"ports":[{"id":"b940a9cc-6c78-425d-9b78-e84e143e6160","type":"port.output","x":766.5,"y":127,"name":"constant-out","alignment":"bottom","parentNode":"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc","links":["43a0da65-8fd6-4f1f-a416-05c257fde866"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Upper RGB","value":"255,255,255","local":true}},"7af96344-fe3e-4e18-808e-be4207227877":{"id":"7af96344-fe3e-4e18-808e-be4207227877","type":"basic.code","selected":false,"x":276,"y":206,"ports":[{"id":"e3398409-502e-4000-aada-82cbeb635f67","type":"port.input","x":277,"y":387,"name":"Inp","alignment":"left","parentNode":"7af96344-fe3e-4e18-808e-be4207227877","links":["64c0ae4b-93b6-45d6-8f97-25071cfa8215"],"in":true,"label":"Inp","hideLabel":false},{"id":"139cfbd3-5ac4-420e-b25f-244df76d409e","type":"port.input","x":277,"y":567,"name":"E","alignment":"left","parentNode":"7af96344-fe3e-4e18-808e-be4207227877","links":["91bb1285-c9f9-4eb1-b26f-281b3c979cf8"],"in":true,"label":"E","hideLabel":false},{"id":"84ef5349-aa4c-4139-a6a9-d1f4b32f5ce4","type":"port.output","x":1039.65625,"y":477,"name":"Out","alignment":"right","parentNode":"7af96344-fe3e-4e18-808e-be4207227877","links":["b79e54ab-4767-4e56-8c88-4f8032b4c6fa"],"in":false,"label":"Out","hideLabel":false},{"id":"07a4d29e-1bfc-489a-b5b9-32acc6e84ec8","type":"port.parameter","x":452.375,"y":207,"name":"Frequency","alignment":"top","parentNode":"7af96344-fe3e-4e18-808e-be4207227877","links":["720094b2-2eb1-4234-b659-04c172297097"],"in":true,"label":"Frequency","hideLabel":false},{"id":"11940b26-fbf5-4cbc-9cb8-75f078ce3b90","type":"port.parameter","x":658.484375,"y":207,"name":"LowerRGB","alignment":"top","parentNode":"7af96344-fe3e-4e18-808e-be4207227877","links":["6769bd09-31b2-4f3c-97c9-8267c4b65189"],"in":true,"label":"LowerRGB","hideLabel":false},{"id":"081d4d68-ecee-4eda-b55c-950aac71b9e8","type":"port.parameter","x":864.421875,"y":207,"name":"UpperRGB","alignment":"top","parentNode":"7af96344-fe3e-4e18-808e-be4207227877","links":["43a0da65-8fd6-4f1f-a416-05c257fde866"],"in":true,"label":"UpperRGB","hideLabel":false}],"data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n    lower_range = np.array([int(x.strip()) for x in parameters[1].split(',')])\n    upper_range = np.array([int(x.strip()) for x in parameters[2].split(',')])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n    \n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n    \n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n    \n                frame = input_0.get()\n                \n                if frame is not None:\n        \n                    hsv = cv.cvtColor(frame, cv.COLOR_BGR2HSV)\n                    mask = cv.inRange(hsv, lower_range, upper_range)\n                    filtered = cv.bitwise_and(frame,frame, mask= mask)\n    \n                    output_0.add(filtered)\n    \n                control_data[0] += 1\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt: \n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"LowerRGB"},{"name":"UpperRGB"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"727px","height":"494px"}}},"d8343aa6-fd44-4659-8755-7345f786d020":{"id":"d8343aa6-fd44-4659-8755-7345f786d020","type":"basic.input","selected":false,"x":95,"y":326,"ports":[{"id":"7e8e6789-9a23-48e2-b198-567380608a66","type":"port.output","x":181,"y":345,"name":"input-out","alignment":"right","parentNode":"d8343aa6-fd44-4659-8755-7345f786d020","links":["64c0ae4b-93b6-45d6-8f97-25071cfa8215"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"d1c9d06b-fc0b-42d6-9404-fef4dc73f221":{"id":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","type":"basic.input","selected":false,"x":97,"y":461,"ports":[{"id":"6548adcb-5e81-4000-b864-356ec9d2f3b1","type":"port.output","x":183,"y":480,"name":"input-out","alignment":"right","parentNode":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","links":["91bb1285-c9f9-4eb1-b26f-281b3c979cf8"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"39a8514c-d896-4fd5-baab-db2c63d705d9":{"id":"39a8514c-d896-4fd5-baab-db2c63d705d9","type":"basic.output","selected":false,"x":1051,"y":387,"ports":[{"id":"4c06d106-4f2f-413c-bf0b-efdd9f74898a","type":"port.input","x":1052,"y":406,"name":"output-in","alignment":"left","parentNode":"39a8514c-d896-4fd5-baab-db2c63d705d9","links":["b79e54ab-4767-4e56-8c88-4f8032b4c6fa"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"info":{"name":"ColorFilter","version":"1.0.0","description":"Filters a Color in an Image","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MDAuMjM4IDUwMC4yMzgiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTAwLjIzOCA1MDAuMjM4IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im00NjIuNzAyIDE3OS44ODQtMjUuODI3LTIzLjA2My01Mi42MjMgMjAuMjI0LTcuMTYgMjkuNTQ4LTI3LjUxOSAxMjQuODM4IDg5LjM2IDM4LjkyOSAxMS4wODktMTQuMzE3YzE1LjMtMzEuMzggMjMuODgtNjYuNjQgMjMuODgtMTAzLjkxIDAtMjUuMTg5LTMuOTQtNDkuNDU5LTExLjItNzIuMjQ5eiIgZmlsbD0iI2ZlN2Q0MyIvPjxnPjxnIGlkPSJYTUxJRF84NTVfIj48Zz48cGF0aCBkPSJtMzcwLjcgMzE2LjI4NC0zMS4zNjIgMTUuMTQ4LTgwLjYyOCA1Ni43OTIgMzUuOTM1IDgwLjE3MyAyNS42NTUgNi4zNTd2LjAxYzU3LjMzLTIxLjMyIDEwMy40NjItNjQuODMgMTMwLjA0Mi0xMTkuMzh6IiBmaWxsPSIjZWU2MTYxIi8+PHBhdGggZD0ibTI4OS41OSAzOTAuNTE0LTE3LjEwNy0xMS45OTEtMTAyLjIzMy0xNS41MjYtNDkuMTE4IDc4LjkxMSAyMi42MDkgMjguNDc2di4wMWMyOC43NiAxMi4zNyA2MC40NSAxOS4yMiA5My43NCAxOS4yMiAyOS4xMyAwIDU3LjAzLTUuMjQgODIuODItMTQuODV2LS4wMXoiIGZpbGw9IiNjMmExZDUiLz48cGF0aCBkPSJtMTc0Ljk2MSAzNjAuOTc4LTU2LjgyNC04OS4yNjQtOTkuMTQ3IDMwLjY3NXY0Mi45NTRjMjMuOTMgNTYuMDMgNjguNzkgMTAwLjk5IDEyNC43NSAxMjUuMDV2LS4wMWwzNS45My04Mi4xNnoiIGZpbGw9IiM4YWM5ZmUiLz48cGF0aCBkPSJtNDEuOTgyIDEzOC45NC0yNi45MjIgMjkuODM0aC0uMDFjLTkuNzMgMjUuOTQtMTUuMDUgNTQuMDMtMTUuMDUgODMuMzYgMCAzMy4wOSA2Ljc3IDY0LjU5IDE4Ljk5IDkzLjIxaC4wMWw4Mi43MS0zNC42NCAxMC44MTQtMjQuODQgNi40OTMtMTIyLjE4NnoiIGZpbGw9IiM3NWNkZDUiLz48cGF0aCBkPSJtMTgxLjkxNiAzOC4yODRoLTQ3LjgzNmMtNTQuNjIgMjYuNDYtOTcuNTcgNzMuMjItMTE5LjAzIDEzMC40OWguMDFsODMuNzUgMzIuMDIgNTQuNzYtMjcuNzIyIDcyLjQxOC02NS4xNDN6IiBmaWxsPSIjNmNmNWMyIi8+PHBhdGggZD0ibTM3OC4xNSAyMDYuNTk0LTQuMzg3LTE5LjUwNi01NC4wNjEgMTMuNzA2LTIuOTEyIDI0Ljk1YzIuNzcgOC4yOSA0LjI2IDE3LjE3IDQuMjYgMjYuMzkgMCAxMi43Ni0yLjg2IDI0Ljg0LTcuOTcgMzUuNjVsMS4xNyAxOS45MDcgMzUuMzIzIDE4Ljc5NyAyMS4xMjYtMTAuMjA0YzkuMzYtMTkuNCAxNC42MS00MS4xNiAxNC42MS02NC4xNS4wMDEtMTUuODktMi41MTktMzEuMTktNy4xNTktNDUuNTR6IiBmaWxsPSIjZmQ2OTMwIi8+PHBhdGggZD0ibTMxMy4wOCAyODcuNzg0Yy05LjEzIDE5LjMzLTI1LjQ1IDM0LjU5LTQ1LjUxIDQyLjMzbC03LjcxMSAxNC41MDUgMTYuMDczIDQxLjE2IDEzLjY1OCA0LjczNWMzNS42My0xMy40MiA2NC43LTQwLjE5IDgxLjExLTc0LjIzeiIgZmlsbD0iI2U5NDQ0NCIvPjxwYXRoIGQ9Im0yNjcuNTcgMzMwLjExNGMtOS4zMyAzLjYxLTE5LjQ4IDUuNTktMzAuMDkgNS41OS0xMS4zNiAwLTIyLjE4LTIuMjYtMzIuMDUtNi4zOGwtMTYuODY1IDEuODI4LTIwLjA2IDQwLjg5NiAxMS4xNjUgMTYuMTc2YzE3Ljc2IDcuNTYgMzcuMyAxMS43NCA1Ny44MSAxMS43NCAxOC4zNCAwIDM1LjktMy4zNCA1Mi4xMS05LjQ1eiIgZmlsbD0iI2EyNzRiZiIvPjxwYXRoIGQ9Im0xNjEgMjg1Ljg2NC0xMy4xOTUtOS41NDEtNDMuMDYxIDE0LjkyMi0zLjAzNCAxOS40NTljMTUuMDMgMzQuODEgNDMuMDUgNjIuNjggNzcuOTYgNzcuNTJsMjUuNzYtNTguOWMtMTkuODEtOC4yMi0zNS43OC0yMy44Ny00NC40My00My40NnoiIGZpbGw9IiMyNmE2ZmUiLz48cGF0aCBkPSJtMzUxLjMzIDQzLjY4NGMtMzMuOC0xOC41LTcyLjYtMjkuMDMtMTEzLjg1LTI5LjAzLTM3LjA3IDAtNzIuMTUgOC40OS0xMDMuNCAyMy42M2wzOC41MSA4MSAzOC4yNTkgMTcuMTU4IDEyMC4zOCAyMC4zOCAzNS4wMjctNzQuMzN6IiBmaWxsPSIjZmVlOTdkIi8+PC9nPjwvZz48L2c+PHBhdGggZD0ibTQ5OS44ODIgMTYxLjUzNGMxLjE5IDMuNDMtLjcxIDcuMTYtNC4xNyA4LjI0bC0zMi40IDEwLjExLTYxLjM3IDE5LjE1Yy0xMy43Mi00Mi42NC00My41LTc4LjA3LTgyLjI0LTk5LjE1bDMxLjE4LTU2LjIgMTYuNS0yOS43NGMxLjc0LTMuMTUgNS43NC00LjI2IDguODUtMi40NSA1Ny4zNiAzMy4yNSAxMDEuNzMgODYuNDIgMTIzLjY1IDE1MC4wNHoiIGZpbGw9IiNmZWMxNjUiLz48cGF0aCBkPSJtMTUzLjkxIDI1Mi4xMzRjMC05Ljk3IDEuNzQtMTkuNTMgNC45NS0yOC4zOWwtLjczOC0zNC44MzVoLTM1LjgzNWwtMjMuNDc3IDExLjg4NWMtNS45MiAxNS45OS05LjE2IDMzLjI5LTkuMTYgNTEuMzQgMCAyMC44MSA0LjMgNDAuNjEgMTIuMDYgNTguNTdsNTkuMjktMjQuODRjLTQuNTYtMTAuMzEtNy4wOS0yMS43Mi03LjA5LTMzLjczeiIgZmlsbD0iIzJhYmNjOCIvPjxwYXRoIGQ9Im0yMDIuNTg4IDEyOC45NzctMjkuOTk5LTkuNjk0Yy0zMy45MyAxNi41OC02MC41NiA0NS43OS03My43OCA4MS41MWw2MC4wNSAyMi45NWM3LjMyLTIwLjI2IDIyLjI0LTM2Ljg4IDQxLjMzLTQ2LjQxdi0uMDFsMTMuNzU2LTE1LjQ4OXoiIGZpbGw9IiMwMGYyYTYiLz48cGF0aCBkPSJtMzA3Ljg0IDEyMi4wODQtLjAxMy0uMDAyYy0yMC45MTktMTEuMzM5LTQ0Ljg3OC0xNy43NzgtNzAuMzQ3LTE3Ljc3OC0yMy4yOCAwLTQ1LjMgNS4zOC02NC44OSAxNC45OGwyNy42IDU4LjA1YzExLjIyLTUuNiAyMy44OS04Ljc3IDM3LjI5LTguNzcgMTQuMTYgMCAyNy40OSAzLjUyIDM5LjE3IDkuNzRsMjEuMDMyIDEuMDM1IDIwLjU3OS0yNy40Mzh6IiBmaWxsPSIjZmVkZjMwIi8+PHBhdGggZD0ibTQwMS45NDIgMTk5LjAzNC0yNC4yNCA3LjU2LTYwLjkxMiAxOS4xNWMtNi44MS0yMC40OS0yMS42ODYtMzcuNjMzLTQwLjQ4Ni00Ny42MjNsMzEuMDg4LTU2LjAzNyAxMi4zMS0yMi4yYzM4Ljc0IDIxLjA4IDY4LjUyIDU2LjUxIDgyLjI0IDk5LjE1eiIgZmlsbD0iI2ZkYjQ0MSIvPjwvc3ZnPg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-7796e143-c469-4100-bcab-cc361cc7c63c","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":419,"y":20}},{"id":"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab","type":"basic.constant","data":{"name":"Lower RGB","value":"30,0,0","local":true},"position":{"x":568,"y":20}},{"id":"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc","type":"basic.constant","data":{"name":"Upper RGB","value":"255,255,255","local":true},"position":{"x":713,"y":19}},{"id":"7af96344-fe3e-4e18-808e-be4207227877","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n    lower_range = np.array([int(x.strip()) for x in parameters[1].split(',')])\n    upper_range = np.array([int(x.strip()) for x in parameters[2].split(',')])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n    \n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n    \n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n    \n                frame = input_0.get()\n                \n                if frame is not None:\n        \n                    hsv = cv.cvtColor(frame, cv.COLOR_BGR2HSV)\n                    mask = cv.inRange(hsv, lower_range, upper_range)\n                    filtered = cv.bitwise_and(frame,frame, mask= mask)\n    \n                    output_0.add(filtered)\n    \n                control_data[0] += 1\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt: \n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"LowerRGB"},{"name":"UpperRGB"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"727px","height":"494px"}},"position":{"x":276,"y":206}},{"id":"d8343aa6-fd44-4659-8755-7345f786d020","type":"basic.input","data":{"name":"Inp"},"position":{"x":95,"y":326}},{"id":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","type":"basic.input","data":{"name":"E"},"position":{"x":97,"y":461}},{"id":"39a8514c-d896-4fd5-baab-db2c63d705d9","type":"basic.output","data":{"name":"Out"},"position":{"x":1051,"y":387}}],"wires":[{"source":{"block":"0001-7796e143-c469-4100-bcab-cc361cc7c63c","port":"constant-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"Frequency"}},{"source":{"block":"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab","port":"constant-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"LowerRGB"}},{"source":{"block":"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc","port":"constant-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"UpperRGB"}},{"source":{"block":"d8343aa6-fd44-4659-8755-7345f786d020","port":"input-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"Inp"}},{"source":{"block":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","port":"input-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"E"}},{"source":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"Out"},"target":{"block":"39a8514c-d896-4fd5-baab-db2c63d705d9","port":"output-in"}}]}}}}}]},"version":"3.0","package":{"name":"","version":"","description":"","author":"","image":""},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"edaf54a5-88ab-43cf-8cb9-7ad59b147f45","type":"VWRSBoZoMovYiXU5seNZYfC5E4IFNHuUpGifnMqd","data":{},"position":{"x":192,"y":240}},{"id":"0effe1d5-1cb5-43d3-a24c-13bfe74e62bd","type":"9VKCpXQjatEcmTaSe9PclY8f6zrISOQhG0kQGLVB","data":{},"position":{"x":1024,"y":319}},{"id":"f2b91689-89ff-4b37-b6e6-0343cef5818e","type":"JweP0cYtlLfjoS54xjiNs0o3A4JMtCeG3JRY0Q8Y","data":{},"position":{"x":824,"y":318}},{"id":"776ac361-6b3f-4456-8830-d3c6d56c4970","type":"3U58j860eZihDIWa15bZb8hrervbwsNl7Ci40UZ3","data":{},"position":{"x":624,"y":318}},{"id":"1318fef8-535d-46ff-9a93-4432d06486f9","type":"myOldIHhqnQJqa3Qk4ffkEPAE0TWnVh0NroAvvPM","data":{},"position":{"x":621,"y":138}},{"id":"9949f6d6-83a8-4468-9329-f6b5231c3e74","type":"bwwxQ2nnRrenQGriy8Vtny446AEfT6PY4bGIGJQI","data":{},"position":{"x":388,"y":240}}],"wires":[{"source":{"block":"f2b91689-89ff-4b37-b6e6-0343cef5818e","port":"2467bd46-3a99-4709-8276-b24847a76f07"},"target":{"block":"0effe1d5-1cb5-43d3-a24c-13bfe74e62bd","port":"e14a28e9-0990-4730-9f11-1f52075edbd3"}},{"source":{"block":"776ac361-6b3f-4456-8830-d3c6d56c4970","port":"7804f53f-6c60-47ca-88d8-6e93ee0993ea"},"target":{"block":"f2b91689-89ff-4b37-b6e6-0343cef5818e","port":"78796547-0b83-48fc-b719-cbf394907dc1"}},{"source":{"block":"edaf54a5-88ab-43cf-8cb9-7ad59b147f45","port":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918"},"target":{"block":"9949f6d6-83a8-4468-9329-f6b5231c3e74","port":"d8343aa6-fd44-4659-8755-7345f786d020"}},{"source":{"block":"9949f6d6-83a8-4468-9329-f6b5231c3e74","port":"39a8514c-d896-4fd5-baab-db2c63d705d9"},"target":{"block":"1318fef8-535d-46ff-9a93-4432d06486f9","port":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797"}},{"source":{"block":"9949f6d6-83a8-4468-9329-f6b5231c3e74","port":"39a8514c-d896-4fd5-baab-db2c63d705d9"},"target":{"block":"776ac361-6b3f-4456-8830-d3c6d56c4970","port":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67"}}]}},"dependencies":{"VWRSBoZoMovYiXU5seNZYfC5E4IFNHuUpGifnMqd":{"package":{"name":"CameraROS","version":"1.0.0","description":"Captures Video Stream from Simulated ROS Camera","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ3MnB0IiB2aWV3Qm94PSIwIC04NyA0NzIgNDcyIiB3aWR0aD0iNDcycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTQ2MiAzNS4xMjEwOTR2MjI3LjgyMDMxMmwtMTIxLjg3ODkwNi02Ni41NTA3ODFoLTEuMjEwOTM4di05NC43MTg3NWgxLjIxMDkzOHptMCAwIiBmaWxsPSIjMDBhY2VhIi8+PHBhdGggZD0ibTMzOC45MTAxNTYgMTk2LjM5MDYyNXY1MS4wMzEyNWMwIDIyLjA4OTg0NC0xNy45MTAxNTYgNDAtNDAgNDBoLTI0OC45MTAxNTZjLTIyLjA4OTg0NCAwLTQwLTE3LjkxMDE1Ni00MC00MHYtMTk3LjQyMTg3NWMwLTIyLjA4OTg0NCAxNy45MTAxNTYtNDAgNDAtNDBoMjQ4LjkxMDE1NmMyMi4wODk4NDQgMCA0MCAxNy45MTAxNTYgNDAgNDB6bTAgMCIgZmlsbD0iIzAwZWZkMSIvPjxwYXRoIGQ9Im00NjcuMTAxNTYyIDI2LjUxOTUzMWMtMy4wMzkwNjItMS44MDA3ODEtNi43OTY4NzQtMS44NjcxODctOS44OTg0MzctLjE3NTc4MWwtMTA4LjI5Njg3NSA1OS4xMzI4MTJ2LTM1LjQ3NjU2MmMtLjAzMTI1LTI3LjYwMTU2Mi0yMi4zOTg0MzgtNDkuOTY4NzUtNTAtNTBoLTI0OC45MDYyNWMtMjcuNjAxNTYyLjAzMTI1LTQ5Ljk2ODc1IDIyLjM5ODQzOC01MCA1MHYxOTcuNDIxODc1Yy4wMzEyNSAyNy41OTc2NTYgMjIuMzk4NDM4IDQ5Ljk2NDg0NCA1MCA1MGgyNDguOTEwMTU2YzI3LjYwMTU2My0uMDM1MTU2IDQ5Ljk2ODc1LTIyLjQwMjM0NCA1MC01MHYtMzQuODM5ODQ0bDEwOC4zMDA3ODIgNTkuMTMyODEzYzMuMDk3NjU2IDEuNjkxNDA2IDYuODU1NDY4IDEuNjI1IDkuODkwNjI0LS4xNzU3ODIgMy4wMzUxNTctMS44MDQ2ODcgNC44OTg0MzgtNS4wNzAzMTIgNC44OTg0MzgtOC42MDE1NjJ2LTIyNy44MTY0MDZjMC0zLjUzMTI1LTEuODYzMjgxLTYuODAwNzgyLTQuODk4NDM4LTguNjAxNTYzem0tMTM4LjE5MTQwNiAyMjAuOTAyMzQ0Yy0uMDE5NTMxIDE2LjU1ODU5NC0xMy40Mzc1IDI5Ljk4MDQ2OS0zMCAzMGgtMjQ4LjkxMDE1NmMtMTYuNTYyNS0uMDE5NTMxLTI5Ljk4MDQ2OS0xMy40NDE0MDYtMzAtMzB2LTE5Ny40MjE4NzVjLjAxOTUzMS0xNi41NjI1IDEzLjQzNzUtMjkuOTgwNDY5IDMwLTMwaDI0OC45MTAxNTZjMTYuNTYyNS4wMTk1MzEgMjkuOTgwNDY5IDEzLjQzNzUgMzAgMzB6bTEyMy4wODk4NDQtMS4zMzU5MzctMTAzLjA4OTg0NC01Ni4yODkwNjN2LTgxLjUzMTI1bDEwMy4wODk4NDQtNTYuMjkyOTY5em0wIDAiIGZpbGw9IiMwODM4NjMiLz48L3N2Zz4="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-311d4fd6-c88e-48ac-811b-323953cb854c","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":603,"y":9}},{"id":"0002-50be6404-1865-4676-a867-9b7b90b6d117","type":"basic.constant","data":{"name":"ROS Topic","value":"/drone_wrapper/cam_ventral/image_raw","local":true},"position":{"x":757,"y":12}},{"id":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","type":"basic.code","data":{"code":"#!/usr/bin/env python3\n\nimport numpy as np\nimport rospy\nfrom cv_bridge import CvBridge\nfrom sensor_msgs.msg import Image\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\nbridge = CvBridge()\nimg = None\n\ndef callback(msg):\n    \n    global img\n    img = np.asarray(bridge.imgmsg_to_cv2(msg, \"bgr8\"), dtype=np.uint8)\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    rospy.init_node(\"camera_ros\", anonymous=True)\n    \n    camera_subscriber = rospy.Subscriber(parameters[1], Image, callback)\n    \n    while img is None:\n        pass\n\n    try:\n    \n        while not rospy.is_shutdown():\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n            \n                output_0.add(img)\n                control_data[0] += 1\n                \n            sleep(control_data[1])       \n    \n    except KeyboardInterrupt:\n    \n        enable_wire.release()\n        output_0.release()\n","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"788px","height":"271px"}},"position":{"x":323,"y":186}},{"id":"af3b9847-7555-45fc-843c-117668b22e27","type":"basic.input","data":{"name":"E"},"position":{"x":136,"y":335}},{"id":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","type":"basic.output","data":{"name":"Out"},"position":{"x":1239,"y":326}}],"wires":[{"source":{"block":"0001-311d4fd6-c88e-48ac-811b-323953cb854c","port":"constant-out"},"target":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"Frequency"}},{"source":{"block":"0002-50be6404-1865-4676-a867-9b7b90b6d117","port":"constant-out"},"target":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"ROSTopic"}},{"source":{"block":"af3b9847-7555-45fc-843c-117668b22e27","port":"input-out"},"target":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"E"}},{"source":{"block":"bcdd21f5-011c-4407-9bd9-b2edde54ffce","port":"Out"},"target":{"block":"b4f9ed44-3cc7-4877-b4f0-9d06fe37d918","port":"output-in"}}]}}},"9VKCpXQjatEcmTaSe9PclY8f6zrISOQhG0kQGLVB":{"package":{"name":"MotorDriver","version":"1.0.0","description":"Controls Robot's Movement.","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB2aWV3Qm94PSIwIDAgMTI4IDEyOCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiPjx0aXRsZT5NT1RPUiBEQzwvdGl0bGU+PHBhdGggZD0iTTU0LjQ2OSwzNC42MjVINzQuNjNhNy4yOTQsNy4yOTQsMCwwLDEsNy4yOTQsNy4yOTRWNTJhMCwwLDAsMCwxLDAsMEg0Ny4xNzVhMCwwLDAsMCwxLDAsMFY0MS45MTlBNy4yOTQsNy4yOTQsMCwwLDEsNTQuNDY5LDM0LjYyNVoiIHN0eWxlPSJmaWxsOiNiYWRkZmEiLz48cGF0aCBkPSJNODAuNDI1LDUySDQ4LjY3NVY3Mi4xOTFBNC4wNzYsNC4wNzYsMCwwLDAsNTEuMyw3NmgwYTQuMDc2LDQuMDc2LDAsMCwxLDIuNjI1LDMuODA5VjgwLjVoMjEuMjV2LS42OTFBNC4wNzYsNC4wNzYsMCwwLDEsNzcuOCw3NmgwYTQuMDc2LDQuMDc2LDAsMCwwLDIuNjI1LTMuODA5WiIgc3R5bGU9ImZpbGw6I2ZmZiIvPjxyZWN0IHg9IjYxLjExMiIgeT0iODYuNSIgd2lkdGg9IjYuODc1IiBoZWlnaHQ9IjYuODc1IiBzdHlsZT0iZmlsbDojYmFkZGZhIi8+PHBhdGggZD0iTTc0LjYzLDMzLjUyNUg1NC40NjlhOC40LDguNCwwLDAsMC04LjM5NCw4LjM5NVY1MmExLjEsMS4xLDAsMCwwLDEuMSwxLjFoLjRWNzIuMTkxYTUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLDQuODM3LDIuOTkxLDIuOTkxLDAsMCwxLDEuOTE2LDIuNzhWODAuNWExLjEsMS4xLDAsMCwwLDEuMSwxLjFINjMuNDV2My44SDYxLjExMmExLjEsMS4xLDAsMCwwLTEuMSwxLjF2Ni44NzVhMS4xLDEuMSwwLDAsMCwxLjEsMS4xaDYuODc1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY4Ni41YTEuMSwxLjEsMCwwLDAtMS4xLTEuMUg2NS42NVY4MS42aDkuNTI1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMXYtLjY5MWEyLjk5MSwyLjk5MSwwLDAsMSwxLjkxNi0yLjc4LDUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLTQuODM3VjUzLjFoLjRhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjQxLjkyQTguNCw4LjQsMCwwLDAsNzQuNjMsMzMuNTI1Wm0tNy43NDMsNTguNzVINjIuMjEyVjg3LjZoNC42NzVaTTQ4LjI3NSw0MS45MmE2LjIsNi4yLDAsMCwxLDYuMTk0LTYuMkg3NC42M2E2LjIsNi4yLDAsMCwxLDYuMTk0LDYuMlY1MC45SDQ4LjI3NVptMzEuMDUsMzAuMjcyYTIuOTkxLDIuOTkxLDAsMCwxLTEuOTE2LDIuNzhBNS4yMSw1LjIxLDAsMCwwLDc0LjA5MSw3OS40SDU1LjAwOGE1LjIxLDUuMjEsMCwwLDAtMy4zMTctNC40MjksMi45OTEsMi45OTEsMCwwLDEtMS45MTYtMi43OFY1My4xaDI5LjU1WiIgc3R5bGU9ImZpbGw6IzM5NDlhYSIvPjxwYXRoIGQ9Ik01Ny44LDcxLjZhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjU4Ljc1YTEuMSwxLjEsMCwwLDAtMi4yLDBWNzAuNUExLjEsMS4xLDAsMCwwLDU3LjgsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNjQuNTUsNzEuNmExLjEsMS4xLDAsMCwwLDEuMS0xLjFWNTguNzVhMS4xLDEuMSwwLDAsMC0yLjIsMFY3MC41QTEuMSwxLjEsMCwwLDAsNjQuNTUsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNzEuMyw3MS42YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY1OC43NWExLjEsMS4xLDAsMCwwLTIuMiwwVjcwLjVBMS4xLDEuMSwwLDAsMCw3MS4zLDcxLjZaIiBzdHlsZT0iZmlsbDojMzk0OWFhIi8+PC9zdmc+Cg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":486,"y":28}},{"id":"0002-cb4c125e-14b6-4322-b252-35d2817b2832","type":"basic.constant","data":{"name":"ROS Topic","value":"/robot/cmd_vel","local":true},"position":{"x":766,"y":26}},{"id":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","type":"basic.code","data":{"code":"#!/usr/bin/env python3\n\nimport rospy\nimport numpy as np\nfrom time import sleep\nfrom geometry_msgs.msg import Twist\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\nlinear_velocity, angular_velocity = 0.0, 0.0\n\ndef callback(mem):\n    \n    global linear_velocity, angular_velocity\n    \n    msg = mem.get()\n    if msg is not None:\n        linear_velocity = float(msg[0])\n        angular_velocity = float(msg[1])\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[1])\n\n    rospy.init_node(\"motordriverVC\", anonymous=True)\n    output_0 = rospy.Publisher(parameters[1], Twist, queue_size=10)\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    data = Twist()\n\n    try:\n    \n        while not rospy.is_shutdown():\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n        \n                callback(input_0)\n                data.linear.x = linear_velocity\n                data.angular.z = angular_velocity\n                output_0.publish(data)\n                control_data[0] += 1\n                \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[]},"size":{"width":"0px","height":"0px"}},"position":{"x":284,"y":208}},{"id":"e14a28e9-0990-4730-9f11-1f52075edbd3","type":"basic.input","data":{"name":"Inp"},"position":{"x":99,"y":315}},{"id":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","type":"basic.input","data":{"name":"E"},"position":{"x":107,"y":469}}],"wires":[{"source":{"block":"0001-14f63bb0-570c-4d46-aad3-e9f1f1e687ff","port":"constant-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"Frequency"}},{"source":{"block":"0002-cb4c125e-14b6-4322-b252-35d2817b2832","port":"constant-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"ROSTopic"}},{"source":{"block":"e14a28e9-0990-4730-9f11-1f52075edbd3","port":"input-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"Inp"}},{"source":{"block":"8cc17ddf-ab60-4e34-ac22-9e3ce82e69a2","port":"input-out"},"target":{"block":"8a7a9a8d-260f-4d31-a515-f202e4f9e005","port":"E"}}]}}},"JweP0cYtlLfjoS54xjiNs0o3A4JMtCeG3JRY0Q8Y":{"package":{"name":"PID","version":"1.0.0","description":"Navigation using PID","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfNSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PGc+PGc+PHBhdGggZD0ibTI1LjQyIDYyaC0yMS40MnYtOC4yOWMwLTIuOTUgMS4yLTUuNjMgMy4xNC03LjU3Ljg0LS44NCAxLjgyLTEuNTQgMi45LTIuMDYgMS40MS0uNjkgMy0xLjA4IDQuNjctMS4wOC40NCAwIC44Ny4wMyAxLjI5LjA4IDIuODIuMzQgNS4zNCAxLjc4IDcuMDUgMy45MiAxLjE4IDEuNDYgMS45OCAzLjIzIDIuMjYgNS4ybC42OSA0LjguMDMuMDggNC44MS0yLjE5IDEuOTggNC40Ni00LjM4IDJjLS45NS40My0xLjk4LjY1LTMuMDIuNjV6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNy40MiA1Ni45OWMuNTUtMS4xNS41OC0xLjM1LjU4LTEuNTYgMC0xLjM0LTEuMDktMi40My0yLjQzLTIuNDNoLS4wNGMtLjM1IDAtLjY5LjA3LTEuMDEuMjJsLTEuMi41NGMxLjA0LTEuNzEgMi45MS0yLjc2IDQuOTItMi43NmgxLjc2Yy43MyAwIDEuNDEuMiAyIC41NC4zLjE3LjU4LjM5LjgzLjYzLjcyLjczIDEuMTcgMS43MyAxLjE3IDIuODNzLS45IDItMiAyaC00LjU3eiIgZmlsbD0iI2I0ZGQ3ZiIvPjwvZz48Zz48cGF0aCBkPSJtMzMuMzIgNTMuNzYtLjAxLjAxLTEuMzEuNTl2LTcuMzZoMTB2NC41NGMtLjU5LS4zNC0xLjI3LS41NC0yLS41NGgtMS43NmMtMi4wMSAwLTMuODggMS4wNS00LjkyIDIuNzZ6IiBmaWxsPSIjYWFiMmJkIi8+PC9nPjxnPjxwYXRoIGQ9Im02MiAzOXY0YzAgMi4yMS0xLjc5IDQtNCA0aC02LTEwLTEwLTguOTVjLTEuNzEtMi4xNC00LjIzLTMuNTgtNy4wNS0zLjkydi0zLjA4aC0uMzJjLjg1IDAgMS42Ni0uMzQgMi4yNS0uOTNsLjA3LS4wN3oiIGZpbGw9IiNjY2QxZDkiLz48L2c+PGc+PHBhdGggZD0ibTU4IDEzaC0yMC0xNi4wNS0uMDFjLS4zMyAzLjQ2LTIuNDQgNi40LTUuNCA3LjkxLjg5Ljc0IDEuNDYgMS44NSAxLjQ2IDMuMDloM2MxLjEgMCAyIC44OSAyIDIgMCAuNTUtLjIyIDEuMDUtLjU5IDEuNDEtLjM2LjM3LS44Ni41OS0xLjQxLjU5aC0zbC44NSA4LjVjLjAxLjEuMDEuMjEuMDEuMzEgMCAuODEtLjMgMS41OS0uODYgMi4xOWg0NHYtMjJjMC0yLjIxLTEuNzktNC00LTR6IiBmaWxsPSIjNjlkNmY0Ii8+PC9nPjxnPjxjaXJjbGUgY3g9IjQ4IiBjeT0iMTMiIGZpbGw9IiNlNmU5ZWQiIHI9IjEwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNyAyOWg4djZoLTh6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yMS45NCAxM2MtLjMzIDMuNDYtMi40NCA2LjQtNS40IDcuOTEtLjY5LS41Ny0xLjU4LS45MS0yLjU0LS45MWgtNGMtMS4wNCAwLTIuMDIuMjYtMi44Ny43My0zLjA2LTEuNzEtNS4xMy00Ljk4LTUuMTMtOC43MyAwLTUuNTIgNC40OC0xMCAxMC0xMHMxMCA0LjQ4IDEwIDEwYzAgLjM0LS4wMi42Ny0uMDYgMXoiIGZpbGw9IiNlNmU5ZWQiLz48L2c+PGc+PHBhdGggZD0ibTEwIDM1djVjLTMuNTgtMS4xOS02LTQuNTUtNi04LjMzdi0zLjY3aDZsLS45NC45NGMtLjY4LjY4LTEuMDYgMS42LTEuMDYgMi41NnMuMzggMS44OCAxLjA2IDIuNTZ6IiBmaWxsPSIjNjU2ZDc4Ii8+PC9nPjxnPjxwYXRoIGQ9Im0xOCAyNGgtMi43NmMtLjc2IDAtMS40NS40My0xLjc5IDEuMWwtMS40NSAyLjloLTItNnYtMmMwLTIuMjcgMS4yNy00LjI1IDMuMTMtNS4yNy44NS0uNDcgMS44My0uNzMgMi44Ny0uNzNoNGMuOTYgMCAxLjg1LjM0IDIuNTQuOTEuODkuNzQgMS40NiAxLjg1IDEuNDYgMy4wOXoiIGZpbGw9IiNmZjgyNmUiLz48L2c+PGc+PHBhdGggZD0ibTIxIDI0YzEuMSAwIDIgLjg5IDIgMiAwIC41NS0uMjIgMS4wNS0uNTkgMS40MS0uMzYuMzctLjg2LjU5LTEuNDEuNTloLTMtNmwxLjQ1LTIuOWMuMzQtLjY3IDEuMDMtMS4xIDEuNzktMS4xaDIuNzZ6IiBmaWxsPSIjZmM2ZTUxIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNS41NyA1M2MxLjM0IDAgMi40MyAxLjA5IDIuNDMgMi40MyAwIC4yMS0uMDMuNDEtLjU4IDEuNTYtLjIyLjI4LS41MS41LS44NS42NmwtMy43NSAxLjctMS45OC00LjQ2IDEuMTYtLjUzIDEuMzEtLjU5LjAxLS4wMSAxLjItLjU0Yy4zMi0uMTUuNjYtLjIyIDEuMDEtLjIyeiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48Zz48cGF0aCBkPSJtMTAgNDB2LTVsLS45NC0uOTRjLS42OC0uNjgtMS4wNi0xLjYtMS4wNi0yLjU2cy4zOC0xLjg4IDEuMDYtMi41NmwuOTQtLjk0aDIgNmwuODUgOC41Yy4wMS4xLjAxLjIxLjAxLjMxIDAgLjgxLS4zIDEuNTktLjg2IDIuMTktLjAzLjAzLS4wNS4wNS0uMDcuMDctLjU5LjU5LTEuNC45My0yLjI1LjkzaC4zMnYzLjA4Yy0uNDItLjA1LS44NS0uMDgtMS4yOS0uMDgtMS42NyAwLTMuMjYuMzktNC42NyAxLjA4bC0uMDQtLjA4eiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48L2c+PGc+PHBhdGggZD0ibTEzIDEwLjE2MiAxLjI3OSAzLjgzOGg0LjcyMXYtMmgtMy4yNzlsLTIuNzIxLTguMTYyLTMuMTg2IDkuNTU2LTEuMTk2LTIuMzk0aC0zLjYxOHYyaDIuMzgybDIuODA0IDUuNjA2eiIvPjxwYXRoIGQ9Im01OCA0OGMyLjc1NyAwIDUtMi4yNDMgNS01di0yNmMwLTIuNDMtMS43NDQtNC40NTYtNC4wNDYtNC45MDQtLjQ2Mi01LjY0My01LjE5NC0xMC4wOTYtMTAuOTU0LTEwLjA5Ni01LjcyOCAwLTEwLjQ0MiA0LjQwMi0xMC45NDkgMTBoLTE0LjA1MWMwLTYuMDY1LTQuOTM1LTExLTExLTExcy0xMSA0LjkzNS0xMSAxMWMwIDMuNDY4IDEuNjQyIDYuNzA3IDQuMzY0IDguNzctMS40NDYgMS4yODMtMi4zNjQgMy4xNDktMi4zNjQgNS4yM3YxLjk5OSAxIDIuNjc2YzAgMy45NjkgMi4zODMgNy41MDMgNiA5LjAxNHYyLjgwOGMtMy41NzUgMi4wMDctNiA1LjgzMS02IDEwLjIxNHY5LjI4OWgyMi44NTZ2LS4wMjNjMS4wMzctLjA1NCAyLjA0NC0uMjg4IDIuOTk0LS43Mmw4LjEzNi0zLjY5OGMuMzE3LS4xNDQuNjAzLS4zMzQuODU2LS41NTloNC4xNThjMS4zMDIgMCAyLjQwMi0uODM5IDIuODE2LTJoMTUuMTg0YzEuNjU0IDAgMy0xLjM0NiAzLTNzLTEuMzQ2LTMtMy0zaC02Yy0uNTUyIDAtMS0uNDQ4LTEtMXYtMXptMC0yaC0zNC41MTJjLTEuNjc3LTEuOS0zLjk0NS0zLjI1Mi02LjQ4OC0zLjc2NXYtMS40N2MuNDk5LS4xNjcuOTU5LS40MjUgMS4zNjQtLjc2NWg0Mi42MzZ2M2MwIDEuNjU0LTEuMzQ2IDMtMyAzem0tMTggNGgtMS43NjRjLTIuMDQ5IDAtMy45OTguOTUtNS4yMzYgMi40NzZ2LTQuNDc2aDh2Mi4xMDFjLS4zMjMtLjA2Ni0uNjU4LS4xMDEtMS0uMTAxem0tMTMuMTg2IDUuNjIzLS41MS0zLjU2OGMtLjIwOS0xLjQ2LS42OS0yLjgyNi0xLjM4My00LjA1NWg2LjA3OXY1Ljcyem0tMTMuMTk2LTI4LjYyNC43MjQtMS40NDdjLjE3LS4zNDEuNTEzLS41NTMuODk1LS41NTNoNS43NjNjLjU1MiAwIDEgLjQ0OSAxIDFzLS40NDggMS0xIDF6bTM0LjM4Mi0yMi45OTljNC45NjMgMCA5IDQuMDM4IDkgOXMtNC4wMzcgOS05IDktOS00LjAzOC05LTkgNC4wMzctOSA5LTl6bS0xMC45NDkgMTBjLjUwNyA1LjU5OCA1LjIyMSAxMCAxMC45NDkgMTAgNS42NzIgMCAxMC4zNTMtNC4zMTYgMTAuOTM3LTkuODM1IDEuMTk0LjM5NiAyLjA2MyAxLjUxIDIuMDYzIDIuODM1djIxaC00MS4zMjRjLjE1Mi0uNTEzLjIyNC0xLjA1My4xNjgtMS42MDJsLS43NC03LjM5OWgxLjg5NmMxLjY1NCAwIDMtMS4zNDYgMy0zcy0xLjM0Ni0zLTMtM2gtMi4xMDFjLS4xMzktLjY4LS40My0xLjMwMS0uODE1LTEuODUxIDIuNDk1LTEuNjU2IDQuMTc2LTQuMjI4IDQuNzEyLTcuMTQ4em0tMzQuMDUxLTJjMC00Ljk2MiA0LjAzNy05IDktOXM5IDQuMDM4IDkgOWMwIDMuMjA3LTEuNjg5IDYuMTA2LTQuNDIyIDcuNzI2LS43NTQtLjQ1Ny0xLjYzMy0uNzI2LTIuNTc3LS43MjZoLTQuMDAxYy0uOTk3IDAtMS45NDQuMjEzLTIuODAzLjU5LTIuNTkzLTEuNjQ1LTQuMTk3LTQuNS00LjE5Ny03LjU5em0yIDE0YzAtMi43NTcgMi4yNDMtNSA1LTVoNC4wMDFjMS4zMDQgMCAyLjQxNS44MzUgMi44MjcgMS45OTloLTEuNTkyYy0xLjE0NCAwLTIuMTcyLjYzNS0yLjY4NCAxLjY1OGwtMS4xNzEgMi4zNDJoLTYuMzgxem0wIDUuNjc1di0yLjY3NmgyLjc0MWMtLjQ3OS43NC0uNzQxIDEuNTk5LS43NDEgMi41MDEgMCAxLjIxNi40OTMgMi40MDcgMS4zNTQgMy4yNjhsLjY0Ni42NDZ2My4wNDNjLTIuNDM0LTEuMzUzLTQtMy45MjEtNC02Ljc4MnptNC43NjggMS42NzljLS40ODgtLjQ4OC0uNzY4LTEuMTY0LS43NjgtMS44NTQgMC0uNy4yNzItMS4zNTguNzY4LTEuODU0bC42NDctLjY0N2g2LjY4bC43NiA3LjZjLjA2Ni42NTMtLjE2MyAxLjI5Ni0uNjI5IDEuNzYyLS40MDYuNDA2LS45Ny42NC0xLjU0NS42NGgtMi42ODF2MmgydjEuMDEzYy0uMDk3LS4wMDMtLjE5Mi0uMDE0LS4yODktLjAxNC0xLjI5OCAwLTIuNTQzLjIyMS0zLjcxMS42MTN2LTguMDI3em0xOC4yNTQgMjcuMDgzYy0uODIxLjM3NC0xLjY5Ni41NjMtMi42LjU2My0yLjc5OCAwLTUuMjE4LTEuODAxLTYuMDIxLTQuNDhsLTEuNDQyLTQuODA3LTEuOTE2LjU3NCAxLjQ0MiA0LjgwN2MuNDcyIDEuNTc1IDEuMzg0IDIuOSAyLjU1OSAzLjkwNmgtMTUuMDQ0di03LjI4OWMwLTUuMzU1IDQuMzU2LTkuNzExIDkuNzExLTkuNzExIDQuODAxIDAgOC45MzQgMy41ODQgOS42MTIgOC4zMzhsLjU5MyA0LjE0Ny0xLjMzLjYwNS44MjggMS44MiA1LjkyMS0yLjY5MiAxLjE3MSAyLjYzNHptOC4xMzctMy42OTktMi44MzEgMS4yODctMS4xNzEtMi42MzUgMi43NzgtMS4yNjNjLjE4NC0uMDgzLjM4OC0uMTI3LjYzMS0uMTI3Ljc5IDAgMS40MzQuNjQ0IDEuNDM0IDEuNDM0IDAgLjU2LS4zMyAxLjA3Mi0uODQxIDEuMzA0em01Ljg0MS0uNzM4aC0zLjA1MmMuMDMyLS4xODYuMDUyLS4zNzQuMDUyLS41NjYgMC0xLjQ1Ny0uOTE1LTIuNjk2LTIuMjE2LTMuMTk0LjQ2Ni0uMTUxLjk1My0uMjQgMS40NTItLjI0aDEuNzY0YzEuNjU0IDAgMyAxLjM0NiAzIDMgMCAuNTUyLS40NDggMS0xIDF6bTEyLTRoNmMuNTUyIDAgMSAuNDQ4IDEgMXMtLjQ0OCAxLTEgMWgtMTUuMTAxYy0uMjQ3LTEuMjEzLS45NDYtMi4yNTMtMS44OTktMi45NzR2LTMuMDI2aDh2MWMwIDEuNjU0IDEuMzQ2IDMgMyAzeiIvPjxwYXRoIGQ9Im01NyA0MmgydjJoLTJ6Ii8+PHBhdGggZD0ibTUzIDQyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDkgNDJoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiA4aDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgOGg4djJoLTh6Ii8+PHBhdGggZD0ibTQyIDEyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgMTJoOHYyaC04eiIvPjxwYXRoIGQ9Im00MiAxNmgydjJoLTJ6Ii8+PHBhdGggZD0ibTQ2IDE2aDh2MmgtOHoiLz48cGF0aCBkPSJtMzYgMjhoLTEwdjhoMTB6bS0yIDZoLTZ2LTRoNnoiLz48cGF0aCBkPSJtMjYgMjRoMTB2MmgtMTB6Ii8+PHBhdGggZD0ibTI2IDIwaDEwdjJoLTEweiIvPjxwYXRoIGQ9Im0yNiAxNmgxMHYyaC0xMHoiLz48cGF0aCBkPSJtMzggMzRoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiAzNGgxN3YyaC0xN3oiLz48cGF0aCBkPSJtMzggMzBoMjF2MmgtMjF6Ii8+PHBhdGggZD0ibTM4IDI2aDIxdjJoLTIxeiIvPjwvZz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":501,"y":5}},{"id":"0002-f07702a6-0709-4326-b6ac-8aa054502ca4","type":"basic.constant","data":{"name":"Kp","value":"1.0","local":true},"position":{"x":640,"y":4}},{"id":"0003-a378a01c-79b9-4818-8534-d329ad60b5c8","type":"basic.constant","data":{"name":"Ki","value":"1.0","local":true},"position":{"x":781,"y":3}},{"id":"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2","type":"basic.constant","data":{"name":"Kd","value":"1.0","local":true},"position":{"x":919,"y":2}},{"id":"05faca20-77c3-4bb6-8a6a-c827aa222af2","type":"basic.code","data":{"code":"import numpy as np\nimport math\nfrom time import sleep\nfrom utils.wires.wire_str import read_string, share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_string(input_wires[0])\n    output_0 = share_string(output_wires[0])\n\n    kp = float(parameters[1])\n    ki = float(parameters[2])\n    kd = float(parameters[3])\n    previousError, I = 0, 0\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                msg = input_0.get()\n                \n                if msg is not None and msg[0] is not None:\n                \n                    error = float(msg[0])\n                    sleep(0.01)\n                    \n                    # PID Control Logic\n                    \n                    P = error\n                    I = I + error\n                    D = error-previousError\n                    PIDvalue = (kp*P) + (ki*I) + (kd*D)\n                    previousError = error\n            \n                    linear_velocity = 5.0\n            \n                    angular_velocity = -PIDvalue\n                    \n                    data = []\n                    data.extend((str(linear_velocity), str(angular_velocity)))\n                    to_write = np.array(data, dtype='<U6')\n                    output_0.add(to_write)\n                    control_data[0] += 1\n                    \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"},{"name":"Kp"},{"name":"Ki"},{"name":"Kd"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"900px","height":"370px"}},"position":{"x":293,"y":198}},{"id":"78796547-0b83-48fc-b719-cbf394907dc1","type":"basic.input","data":{"name":"Inp"},"position":{"x":133,"y":322}},{"id":"b4fbd756-2c48-4f10-9341-a7498ffd8807","type":"basic.input","data":{"name":"E"},"position":{"x":143,"y":469}},{"id":"2467bd46-3a99-4709-8276-b24847a76f07","type":"basic.output","data":{"name":"Out"},"position":{"x":1328,"y":385}}],"wires":[{"source":{"block":"0001-5e4a8d88-f3ff-432f-ac26-b5dc1e24fadf","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Frequency"}},{"source":{"block":"0002-f07702a6-0709-4326-b6ac-8aa054502ca4","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Kp"}},{"source":{"block":"0003-a378a01c-79b9-4818-8534-d329ad60b5c8","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Ki"}},{"source":{"block":"0004-1b9f8bfc-528f-41b3-9095-f3683e1804a2","port":"constant-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Kd"}},{"source":{"block":"78796547-0b83-48fc-b719-cbf394907dc1","port":"input-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Inp"}},{"source":{"block":"b4fbd756-2c48-4f10-9341-a7498ffd8807","port":"input-out"},"target":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"E"}},{"source":{"block":"05faca20-77c3-4bb6-8a6a-c827aa222af2","port":"Out"},"target":{"block":"2467bd46-3a99-4709-8276-b24847a76f07","port":"output-in"}}]}}},"3U58j860eZihDIWa15bZb8hrervbwsNl7Ci40UZ3":{"package":{"name":"","version":"","description":"","author":"","image":""},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"45d42e3c-94f2-430b-8a84-11d7bca646c0","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nimport math\nfrom time import sleep\nfrom utils.wires.wire_img import read_image\nfrom utils.wires.wire_str import share_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_string(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        center = 0\n        cx = 0\n        cy = 0\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n\n                img = input_0.get()\n                center = (img.shape)[1]/2\n                \n                if msg is not None and msg[0] is not None:\n\n                    mascara = cv2.morphologyEx(mascara,cv2.MORPH_OPEN,kernel)\n                    mascara = cv2.morphologyEx(mascara,cv2.MORPH_CLOSE,kernel)\n\n\n                    contours, hierarchy = cv2.findContours(mascara, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n\n                    if len(contours)>0:\n                        mayor_contorno=max(contours, key=cv2.contourArea)\n\n                        momentos = cv2.moments(mayor_contorno)\n                        cx = float(momentos['m10']/momentos['m00'])\n\n\n                    to_write = String(center - cx)\n                    output_0.add(to_write)\n                    control_data[0] += 1\n                    \n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        output_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"0px","height":"0px"}},"position":{"x":418,"y":213}},{"id":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","type":"basic.input","data":{"name":"Inp"},"position":{"x":162,"y":216}},{"id":"4e64e245-e916-4fe9-b371-b77f05b9633d","type":"basic.input","data":{"name":"E"},"position":{"x":192,"y":546}},{"id":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","type":"basic.output","data":{"name":"Out"},"position":{"x":1542,"y":418}},{"id":"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":789,"y":37}}],"wires":[{"source":{"block":"0005-376d6e7a-49f8-4efc-b3c9-e0b46071d7de","port":"constant-out"},"target":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"Frequency"}},{"source":{"block":"b6bc26dd-b5bd-46ff-a018-1d322cd44e67","port":"input-out"},"target":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"Inp"}},{"source":{"block":"4e64e245-e916-4fe9-b371-b77f05b9633d","port":"input-out"},"target":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"E"}},{"source":{"block":"45d42e3c-94f2-430b-8a84-11d7bca646c0","port":"Out"},"target":{"block":"7804f53f-6c60-47ca-88d8-6e93ee0993ea","port":"output-in"}}]}}},"myOldIHhqnQJqa3Qk4ffkEPAE0TWnVh0NroAvvPM":{"package":{"name":"Screen","version":"1.0.0","description":"Displays Image or Video","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTIxMC4yODcgNDA1LjY2N3Y5MS4zMzNoNDUuNzEzbDIwLTQ4LTIwLTQzLjMzM3oiIGZpbGw9IiNiNGQyZDciLz48cGF0aCBkPSJtMjU2IDQwNS42NjdoNDUuNzEzdjkxLjMzM2gtNDUuNzEzeiIgZmlsbD0iIzliYjljMyIvPjxwYXRoIGQ9Im0wIDB2MzU0LjE5bDI1NiAyMCAzMC0xOTcuMDk1LTMwLTE3Ny4wOTV6IiBmaWxsPSIjMDc0ODVlIi8+PGNpcmNsZSBjeD0iMTUwLjQxNiIgY3k9IjIwMi45OCIgZmlsbD0iI2YyYmI4OCIgcj0iNDkuMzQxIi8+PHBhdGggZD0ibTIyMi44ODUgMzY0LjE5aC0xNDQuOTM4di05MS44NjljMC0xMS4wNDYgOC45NTQtMjAgMjAtMjBoMTA0LjkzOGMxMS4wNDYgMCAyMCA4Ljk1NCAyMCAyMHoiIGZpbGw9IiMwMGI2YmQiLz48cGF0aCBkPSJtNTEyIDBoLTI1NnYzNzQuMTlsMjU2LTIweiIgZmlsbD0iIzA0MzAzZSIvPjxwYXRoIGQ9Im0wIDM1NC4xOXY2MS44NjdoMjU2bDIwLTM2LjA1Ny0yMC0yNS44MXoiIGZpbGw9IiNlMWViZjAiLz48cGF0aCBkPSJtMjU2IDM1NC4xOWgyNTZ2NjEuODY3aC0yNTZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PGc+PHBhdGggZD0ibTI1NiA1MTJoLTEyNC43NjZ2LTMwaDEyNC43NjZsMTAgMTV6IiBmaWxsPSIjZTFlYmYwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNTYgNDgyaDEyNC43NjZ2MzBoLTEyNC43NjZ6IiBmaWxsPSIjYjRkMmQ3Ii8+PC9nPjxwYXRoIGQ9Im0yODkuMTE1IDc1aDE1MXYxMThoLTE1MXoiIGZpbGw9IiM1YTkzYzgiLz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":702,"y":17}},{"id":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","type":"basic.input","data":{"name":"Img"},"position":{"x":270,"y":274}},{"id":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","type":"basic.input","data":{"name":"E"},"position":{"x":276,"y":427}},{"id":"8a739a4c-9660-4120-a7a5-73fea5344587","type":"basic.code","data":{"code":"import cv2\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n        \n                control_data[0] += 1\n                img = input_0.get()\n                \n                if img is not None:\n                    cv2.imshow(block_name, img)\n                    if cv2.waitKey(1) & 0xFF == ord('q'):\n                        break\n\n            sleep(control_data[1])\n\n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Img"},{"name":"E"}],"out":[]},"size":{"width":"660px","height":"350px"}},"position":{"x":439,"y":190}}],"wires":[{"source":{"block":"0001-bf8f67f0-a1b6-4821-9c4d-2e8c9f4b4aac","port":"constant-out"},"target":{"block":"8a739a4c-9660-4120-a7a5-73fea5344587","port":"Frequency"}},{"source":{"block":"20935eb2-46d9-4d5b-b3a4-d9ff9f9b7797","port":"input-out"},"target":{"block":"8a739a4c-9660-4120-a7a5-73fea5344587","port":"Img"}},{"source":{"block":"4c152e4c-d4da-4c9c-a1fa-9cec736c8f03","port":"input-out"},"target":{"block":"8a739a4c-9660-4120-a7a5-73fea5344587","port":"E"}}]}}},"bwwxQ2nnRrenQGriy8Vtny446AEfT6PY4bGIGJQI":{"package":{"name":"ColorFilter","version":"1.0.0","description":"Filters a Color in an Image","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MDAuMjM4IDUwMC4yMzgiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTAwLjIzOCA1MDAuMjM4IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im00NjIuNzAyIDE3OS44ODQtMjUuODI3LTIzLjA2My01Mi42MjMgMjAuMjI0LTcuMTYgMjkuNTQ4LTI3LjUxOSAxMjQuODM4IDg5LjM2IDM4LjkyOSAxMS4wODktMTQuMzE3YzE1LjMtMzEuMzggMjMuODgtNjYuNjQgMjMuODgtMTAzLjkxIDAtMjUuMTg5LTMuOTQtNDkuNDU5LTExLjItNzIuMjQ5eiIgZmlsbD0iI2ZlN2Q0MyIvPjxnPjxnIGlkPSJYTUxJRF84NTVfIj48Zz48cGF0aCBkPSJtMzcwLjcgMzE2LjI4NC0zMS4zNjIgMTUuMTQ4LTgwLjYyOCA1Ni43OTIgMzUuOTM1IDgwLjE3MyAyNS42NTUgNi4zNTd2LjAxYzU3LjMzLTIxLjMyIDEwMy40NjItNjQuODMgMTMwLjA0Mi0xMTkuMzh6IiBmaWxsPSIjZWU2MTYxIi8+PHBhdGggZD0ibTI4OS41OSAzOTAuNTE0LTE3LjEwNy0xMS45OTEtMTAyLjIzMy0xNS41MjYtNDkuMTE4IDc4LjkxMSAyMi42MDkgMjguNDc2di4wMWMyOC43NiAxMi4zNyA2MC40NSAxOS4yMiA5My43NCAxOS4yMiAyOS4xMyAwIDU3LjAzLTUuMjQgODIuODItMTQuODV2LS4wMXoiIGZpbGw9IiNjMmExZDUiLz48cGF0aCBkPSJtMTc0Ljk2MSAzNjAuOTc4LTU2LjgyNC04OS4yNjQtOTkuMTQ3IDMwLjY3NXY0Mi45NTRjMjMuOTMgNTYuMDMgNjguNzkgMTAwLjk5IDEyNC43NSAxMjUuMDV2LS4wMWwzNS45My04Mi4xNnoiIGZpbGw9IiM4YWM5ZmUiLz48cGF0aCBkPSJtNDEuOTgyIDEzOC45NC0yNi45MjIgMjkuODM0aC0uMDFjLTkuNzMgMjUuOTQtMTUuMDUgNTQuMDMtMTUuMDUgODMuMzYgMCAzMy4wOSA2Ljc3IDY0LjU5IDE4Ljk5IDkzLjIxaC4wMWw4Mi43MS0zNC42NCAxMC44MTQtMjQuODQgNi40OTMtMTIyLjE4NnoiIGZpbGw9IiM3NWNkZDUiLz48cGF0aCBkPSJtMTgxLjkxNiAzOC4yODRoLTQ3LjgzNmMtNTQuNjIgMjYuNDYtOTcuNTcgNzMuMjItMTE5LjAzIDEzMC40OWguMDFsODMuNzUgMzIuMDIgNTQuNzYtMjcuNzIyIDcyLjQxOC02NS4xNDN6IiBmaWxsPSIjNmNmNWMyIi8+PHBhdGggZD0ibTM3OC4xNSAyMDYuNTk0LTQuMzg3LTE5LjUwNi01NC4wNjEgMTMuNzA2LTIuOTEyIDI0Ljk1YzIuNzcgOC4yOSA0LjI2IDE3LjE3IDQuMjYgMjYuMzkgMCAxMi43Ni0yLjg2IDI0Ljg0LTcuOTcgMzUuNjVsMS4xNyAxOS45MDcgMzUuMzIzIDE4Ljc5NyAyMS4xMjYtMTAuMjA0YzkuMzYtMTkuNCAxNC42MS00MS4xNiAxNC42MS02NC4xNS4wMDEtMTUuODktMi41MTktMzEuMTktNy4xNTktNDUuNTR6IiBmaWxsPSIjZmQ2OTMwIi8+PHBhdGggZD0ibTMxMy4wOCAyODcuNzg0Yy05LjEzIDE5LjMzLTI1LjQ1IDM0LjU5LTQ1LjUxIDQyLjMzbC03LjcxMSAxNC41MDUgMTYuMDczIDQxLjE2IDEzLjY1OCA0LjczNWMzNS42My0xMy40MiA2NC43LTQwLjE5IDgxLjExLTc0LjIzeiIgZmlsbD0iI2U5NDQ0NCIvPjxwYXRoIGQ9Im0yNjcuNTcgMzMwLjExNGMtOS4zMyAzLjYxLTE5LjQ4IDUuNTktMzAuMDkgNS41OS0xMS4zNiAwLTIyLjE4LTIuMjYtMzIuMDUtNi4zOGwtMTYuODY1IDEuODI4LTIwLjA2IDQwLjg5NiAxMS4xNjUgMTYuMTc2YzE3Ljc2IDcuNTYgMzcuMyAxMS43NCA1Ny44MSAxMS43NCAxOC4zNCAwIDM1LjktMy4zNCA1Mi4xMS05LjQ1eiIgZmlsbD0iI2EyNzRiZiIvPjxwYXRoIGQ9Im0xNjEgMjg1Ljg2NC0xMy4xOTUtOS41NDEtNDMuMDYxIDE0LjkyMi0zLjAzNCAxOS40NTljMTUuMDMgMzQuODEgNDMuMDUgNjIuNjggNzcuOTYgNzcuNTJsMjUuNzYtNTguOWMtMTkuODEtOC4yMi0zNS43OC0yMy44Ny00NC40My00My40NnoiIGZpbGw9IiMyNmE2ZmUiLz48cGF0aCBkPSJtMzUxLjMzIDQzLjY4NGMtMzMuOC0xOC41LTcyLjYtMjkuMDMtMTEzLjg1LTI5LjAzLTM3LjA3IDAtNzIuMTUgOC40OS0xMDMuNCAyMy42M2wzOC41MSA4MSAzOC4yNTkgMTcuMTU4IDEyMC4zOCAyMC4zOCAzNS4wMjctNzQuMzN6IiBmaWxsPSIjZmVlOTdkIi8+PC9nPjwvZz48L2c+PHBhdGggZD0ibTQ5OS44ODIgMTYxLjUzNGMxLjE5IDMuNDMtLjcxIDcuMTYtNC4xNyA4LjI0bC0zMi40IDEwLjExLTYxLjM3IDE5LjE1Yy0xMy43Mi00Mi42NC00My41LTc4LjA3LTgyLjI0LTk5LjE1bDMxLjE4LTU2LjIgMTYuNS0yOS43NGMxLjc0LTMuMTUgNS43NC00LjI2IDguODUtMi40NSA1Ny4zNiAzMy4yNSAxMDEuNzMgODYuNDIgMTIzLjY1IDE1MC4wNHoiIGZpbGw9IiNmZWMxNjUiLz48cGF0aCBkPSJtMTUzLjkxIDI1Mi4xMzRjMC05Ljk3IDEuNzQtMTkuNTMgNC45NS0yOC4zOWwtLjczOC0zNC44MzVoLTM1LjgzNWwtMjMuNDc3IDExLjg4NWMtNS45MiAxNS45OS05LjE2IDMzLjI5LTkuMTYgNTEuMzQgMCAyMC44MSA0LjMgNDAuNjEgMTIuMDYgNTguNTdsNTkuMjktMjQuODRjLTQuNTYtMTAuMzEtNy4wOS0yMS43Mi03LjA5LTMzLjczeiIgZmlsbD0iIzJhYmNjOCIvPjxwYXRoIGQ9Im0yMDIuNTg4IDEyOC45NzctMjkuOTk5LTkuNjk0Yy0zMy45MyAxNi41OC02MC41NiA0NS43OS03My43OCA4MS41MWw2MC4wNSAyMi45NWM3LjMyLTIwLjI2IDIyLjI0LTM2Ljg4IDQxLjMzLTQ2LjQxdi0uMDFsMTMuNzU2LTE1LjQ4OXoiIGZpbGw9IiMwMGYyYTYiLz48cGF0aCBkPSJtMzA3Ljg0IDEyMi4wODQtLjAxMy0uMDAyYy0yMC45MTktMTEuMzM5LTQ0Ljg3OC0xNy43NzgtNzAuMzQ3LTE3Ljc3OC0yMy4yOCAwLTQ1LjMgNS4zOC02NC44OSAxNC45OGwyNy42IDU4LjA1YzExLjIyLTUuNiAyMy44OS04Ljc3IDM3LjI5LTguNzcgMTQuMTYgMCAyNy40OSAzLjUyIDM5LjE3IDkuNzRsMjEuMDMyIDEuMDM1IDIwLjU3OS0yNy40Mzh6IiBmaWxsPSIjZmVkZjMwIi8+PHBhdGggZD0ibTQwMS45NDIgMTk5LjAzNC0yNC4yNCA3LjU2LTYwLjkxMiAxOS4xNWMtNi44MS0yMC40OS0yMS42ODYtMzcuNjMzLTQwLjQ4Ni00Ny42MjNsMzEuMDg4LTU2LjAzNyAxMi4zMS0yMi4yYzM4Ljc0IDIxLjA4IDY4LjUyIDU2LjUxIDgyLjI0IDk5LjE1eiIgZmlsbD0iI2ZkYjQ0MSIvPjwvc3ZnPg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-7796e143-c469-4100-bcab-cc361cc7c63c","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":419,"y":20}},{"id":"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab","type":"basic.constant","data":{"name":"Lower RGB","value":"30,0,0","local":true},"position":{"x":568,"y":20}},{"id":"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc","type":"basic.constant","data":{"name":"Upper RGB","value":"255,255,255","local":true},"position":{"x":713,"y":19}},{"id":"7af96344-fe3e-4e18-808e-be4207227877","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n    lower_range = np.array([int(x.strip()) for x in parameters[1].split(',')])\n    upper_range = np.array([int(x.strip()) for x in parameters[2].split(',')])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n    \n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n    \n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n    \n                frame = input_0.get()\n                \n                if frame is not None:\n        \n                    hsv = cv.cvtColor(frame, cv.COLOR_BGR2HSV)\n                    mask = cv.inRange(hsv, lower_range, upper_range)\n                    filtered = cv.bitwise_and(frame,frame, mask= mask)\n    \n                    output_0.add(filtered)\n    \n                control_data[0] += 1\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt: \n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"LowerRGB"},{"name":"UpperRGB"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"727px","height":"494px"}},"position":{"x":276,"y":206}},{"id":"d8343aa6-fd44-4659-8755-7345f786d020","type":"basic.input","data":{"name":"Inp"},"position":{"x":95,"y":326}},{"id":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","type":"basic.input","data":{"name":"E"},"position":{"x":97,"y":461}},{"id":"39a8514c-d896-4fd5-baab-db2c63d705d9","type":"basic.output","data":{"name":"Out"},"position":{"x":1051,"y":387}}],"wires":[{"source":{"block":"0001-7796e143-c469-4100-bcab-cc361cc7c63c","port":"constant-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"Frequency"}},{"source":{"block":"0002-7604b3ea-b8f5-46cd-9dbc-488b1aef03ab","port":"constant-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"LowerRGB"}},{"source":{"block":"0003-7c5633b7-f71c-4f95-b9f7-7bbe323d01cc","port":"constant-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"UpperRGB"}},{"source":{"block":"d8343aa6-fd44-4659-8755-7345f786d020","port":"input-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"Inp"}},{"source":{"block":"d1c9d06b-fc0b-42d6-9404-fef4dc73f221","port":"input-out"},"target":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"E"}},{"source":{"block":"7af96344-fe3e-4e18-808e-be4207227877","port":"Out"},"target":{"block":"39a8514c-d896-4fd5-baab-db2c63d705d9","port":"output-in"}}]}}}}}